steal.loading('webapp/core/finfore.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/lib/iscroll.js','webapp/views/desktop.tmpl','webapp/views/tab-button.tmpl','webapp/views/tab-view.tmpl','webapp/views/tab-option.tmpl','webapp/views/login.tmpl','webapp/views/profile.tmpl','webapp/views/panel.controlgroup.tmpl','webapp/views/manage.tmpl','webapp/views/manage.feed-infos.tmpl','webapp/views/manage.panels.tmpl','webapp/views/manage.source.tmpl','webapp/views/signup.tmpl','webapp/views/addcompany.tmpl','webapp/views/help.tmpl','webapp/core/core.js','webapp/core/desktop.js','webapp/core/manage.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/profile.js','webapp/core/addcompany.js','webapp/core/help.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.feed.management.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.podcast.management.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.twitter.management.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.prices.management.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.portfolio.management.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.linkedin.management.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.management.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/production/production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/base.css','webapp/css/management.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){jQuery.support.cors=true;$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.mobile.allowCrossDomainPages=true})}).then("//webapp/lib/jquery.mobile.js","//webapp/lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js",
"//webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js","//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery-impromptu.3.1.js","//webapp/lib/iscroll.js").then("//webapp/views/desktop.tmpl","//webapp/views/tab-button.tmpl","//webapp/views/tab-view.tmpl","//webapp/views/tab-option.tmpl","//webapp/views/login.tmpl","//webapp/views/profile.tmpl","//webapp/views/panel.controlgroup.tmpl","//webapp/views/manage.tmpl","//webapp/views/manage.feed-infos.tmpl",
"//webapp/views/manage.panels.tmpl","//webapp/views/manage.source.tmpl","//webapp/views/signup.tmpl","//webapp/views/addcompany.tmpl","//webapp/views/help.tmpl").then("../lib/mediaelement/mediaelementplayer.css","../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/base.css").then("../css/management.css").then("./core.js").then("./desktop.js","./manage.js","./login.js","./signup.js","./profile.js","./addcompany.js","./help.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl",
"//webapp/views/module.feed.management.tmpl","//webapp/views/module.podcast.tmpl","//webapp/views/module.podcast.management.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.twitter.management.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.prices.management.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.portfolio.management.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl",
"//webapp/views/module.linkedin.management.tmpl","//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.management.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js","../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){typeof window.hideBrowserNotice!="function"&&finfore.init()});steal.loaded("webapp/core/finfore.js");
steal("jquery/view").then(function(){function f(E,O,V,Y){Y={data:Y||(O?O.data:{}),_wrap:O?O._wrap:null,tmpl:null,parent:O||null,nodes:[],calls:q,nest:o,wrap:v,html:x,update:B};E&&jQuery.extend(Y,E,{nodes:[],parent:O});if(V){Y.tmpl=V;Y._ctnt=Y._ctnt||Y.tmpl(jQuery,Y);Y.key=++r;(H.length?A:G)[r]=Y}return Y}function d(E,O,V){var Y;V=V?jQuery.map(V,function(ka){return typeof ka==="string"?E.key?ka.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+L+'="'+E.key+'" $2'):ka:d(ka,E,ka._ctnt)}):E;if(O)return V;
V=V.join("");V.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(ka,na,M,R){Y=jQuery(M).get();h(Y);if(na)Y=e(na).concat(Y);if(R)Y=Y.concat(e(R))});return Y?Y:e(V)}function e(E){var O=document.createElement("div");O.innerHTML=E;return jQuery.makeArray(O.childNodes)}function a(E){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(E).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(O,V,Y,ka,na,M,R){O=jQuery.tmpl.tag[Y];if(!O)throw"Template command not found: "+Y;Y=O._default||[];if(M&&!/\w$/.test(na)){na+=M;M=""}if(na){na=j(na);R=R?","+j(R)+")":M?")":"";R=M?na.indexOf(".")>-1?na+M:"("+na+").call($item"+R:na;M=M?R:"(typeof("+na+")==='function'?("+na+").call($item):("+na+"))"}else M=R=Y.$1||"null";ka=j(ka);return"');"+O[V?"close":"open"].split("$notnull_1").join(na?"typeof("+na+")!=='undefined' && ("+na+")!=null":"true").split("$1a").join(M).split("$1").join(R).split("$2").join(ka?
ka.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(Z,ma,U,qa){return(qa=qa?","+qa+")":U?")":"")?"("+ma+").call($item"+qa:Z}):Y.$2||"")+"_.push('"})+"');}return _;")}function c(E,O){E._wrap=d(E,true,jQuery.isArray(O)?O:[D.test(O)?O:jQuery(O).html()]).join("")}function j(E){return E?E.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function n(E){var O=document.createElement("div");O.appendChild(E.cloneNode(true));return O.innerHTML}function h(E){function O(ma){function U(Ca){Ca+=V;p=na[Ca]=na[Ca]||f(p,
G[p.parent.key+V]||p.parent,null,true)}var qa,ra=ma,p,va;if(va=ma.getAttribute(L)){for(;ra.parentNode&&(ra=ra.parentNode).nodeType===1&&!(qa=ra.getAttribute(L)););if(qa!==va){ra=ra.parentNode?ra.nodeType===11?0:ra.getAttribute(L)||0:0;if(!(p=G[va])){p=A[va];p=f(p,G[ra]||A[ra],null,true);p.key=++r;G[r]=p}F&&U(va)}ma.removeAttribute(L)}else if(F&&(p=jQuery.data(ma,"tmplItem"))){U(p.key);G[p.key]=p;ra=(ra=jQuery.data(ma.parentNode,"tmplItem"))?ra.key:0}if(p){for(qa=p;qa&&qa.key!=ra;){qa.nodes.push(ma);
qa=qa.parent}delete p._ctnt;delete p._wrap;jQuery.data(ma,"tmplItem",p)}}var V="_"+F,Y,ka,na={},M,R,Z;M=0;for(R=E.length;M<R;M++)if((Y=E[M]).nodeType===1){ka=Y.getElementsByTagName("*");for(Z=ka.length-1;Z>=0;Z--)O(ka[Z]);O(Y)}}function q(E,O,V,Y){if(!E)return H.pop();H.push({_:E,tmpl:O,item:this,data:V,options:Y})}function o(E,O,V){return jQuery.tmpl(jQuery.template(E),O,V,this)}function v(E,O){var V=E.options||{};V.wrapped=O;return jQuery.tmpl(jQuery.template(E.tmpl),E.data,V,E.item)}function x(E,
O){var V=this._wrap;return jQuery.map(jQuery(jQuery.isArray(V)?V.join(""):V).filter(E||"*"),function(Y){return O?Y.innerText||Y.textContent:Y.outerHTML||n(Y)})}function B(){var E=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(E[0]);jQuery(E).remove()}var J=jQuery.fn.domManip,L="_tmplitem",D=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,G={},A={},C,t={key:0,data:{}},r=0,F=0,H=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(E,
O){jQuery.fn[E]=function(V){var Y=[];V=jQuery(V);var ka,na,M;ka=this.length===1&&this[0].parentNode;C=G||{};if(ka&&ka.nodeType===11&&ka.childNodes.length===1&&V.length===1){V[O](this[0]);Y=this}else{na=0;for(M=V.length;na<M;na++){F=na;ka=(na>0?this.clone(true):this).get();jQuery.fn[O].apply(jQuery(V[na]),ka);Y=Y.concat(ka)}F=0;Y=this.pushStack(Y,E,V.selector)}V=C;C=null;jQuery.tmpl.complete(V);return Y}});jQuery.fn.extend({tmpl:function(E,O,V){return jQuery.tmpl(this[0],E,O,V)},tmplItem:function(){return jQuery.tmplItem(this[0])},
template:function(E){return jQuery.template(E,this[0])},domManip:function(E,O,V){if(E[0]&&E[0].nodeType){for(var Y=jQuery.makeArray(arguments),ka=E.length,na=0,M;na<ka&&!(M=jQuery.data(E[na++],"tmplItem")););if(ka>1)Y[0]=[jQuery.makeArray(E)];if(M&&F)Y[2]=function(R){jQuery.tmpl.afterManip(this,R,V)};J.apply(this,Y)}else J.apply(this,arguments);F=0;C||jQuery.tmpl.complete(G);return this}});jQuery.extend({tmpl:function(E,O,V,Y){var ka=!Y;if(ka){Y=t;E=jQuery.template[E]||jQuery.template(null,E);A={}}else if(!E){E=
Y.tmpl;G[Y.key]=Y;Y.nodes=[];Y.wrapped&&c(Y,Y.wrapped);return jQuery(d(Y,null,Y.tmpl(jQuery,Y)))}if(!E)return[];if(typeof O==="function")O=O.call(Y||{});V&&V.wrapped&&c(V,V.wrapped);O=jQuery.isArray(O)?jQuery.map(O,function(na){return na?f(V,Y,E,na):null}):[f(V,Y,E,O)];return ka?jQuery(d(Y,null,O)):O},tmplItem:function(E){var O;if(E instanceof jQuery)E=E[0];for(;E&&E.nodeType===1&&!(O=jQuery.data(E,"tmplItem"))&&(E=E.parentNode););return O||t},template:function(E,O){if(O){if(typeof O==="string")O=
a(O);else if(O instanceof jQuery)O=O[0]||{};if(O.nodeType)O=jQuery.data(O,"tmpl")||jQuery.data(O,"tmpl",a(O.innerHTML));return typeof E==="string"?(jQuery.template[E]=O):O}return E?typeof E!=="string"?jQuery.template(null,E):jQuery.template[E]||jQuery.template(null,D.test(E)?E:jQuery(E)):null},encode:function(E){return(""+E).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},
wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){G=
{}},afterManip:function(E,O,V){var Y=O.nodeType===11?jQuery.makeArray(O.childNodes):O.nodeType===1?[O]:[];V.call(E,O);h(Y);F++}});$.View.register({suffix:"tmpl",renderer:function(E,O){var V=$.template(null,O);return function(Y){return V.call($,$,{data:Y}).join("")}},script:function(E,O){return"function(data){return ("+$.template(null,O)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(f){var d=function(C){return C.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=f.makeArray,a=1,c=f.View=function(C,t,r,F){if(typeof r==="function"){F=r;r=undefined}var H=q(t);if(H.length){var E=f.Deferred();H.push(n(C,true));f.when.apply(f,H).then(function(V){var Y=e(arguments),ka=Y.pop()[0];if(h(t))t=o(V);else for(var na in t)if(h(t[na]))t[na]=o(Y.shift());Y=ka(t,r);E.resolve(Y);F&&F(Y)});return E.promise()}else{var O;H=typeof F==="function";E=n(C,H);if(H){O=E;E.done(function(V){F(V(t,
r))})}else E.done(function(V){O=V(t,r)});return O}},j=function(C,t){if(!C.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+t;},n=function(C,t){return f.ajax({url:C,dataType:"view",async:t})},h=function(C){return C&&f.isFunction(C.always)},q=function(C){var t=[];if(h(C))return[C];else for(var r in C)h(C[r])&&t.push(C[r]);return t},o=function(C){return f.isArray(C)&&C.length===3&&C[1]==="success"?C[0]:C};f.ajaxTransport("view",function(C,t){var r=t.url;C=r.match(/\.[\w\d]+$/);
var F,H,E,O,V=function(ka){ka=F.renderer(E,ka);if(c.cache)c.cached[E]=ka;return{view:ka}};if(H=document.getElementById(r))C="."+H.type.match(/\/(x\-)?(.+)/)[2];if(!C){C=c.ext;r+=c.ext}E=d(r);if(r.match(/^\/\//)){var Y=r.substr(2);r=typeof steal==="undefined"?(r="/"+Y):steal.root.mapJoin(Y)+""}F=c.types[C];return{send:function(ka,na){if(c.cached[E])return na(200,"success",{view:c.cached[E]});else if(H)na(200,"success",V(H.innerHTML));else O=f.ajax({async:t.async,url:r,dataType:"text",error:function(){j("",
r);na(404)},success:function(M){j(M,r);na(200,"success",V(M))}})},abort:function(){O&&O.abort()}}});f.extend(c,{hookups:{},hookup:function(C){var t=++a;c.hookups[t]=C;return t},cached:{},cache:true,register:function(C){this.types["."+C.suffix]=C;window.steal&&steal.type(C.suffix+" view js",function(t,r){var F=c.types["."+t.type],H=d(t.rootSrc+"");t.text=F.script(H,t.text);r()})},types:{},ext:".ejs",registerScript:function(C,t,r){return"$.View.preload('"+t+"',"+c.types["."+C].script(t,r)+");"},preload:function(C,
t){c.cached[C]=function(r,F){return t.call(r,r,F)}}});window.steal&&steal.type("view js",function(C,t){var r=c.types["."+C.type],F=d(C.rootSrc+"");C.text="steal('"+(r.plugin||"jquery/view/"+C.type)+"').then(function($){$.View.preload('"+F+"',"+C.text+");\n})";t()});var v,x,B,J,L,D,G,A={val:true,text:true};v=function(C){var t=f.fn[C];f.fn[C]=function(){var r=e(arguments),F,H,E=this;if(h(r[0])){r[0].done(function(O){x.call(E,[O],t)});return this}else if(B(r)){if(F=D(r)){H=r[F];r[F]=function(O){x.call(E,
[O],t);H.call(E,O)};c.apply(c,r);return this}r=c.apply(c,r);if(h(r)){r.done(function(O){x.call(E,[O],t)});return this}else r=[r]}return A[C]?t.apply(this,r):x.call(this,r,t)}};x=function(C,t){var r;for(var F in c.hookups)break;if(F&&C[0]&&J(C[0])){r=c.hookups;c.hookups={};C[0]=f(C[0])}t=t.apply(this,C);r&&G(C[0],r);return t};B=function(C){var t=typeof C[1];return typeof C[0]=="string"&&(t=="object"||t=="function")&&!L(C[1])};L=function(C){return C.nodeType||C.jquery};J=function(C){if(L(C))return true;
else if(typeof C==="string"){C=f.trim(C);return C.substr(0,1)==="<"&&C.substr(C.length-1,1)===">"&&C.length>=3}else return false};D=function(C){return typeof C[3]==="function"?3:typeof C[2]==="function"&&2};G=function(C,t){var r,F=0,H,E;C=C.filter(function(){return this.nodeType!=3});C=C.add("[data-view-id]",C);for(r=C.length;F<r;F++)if(C[F].getAttribute&&(H=C[F].getAttribute("data-view-id"))&&(E=t[H])){E(C[F],H);delete t[H];C[F].removeAttribute("data-view-id")}f.extend(c.hookups,t)};f.fn.hookup=
function(){var C=c.hookups;c.hookups={};G(this,C);return this};f.each(["prepend","append","after","before","text","html","replaceWith","val"],function(C,t){v(t)})});steal.loaded("jquery/view/view.js");
(function(f,d){function e(g){var k=va[g]={},s,u;g=g.split(/\s+/);s=0;for(u=g.length;s<u;s++)k[g[s]]=true;return k}function a(g,k,s){if(s===d&&g.nodeType===1){s="data-"+k.replace(za,"-$1").toLowerCase();s=g.getAttribute(s);if(typeof s==="string"){try{s=s==="true"?true:s==="false"?false:s==="null"?null:p.isNumeric(s)?parseFloat(s):Fa.test(s)?p.parseJSON(s):s}catch(u){}p.data(g,k,s)}else s=d}return s}function c(g){for(var k in g)if(!(k==="data"&&p.isEmptyObject(g[k])))if(k!=="toJSON")return false;return true}
function j(g,k,s){var u=k+"defer",w=k+"queue",y=k+"mark",K=p._data(g,u);if(K&&(s==="queue"||!p._data(g,w))&&(s==="mark"||!p._data(g,y)))setTimeout(function(){if(!p._data(g,w)&&!p._data(g,y)){p.removeData(g,u,true);K.fire()}},0)}function n(){return false}function h(){return true}function q(g){return!g||!g.parentNode||g.parentNode.nodeType===11}function o(g,k,s){k=k||0;if(p.isFunction(k))return p.grep(g,function(w,y){return!!k.call(w,y,w)===s});else if(k.nodeType)return p.grep(g,function(w){return w===
k===s});else if(typeof k==="string"){var u=p.grep(g,function(w){return w.nodeType===1});if(Db.test(k))return p.filter(k,u,!s);else k=p.filter(k,u)}return p.grep(g,function(w){return p.inArray(w,k)>=0===s})}function v(g){var k=hb.split("|");g=g.createDocumentFragment();if(g.createElement)for(;k.length;)g.createElement(k.pop());return g}function x(g){return p.nodeName(g,"table")?g.getElementsByTagName("tbody")[0]||g.appendChild(g.ownerDocument.createElement("tbody")):g}function B(g,k){if(!(k.nodeType!==
1||!p.hasData(g))){var s,u,w;u=p._data(g);g=p._data(k,u);var y=u.events;if(y){delete g.handle;g.events={};for(s in y){u=0;for(w=y[s].length;u<w;u++)p.event.add(k,s+(y[s][u].namespace?".":"")+y[s][u].namespace,y[s][u],y[s][u].data)}}if(g.data)g.data=p.extend({},g.data)}}function J(g,k){var s;if(k.nodeType===1){k.clearAttributes&&k.clearAttributes();k.mergeAttributes&&k.mergeAttributes(g);s=k.nodeName.toLowerCase();if(s==="object")k.outerHTML=g.outerHTML;else if(s==="input"&&(g.type==="checkbox"||g.type===
"radio")){if(g.checked)k.defaultChecked=k.checked=g.checked;if(k.value!==g.value)k.value=g.value}else if(s==="option")k.selected=g.defaultSelected;else if(s==="input"||s==="textarea")k.defaultValue=g.defaultValue;k.removeAttribute(p.expando)}}function L(g){return typeof g.getElementsByTagName!=="undefined"?g.getElementsByTagName("*"):typeof g.querySelectorAll!=="undefined"?g.querySelectorAll("*"):[]}function D(g){if(g.type==="checkbox"||g.type==="radio")g.defaultChecked=g.checked}function G(g){var k=
(g.nodeName||"").toLowerCase();if(k==="input")D(g);else k!=="script"&&typeof g.getElementsByTagName!=="undefined"&&p.grep(g.getElementsByTagName("input"),D)}function A(g){var k=U.createElement("div");ib.appendChild(k);k.innerHTML=g.outerHTML;return k.firstChild}function C(g,k){k.src?p.ajax({url:k.src,async:false,dataType:"script"}):p.globalEval((k.text||k.textContent||k.innerHTML||"").replace(Eb,"/*$0*/"));k.parentNode&&k.parentNode.removeChild(k)}function t(g,k,s){var u=k==="width"?g.offsetWidth:
g.offsetHeight,w=k==="width"?Fb:Gb,y=0,K=w.length;if(u>0){if(s!=="border")for(;y<K;y++){s||(u-=parseFloat(p.css(g,"padding"+w[y]))||0);if(s==="margin")u+=parseFloat(p.css(g,s+w[y]))||0;else u-=parseFloat(p.css(g,"border"+w[y]+"Width"))||0}return u+"px"}u=Va(g,k,k);if(u<0||u==null)u=g.style[k]||0;u=parseFloat(u)||0;if(s)for(;y<K;y++){u+=parseFloat(p.css(g,"padding"+w[y]))||0;if(s!=="padding")u+=parseFloat(p.css(g,"border"+w[y]+"Width"))||0;if(s==="margin")u+=parseFloat(p.css(g,s+w[y]))||0}return u+
"px"}function r(g){return function(k,s){if(typeof k!=="string"){s=k;k="*"}if(p.isFunction(s)){k=k.toLowerCase().split(jb);for(var u=0,w=k.length,y,K;u<w;u++){y=k[u];if(K=/^\+/.test(y))y=y.substr(1)||"*";y=g[y]=g[y]||[];y[K?"unshift":"push"](s)}}}}function F(g,k,s,u,w,y){w=w||k.dataTypes[0];y=y||{};y[w]=true;w=g[w];for(var K=0,N=w?w.length:0,P=g===bb,S;K<N&&(P||!S);K++){S=w[K](k,s,u);if(typeof S==="string")if(!P||y[S])S=d;else{k.dataTypes.unshift(S);S=F(g,k,s,u,S,y)}}if((P||!S)&&!y["*"])S=F(g,k,s,
u,"*",y);return S}function H(g,k){var s,u,w=p.ajaxSettings.flatOptions||{};for(s in k)if(k[s]!==d)(w[s]?g:u||(u={}))[s]=k[s];u&&p.extend(true,g,u)}function E(g,k,s,u){if(p.isArray(k))p.each(k,function(y,K){s||Hb.test(g)?u(g,K):E(g+"["+(typeof K==="object"||p.isArray(K)?y:"")+"]",K,s,u)});else if(!s&&k!=null&&typeof k==="object")for(var w in k)E(g+"["+w+"]",k[w],s,u);else u(g,k)}function O(g,k,s){var u=g.contents,w=g.dataTypes,y=g.responseFields,K,N,P,S;for(N in y)if(N in s)k[y[N]]=s[N];for(;w[0]===
"*";){w.shift();if(K===d)K=g.mimeType||k.getResponseHeader("content-type")}if(K)for(N in u)if(u[N]&&u[N].test(K)){w.unshift(N);break}if(w[0]in s)P=w[0];else{for(N in s){if(!w[0]||g.converters[N+" "+w[0]]){P=N;break}S||(S=N)}P=P||S}if(P){P!==w[0]&&w.unshift(P);return s[P]}}function V(g,k){if(g.dataFilter)k=g.dataFilter(k,g.dataType);var s=g.dataTypes,u={},w,y,K=s.length,N,P=s[0],S,ea,X,ha,da;for(w=1;w<K;w++){if(w===1)for(y in g.converters)if(typeof y==="string")u[y.toLowerCase()]=g.converters[y];S=
P;P=s[w];if(P==="*")P=S;else if(S!=="*"&&S!==P){ea=S+" "+P;X=u[ea]||u["* "+P];if(!X){da=d;for(ha in u){N=ha.split(" ");if(N[0]===S||N[0]==="*")if(da=u[N[1]+" "+P]){ha=u[ha];if(ha===true)X=da;else if(da===true)X=ha;break}}}X||da||p.error("No conversion from "+ea.replace(" "," to "));if(X!==true)k=X?X(k):da(ha(k))}}return k}function Y(){try{return new f.XMLHttpRequest}catch(g){}}function ka(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}function na(){setTimeout(M,0);return Za=p.now()}
function M(){Za=d}function R(g,k){var s={};p.each(kb.concat.apply([],kb.slice(0,k)),function(){s[this]=g});return s}function Z(g){if(!cb[g]){var k=U.body,s=p("<"+g+">").appendTo(k),u=s.css("display");s.remove();if(u==="none"||u===""){if(!Oa){Oa=U.createElement("iframe");Oa.frameBorder=Oa.width=Oa.height=0}k.appendChild(Oa);if(!Wa||!Oa.createElement){Wa=(Oa.contentWindow||Oa.contentDocument).document;Wa.write((U.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Wa.close()}s=Wa.createElement(g);
Wa.body.appendChild(s);u=p.css(s,"display");k.removeChild(Oa)}cb[g]=u}return cb[g]}function ma(g){return p.isWindow(g)?g:g.nodeType===9?g.defaultView||g.parentWindow:false}var U=f.document,qa=f.navigator,ra=f.location,p=function(){function g(){if(!k.isReady){try{U.documentElement.doScroll("left")}catch(Q){setTimeout(g,1);return}k.ready()}}var k=function(Q,ba){return new k.fn.init(Q,ba,w)},s=f.jQuery,u=f.$,w,y=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,K=/\S/,N=/^\s+/,P=/\s+$/,S=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
ea=/^[\],:{}\s]*$/,X=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,ha=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,da=/(?:^|:|,)(?:\s*\[)+/g,sa=/(webkit)[ \/]([\w.]+)/,Aa=/(opera)(?:.*version)?[ \/]([\w.]+)/,Da=/(msie) ([\w.]+)/,Ba=/(mozilla)(?:.*? rv:([\w.]+))?/,Qa=/-([a-z]|[0-9])/ig,ta=/^-ms-/,Pa=function(Q,ba){return(ba+"").toUpperCase()},Na=qa.userAgent,z,I,T=Object.prototype.toString,W=Object.prototype.hasOwnProperty,aa=Array.prototype.push,ca=Array.prototype.slice,ia=String.prototype.trim,
la=Array.prototype.indexOf,wa={};k.fn=k.prototype={constructor:k,init:function(Q,ba,ja){var fa;if(!Q)return this;if(Q.nodeType){this.context=this[0]=Q;this.length=1;return this}if(Q==="body"&&!ba&&U.body){this.context=U;this[0]=U.body;this.selector=Q;this.length=1;return this}if(typeof Q==="string")if((fa=Q.charAt(0)==="<"&&Q.charAt(Q.length-1)===">"&&Q.length>=3?[null,Q,null]:y.exec(Q))&&(fa[1]||!ba))if(fa[1]){ja=(ba=ba instanceof k?ba[0]:ba)?ba.ownerDocument||ba:U;if(Q=S.exec(Q))if(k.isPlainObject(ba)){Q=
[U.createElement(Q[1])];k.fn.attr.call(Q,ba,true)}else Q=[ja.createElement(Q[1])];else{Q=k.buildFragment([fa[1]],[ja]);Q=(Q.cacheable?k.clone(Q.fragment):Q.fragment).childNodes}return k.merge(this,Q)}else{if((ba=U.getElementById(fa[2]))&&ba.parentNode){if(ba.id!==fa[2])return ja.find(Q);this.length=1;this[0]=ba}this.context=U;this.selector=Q;return this}else return!ba||ba.jquery?(ba||ja).find(Q):this.constructor(ba).find(Q);else if(k.isFunction(Q))return ja.ready(Q);if(Q.selector!==d){this.selector=
Q.selector;this.context=Q.context}return k.makeArray(Q,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return ca.call(this,0)},get:function(Q){return Q==null?this.toArray():Q<0?this[this.length+Q]:this[Q]},pushStack:function(Q,ba,ja){var fa=this.constructor();k.isArray(Q)?aa.apply(fa,Q):k.merge(fa,Q);fa.prevObject=this;fa.context=this.context;if(ba==="find")fa.selector=this.selector+(this.selector?" ":"")+ja;else if(ba)fa.selector=this.selector+"."+
ba+"("+ja+")";return fa},each:function(Q,ba){return k.each(this,Q,ba)},ready:function(Q){k.bindReady();z.add(Q);return this},eq:function(Q){Q=+Q;return Q===-1?this.slice(Q):this.slice(Q,Q+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ca.apply(this,arguments),"slice",ca.call(arguments).join(","))},map:function(Q){return this.pushStack(k.map(this,function(ba,ja){return Q.call(ba,ja,ba)}))},end:function(){return this.prevObject||this.constructor(null)},
push:aa,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var Q,ba,ja,fa,xa,ua=arguments[0]||{},Ea=1,Ga=arguments.length,db=false;if(typeof ua==="boolean"){db=ua;ua=arguments[1]||{};Ea=2}if(typeof ua!=="object"&&!k.isFunction(ua))ua={};if(Ga===Ea){ua=this;--Ea}for(;Ea<Ga;Ea++)if((Q=arguments[Ea])!=null)for(ba in Q){ja=ua[ba];fa=Q[ba];if(ua!==fa)if(db&&fa&&(k.isPlainObject(fa)||(xa=k.isArray(fa)))){if(xa){xa=false;ja=ja&&k.isArray(ja)?ja:[]}else ja=ja&&k.isPlainObject(ja)?
ja:{};ua[ba]=k.extend(db,ja,fa)}else if(fa!==d)ua[ba]=fa}return ua};k.extend({noConflict:function(Q){if(f.$===k)f.$=u;if(Q&&f.jQuery===k)f.jQuery=s;return k},isReady:false,readyWait:1,holdReady:function(Q){if(Q)k.readyWait++;else k.ready(true)},ready:function(Q){if(Q===true&&!--k.readyWait||Q!==true&&!k.isReady){if(!U.body)return setTimeout(k.ready,1);k.isReady=true;if(!(Q!==true&&--k.readyWait>0)){z.fireWith(U,[k]);k.fn.trigger&&k(U).trigger("ready").off("ready")}}},bindReady:function(){if(!z){z=
k.Callbacks("once memory");if(U.readyState==="complete")return setTimeout(k.ready,1);if(U.addEventListener){U.addEventListener("DOMContentLoaded",I,false);f.addEventListener("load",k.ready,false)}else if(U.attachEvent){U.attachEvent("onreadystatechange",I);f.attachEvent("onload",k.ready);var Q=false;try{Q=f.frameElement==null}catch(ba){}U.documentElement.doScroll&&Q&&g()}}},isFunction:function(Q){return k.type(Q)==="function"},isArray:Array.isArray||function(Q){return k.type(Q)==="array"},isWindow:function(Q){return Q&&
typeof Q==="object"&&"setInterval"in Q},isNumeric:function(Q){return!isNaN(parseFloat(Q))&&isFinite(Q)},type:function(Q){return Q==null?String(Q):wa[T.call(Q)]||"object"},isPlainObject:function(Q){if(!Q||k.type(Q)!=="object"||Q.nodeType||k.isWindow(Q))return false;try{if(Q.constructor&&!W.call(Q,"constructor")&&!W.call(Q.constructor.prototype,"isPrototypeOf"))return false}catch(ba){return false}var ja;for(ja in Q);return ja===d||W.call(Q,ja)},isEmptyObject:function(Q){for(var ba in Q)return false;
return true},error:function(Q){throw new Error(Q);},parseJSON:function(Q){if(typeof Q!=="string"||!Q)return null;Q=k.trim(Q);if(f.JSON&&f.JSON.parse)return f.JSON.parse(Q);if(ea.test(Q.replace(X,"@").replace(ha,"]").replace(da,"")))return(new Function("return "+Q))();k.error("Invalid JSON: "+Q)},parseXML:function(Q){var ba,ja;try{if(f.DOMParser){ja=new DOMParser;ba=ja.parseFromString(Q,"text/xml")}else{ba=new ActiveXObject("Microsoft.XMLDOM");ba.async="false";ba.loadXML(Q)}}catch(fa){ba=d}if(!ba||
!ba.documentElement||ba.getElementsByTagName("parsererror").length)k.error("Invalid XML: "+Q);return ba},noop:function(){},globalEval:function(Q){if(Q&&K.test(Q))(f.execScript||function(ba){f.eval.call(f,ba)})(Q)},camelCase:function(Q){return Q.replace(ta,"ms-").replace(Qa,Pa)},nodeName:function(Q,ba){return Q.nodeName&&Q.nodeName.toUpperCase()===ba.toUpperCase()},each:function(Q,ba,ja){var fa,xa=0,ua=Q.length,Ea=ua===d||k.isFunction(Q);if(ja)if(Ea)for(fa in Q){if(ba.apply(Q[fa],ja)===false)break}else for(;xa<
ua;){if(ba.apply(Q[xa++],ja)===false)break}else if(Ea)for(fa in Q){if(ba.call(Q[fa],fa,Q[fa])===false)break}else for(;xa<ua;)if(ba.call(Q[xa],xa,Q[xa++])===false)break;return Q},trim:ia?function(Q){return Q==null?"":ia.call(Q)}:function(Q){return Q==null?"":Q.toString().replace(N,"").replace(P,"")},makeArray:function(Q,ba){ba=ba||[];if(Q!=null){var ja=k.type(Q);Q.length==null||ja==="string"||ja==="function"||ja==="regexp"||k.isWindow(Q)?aa.call(ba,Q):k.merge(ba,Q)}return ba},inArray:function(Q,ba,
ja){var fa;if(ba){if(la)return la.call(ba,Q,ja);fa=ba.length;for(ja=ja?ja<0?Math.max(0,fa+ja):ja:0;ja<fa;ja++)if(ja in ba&&ba[ja]===Q)return ja}return-1},merge:function(Q,ba){var ja=Q.length,fa=0;if(typeof ba.length==="number")for(var xa=ba.length;fa<xa;fa++)Q[ja++]=ba[fa];else for(;ba[fa]!==d;)Q[ja++]=ba[fa++];Q.length=ja;return Q},grep:function(Q,ba,ja){var fa=[],xa;ja=!!ja;for(var ua=0,Ea=Q.length;ua<Ea;ua++){xa=!!ba(Q[ua],ua);ja!==xa&&fa.push(Q[ua])}return fa},map:function(Q,ba,ja){var fa,xa,
ua=[],Ea=0,Ga=Q.length;if(Q instanceof k||Ga!==d&&typeof Ga==="number"&&(Ga>0&&Q[0]&&Q[Ga-1]||Ga===0||k.isArray(Q)))for(;Ea<Ga;Ea++){fa=ba(Q[Ea],Ea,ja);if(fa!=null)ua[ua.length]=fa}else for(xa in Q){fa=ba(Q[xa],xa,ja);if(fa!=null)ua[ua.length]=fa}return ua.concat.apply([],ua)},guid:1,proxy:function(Q,ba){if(typeof ba==="string"){var ja=Q[ba];ba=Q;Q=ja}if(!k.isFunction(Q))return d;var fa=ca.call(arguments,2);ja=function(){return Q.apply(ba,fa.concat(ca.call(arguments)))};ja.guid=Q.guid=Q.guid||ja.guid||
k.guid++;return ja},access:function(Q,ba,ja,fa,xa,ua){var Ea=Q.length;if(typeof ba==="object"){for(var Ga in ba)k.access(Q,Ga,ba[Ga],fa,xa,ja);return Q}if(ja!==d){fa=!ua&&fa&&k.isFunction(ja);for(Ga=0;Ga<Ea;Ga++)xa(Q[Ga],ba,fa?ja.call(Q[Ga],Ga,xa(Q[Ga],ba)):ja,ua);return Q}return Ea?xa(Q[0],ba):d},now:function(){return(new Date).getTime()},uaMatch:function(Q){Q=Q.toLowerCase();Q=sa.exec(Q)||Aa.exec(Q)||Da.exec(Q)||Q.indexOf("compatible")<0&&Ba.exec(Q)||[];return{browser:Q[1]||"",version:Q[2]||"0"}},
sub:function(){function Q(ja,fa){return new Q.fn.init(ja,fa)}k.extend(true,Q,this);Q.superclass=this;Q.fn=Q.prototype=this();Q.fn.constructor=Q;Q.sub=this.sub;Q.fn.init=function(ja,fa){if(fa&&fa instanceof k&&!(fa instanceof Q))fa=Q(fa);return k.fn.init.call(this,ja,fa,ba)};Q.fn.init.prototype=Q.fn;var ba=Q(U);return Q},browser:{}});k.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(Q,ba){wa["[object "+ba+"]"]=ba.toLowerCase()});Na=k.uaMatch(Na);if(Na.browser){k.browser[Na.browser]=
true;k.browser.version=Na.version}if(k.browser.webkit)k.browser.safari=true;if(K.test("\u00a0")){N=/^[\s\xA0]+/;P=/[\s\xA0]+$/}w=k(U);if(U.addEventListener)I=function(){U.removeEventListener("DOMContentLoaded",I,false);k.ready()};else if(U.attachEvent)I=function(){if(U.readyState==="complete"){U.detachEvent("onreadystatechange",I);k.ready()}};return k}(),va={};p.Callbacks=function(g){g=g?va[g]||e(g):{};var k=[],s=[],u,w,y,K,N,P=function(X){var ha,da,sa,Aa;ha=0;for(da=X.length;ha<da;ha++){sa=X[ha];
Aa=p.type(sa);if(Aa==="array")P(sa);else if(Aa==="function")if(!g.unique||!ea.has(sa))k.push(sa)}},S=function(X,ha){ha=ha||[];u=!g.memory||[X,ha];w=true;N=y||0;y=0;for(K=k.length;k&&N<K;N++)if(k[N].apply(X,ha)===false&&g.stopOnFalse){u=true;break}w=false;if(k)if(g.once)if(u===true)ea.disable();else k=[];else if(s&&s.length){u=s.shift();ea.fireWith(u[0],u[1])}},ea={add:function(){if(k){var X=k.length;P(arguments);if(w)K=k.length;else if(u&&u!==true){y=X;S(u[0],u[1])}}return this},remove:function(){if(k)for(var X=
arguments,ha=0,da=X.length;ha<da;ha++)for(var sa=0;sa<k.length;sa++)if(X[ha]===k[sa]){if(w)if(sa<=K){K--;sa<=N&&N--}k.splice(sa--,1);if(g.unique)break}return this},has:function(X){if(k)for(var ha=0,da=k.length;ha<da;ha++)if(X===k[ha])return true;return false},empty:function(){k=[];return this},disable:function(){k=s=u=d;return this},disabled:function(){return!k},lock:function(){s=d;if(!u||u===true)ea.disable();return this},locked:function(){return!s},fireWith:function(X,ha){if(s)if(w)g.once||s.push([X,
ha]);else g.once&&u||S(X,ha);return this},fire:function(){ea.fireWith(this,arguments);return this},fired:function(){return!!u}};return ea};var Ca=[].slice;p.extend({Deferred:function(g){var k=p.Callbacks("once memory"),s=p.Callbacks("once memory"),u=p.Callbacks("memory"),w="pending",y={resolve:k,reject:s,notify:u},K={done:k.add,fail:s.add,progress:u.add,state:function(){return w},isResolved:k.fired,isRejected:s.fired,then:function(S,ea,X){N.done(S).fail(ea).progress(X);return this},always:function(){N.done.apply(N,
arguments).fail.apply(N,arguments);return this},pipe:function(S,ea,X){return p.Deferred(function(ha){p.each({done:[S,"resolve"],fail:[ea,"reject"],progress:[X,"notify"]},function(da,sa){var Aa=sa[0],Da=sa[1],Ba;p.isFunction(Aa)?N[da](function(){(Ba=Aa.apply(this,arguments))&&p.isFunction(Ba.promise)?Ba.promise().then(ha.resolve,ha.reject,ha.notify):ha[Da+"With"](this===N?ha:this,[Ba])}):N[da](ha[Da])})}).promise()},promise:function(S){if(S==null)S=K;else for(var ea in K)S[ea]=K[ea];return S}},N=K.promise({}),
P;for(P in y){N[P]=y[P].fire;N[P+"With"]=y[P].fireWith}N.done(function(){w="resolved"},s.disable,u.lock).fail(function(){w="rejected"},k.disable,u.lock);g&&g.call(N,N);return N},when:function(g){function k(ea){return function(X){u[ea]=arguments.length>1?Ca.call(arguments,0):X;--N||P.resolveWith(P,u)}}function s(ea){return function(X){K[ea]=arguments.length>1?Ca.call(arguments,0):X;P.notifyWith(S,K)}}var u=Ca.call(arguments,0),w=0,y=u.length,K=new Array(y),N=y,P=y<=1&&g&&p.isFunction(g.promise)?g:
p.Deferred(),S=P.promise();if(y>1){for(;w<y;w++)if(u[w]&&u[w].promise&&p.isFunction(u[w].promise))u[w].promise().then(k(w),P.reject,s(w));else--N;N||P.resolveWith(P,u)}else if(P!==g)P.resolveWith(P,y?[g]:[]);return S}});p.support=function(){var g,k,s,u,w,y,K,N,P=U.createElement("div");P.setAttribute("className","t");P.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";k=P.getElementsByTagName("*");s=P.getElementsByTagName("a")[0];
if(!k||!k.length||!s)return{};u=U.createElement("select");w=u.appendChild(U.createElement("option"));k=P.getElementsByTagName("input")[0];g={leadingWhitespace:P.firstChild.nodeType===3,tbody:!P.getElementsByTagName("tbody").length,htmlSerialize:!!P.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:s.getAttribute("href")==="/a",opacity:/^0.55/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:k.value==="on",optSelected:w.selected,getSetAttribute:P.className!==
"t",enctype:!!U.createElement("form").enctype,html5Clone:U.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};k.checked=true;g.noCloneChecked=k.cloneNode(true).checked;u.disabled=true;g.optDisabled=!w.disabled;try{delete P.test}catch(S){g.deleteExpando=false}if(!P.addEventListener&&P.attachEvent&&P.fireEvent){P.attachEvent("onclick",
function(){g.noCloneEvent=false});P.cloneNode(true).fireEvent("onclick")}k=U.createElement("input");k.value="t";k.setAttribute("type","radio");g.radioValue=k.value==="t";k.setAttribute("checked","checked");P.appendChild(k);s=U.createDocumentFragment();s.appendChild(P.lastChild);g.checkClone=s.cloneNode(true).cloneNode(true).lastChild.checked;g.appendChecked=k.checked;s.removeChild(k);s.appendChild(P);P.innerHTML="";if(f.getComputedStyle){k=U.createElement("div");k.style.width="0";k.style.marginRight=
"0";P.style.width="2px";P.appendChild(k);g.reliableMarginRight=(parseInt((f.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)===0}if(P.attachEvent)for(K in{submit:1,change:1,focusin:1}){k="on"+K;N=k in P;if(!N){P.setAttribute(k,"return;");N=typeof P[k]==="function"}g[K+"Bubbles"]=N}s.removeChild(P);s=u=w=k=P=k=null;p(function(){var ea,X,ha,da,sa=U.getElementsByTagName("body")[0];if(sa){ea=U.createElement("div");ea.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
sa.insertBefore(ea,sa.firstChild);P=U.createElement("div");ea.appendChild(P);P.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";y=P.getElementsByTagName("td");N=y[0].offsetHeight===0;y[0].style.display="";y[1].style.display="none";g.reliableHiddenOffsets=N&&y[0].offsetHeight===0;P.innerHTML="";P.style.width=P.style.paddingLeft="1px";p.boxModel=g.boxModel=P.offsetWidth===2;if(typeof P.style.zoom!=="undefined"){P.style.display="inline";P.style.zoom=1;g.inlineBlockNeedsLayout=
P.offsetWidth===2;P.style.display="";P.innerHTML="<div style='width:4px;'></div>";g.shrinkWrapBlocks=P.offsetWidth!==2}P.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";P.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
X=P.firstChild;ha=X.firstChild;da={doesNotAddBorder:ha.offsetTop!==5,doesAddBorderForTableAndCells:X.nextSibling.firstChild.firstChild.offsetTop===5};ha.style.position="fixed";ha.style.top="20px";da.fixedPosition=ha.offsetTop===20||ha.offsetTop===15;ha.style.position=ha.style.top="";X.style.overflow="hidden";X.style.position="relative";da.subtractsBorderForOverflowNotVisible=ha.offsetTop===-5;da.doesNotIncludeMarginInBodyOffset=sa.offsetTop!==1;sa.removeChild(ea);P=null;p.extend(g,da)}});return g}();
var Fa=/^(?:\{.*\}|\[.*\])$/,za=/([A-Z])/g;p.extend({cache:{},uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(g){g=g.nodeType?p.cache[g[p.expando]]:g[p.expando];return!!g&&!c(g)},data:function(g,k,s,u){if(p.acceptData(g)){var w;w=p.expando;var y=typeof k==="string",K=g.nodeType,N=K?p.cache:g,P=K?g[w]:g[w]&&w,S=k==="events";if(!((!P||!N[P]||!S&&!u&&!N[P].data)&&y&&s===d)){if(!P)if(K)g[w]=
P=++p.uuid;else P=w;if(!N[P]){N[P]={};if(!K)N[P].toJSON=p.noop}if(typeof k==="object"||typeof k==="function")if(u)N[P]=p.extend(N[P],k);else N[P].data=p.extend(N[P].data,k);w=g=N[P];if(!u){if(!g.data)g.data={};g=g.data}if(s!==d)g[p.camelCase(k)]=s;if(S&&!g[k])return w.events;if(y){s=g[k];if(s==null)s=g[p.camelCase(k)]}else s=g;return s}}},removeData:function(g,k,s){if(p.acceptData(g)){var u,w,y,K=p.expando,N=g.nodeType,P=N?p.cache:g,S=N?g[K]:K;if(P[S]){if(k)if(u=s?P[S]:P[S].data){if(!p.isArray(k))if(k in
u)k=[k];else{k=p.camelCase(k);k=k in u?[k]:k.split(" ")}w=0;for(y=k.length;w<y;w++)delete u[k[w]];if(!(s?c:p.isEmptyObject)(u))return}if(!s){delete P[S].data;if(!c(P[S]))return}if(p.support.deleteExpando||!P.setInterval)delete P[S];else P[S]=null;if(N)if(p.support.deleteExpando)delete g[K];else if(g.removeAttribute)g.removeAttribute(K);else g[K]=null}}},_data:function(g,k,s){return p.data(g,k,s,true)},acceptData:function(g){if(g.nodeName){var k=p.noData[g.nodeName.toLowerCase()];if(k)return!(k===
true||g.getAttribute("classid")!==k)}return true}});p.fn.extend({data:function(g,k){var s,u,w,y=null;if(typeof g==="undefined"){if(this.length){y=p.data(this[0]);if(this[0].nodeType===1&&!p._data(this[0],"parsedAttrs")){u=this[0].attributes;for(var K=0,N=u.length;K<N;K++){w=u[K].name;if(w.indexOf("data-")===0){w=p.camelCase(w.substring(5));a(this[0],w,y[w])}}p._data(this[0],"parsedAttrs",true)}}return y}else if(typeof g==="object")return this.each(function(){p.data(this,g)});s=g.split(".");s[1]=s[1]?
"."+s[1]:"";if(k===d){y=this.triggerHandler("getData"+s[1]+"!",[s[0]]);if(y===d&&this.length){y=p.data(this[0],g);y=a(this[0],g,y)}return y===d&&s[1]?this.data(s[0]):y}else return this.each(function(){var P=p(this),S=[s[0],k];P.triggerHandler("setData"+s[1]+"!",S);p.data(this,g,k);P.triggerHandler("changeData"+s[1]+"!",S)})},removeData:function(g){return this.each(function(){p.removeData(this,g)})}});p.extend({_mark:function(g,k){if(g){k=(k||"fx")+"mark";p._data(g,k,(p._data(g,k)||0)+1)}},_unmark:function(g,
k,s){if(g!==true){s=k;k=g;g=false}if(k){s=s||"fx";var u=s+"mark";if(g=g?0:(p._data(k,u)||1)-1)p._data(k,u,g);else{p.removeData(k,u,true);j(k,s,"mark")}}},queue:function(g,k,s){var u;if(g){k=(k||"fx")+"queue";u=p._data(g,k);if(s)if(!u||p.isArray(s))u=p._data(g,k,p.makeArray(s));else u.push(s);return u||[]}},dequeue:function(g,k){k=k||"fx";var s=p.queue(g,k),u=s.shift(),w={};if(u==="inprogress")u=s.shift();if(u){k==="fx"&&s.unshift("inprogress");p._data(g,k+".run",w);u.call(g,function(){p.dequeue(g,
k)},w)}if(!s.length){p.removeData(g,k+"queue "+k+".run",true);j(g,k,"queue")}}});p.fn.extend({queue:function(g,k){if(typeof g!=="string"){k=g;g="fx"}if(k===d)return p.queue(this[0],g);return this.each(function(){var s=p.queue(this,g,k);g==="fx"&&s[0]!=="inprogress"&&p.dequeue(this,g)})},dequeue:function(g){return this.each(function(){p.dequeue(this,g)})},delay:function(g,k){g=p.fx?p.fx.speeds[g]||g:g;k=k||"fx";return this.queue(k,function(s,u){var w=setTimeout(s,g);u.stop=function(){clearTimeout(w)}})},
clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,k){function s(){--y||u.resolveWith(w,[w])}if(typeof g!=="string"){k=g;g=d}g=g||"fx";var u=p.Deferred(),w=this;k=w.length;var y=1,K=g+"defer",N=g+"queue";g=g+"mark";for(var P;k--;)if(P=p.data(w[k],K,d,true)||(p.data(w[k],N,d,true)||p.data(w[k],g,d,true))&&p.data(w[k],K,p.Callbacks("once memory"),true)){y++;P.add(s)}s();return u.promise()}});var Ia=/[\n\t\r]/g,La=/\s+/,ga=/\r/g,oa=/^(?:button|input)$/i,pa=/^(?:button|input|object|select|textarea)$/i,
ya=/^a(?:rea)?$/i,Ha=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ja=p.support.getSetAttribute,Ka,Ra,Ya;p.fn.extend({attr:function(g,k){return p.access(this,g,k,true,p.attr)},removeAttr:function(g){return this.each(function(){p.removeAttr(this,g)})},prop:function(g,k){return p.access(this,g,k,true,p.prop)},removeProp:function(g){g=p.propFix[g]||g;return this.each(function(){try{this[g]=d;delete this[g]}catch(k){}})},
addClass:function(g){var k,s,u,w,y,K,N;if(p.isFunction(g))return this.each(function(P){p(this).addClass(g.call(this,P,this.className))});if(g&&typeof g==="string"){k=g.split(La);s=0;for(u=this.length;s<u;s++){w=this[s];if(w.nodeType===1)if(!w.className&&k.length===1)w.className=g;else{y=" "+w.className+" ";K=0;for(N=k.length;K<N;K++)~y.indexOf(" "+k[K]+" ")||(y+=k[K]+" ");w.className=p.trim(y)}}}return this},removeClass:function(g){var k,s,u,w,y,K,N;if(p.isFunction(g))return this.each(function(P){p(this).removeClass(g.call(this,
P,this.className))});if(g&&typeof g==="string"||g===d){k=(g||"").split(La);s=0;for(u=this.length;s<u;s++){w=this[s];if(w.nodeType===1&&w.className)if(g){y=(" "+w.className+" ").replace(Ia," ");K=0;for(N=k.length;K<N;K++)y=y.replace(" "+k[K]+" "," ");w.className=p.trim(y)}else w.className=""}}return this},toggleClass:function(g,k){var s=typeof g,u=typeof k==="boolean";if(p.isFunction(g))return this.each(function(w){p(this).toggleClass(g.call(this,w,this.className,k),k)});return this.each(function(){if(s===
"string")for(var w,y=0,K=p(this),N=k,P=g.split(La);w=P[y++];){N=u?N:!K.hasClass(w);K[N?"addClass":"removeClass"](w)}else if(s==="undefined"||s==="boolean"){this.className&&p._data(this,"__className__",this.className);this.className=this.className||g===false?"":p._data(this,"__className__")||""}})},hasClass:function(g){g=" "+g+" ";for(var k=0,s=this.length;k<s;k++)if(this[k].nodeType===1&&(" "+this[k].className+" ").replace(Ia," ").indexOf(g)>-1)return true;return false},val:function(g){var k,s,u,
w=this[0];if(arguments.length){u=p.isFunction(g);return this.each(function(y){var K=p(this);if(this.nodeType===1){y=u?g.call(this,y,K.val()):g;if(y==null)y="";else if(typeof y==="number")y+="";else if(p.isArray(y))y=p.map(y,function(N){return N==null?"":N+""});k=p.valHooks[this.nodeName.toLowerCase()]||p.valHooks[this.type];if(!k||!("set"in k)||k.set(this,y,"value")===d)this.value=y}})}else if(w){if((k=p.valHooks[w.nodeName.toLowerCase()]||p.valHooks[w.type])&&"get"in k&&(s=k.get(w,"value"))!==d)return s;
s=w.value;return typeof s==="string"?s.replace(ga,""):s==null?"":s}}});p.extend({valHooks:{option:{get:function(g){var k=g.attributes.value;return!k||k.specified?g.value:g.text}},select:{get:function(g){var k,s,u=g.selectedIndex,w=[],y=g.options,K=g.type==="select-one";if(u<0)return null;g=K?u:0;for(s=K?u+1:y.length;g<s;g++){k=y[g];if(k.selected&&(p.support.optDisabled?!k.disabled:k.getAttribute("disabled")===null)&&(!k.parentNode.disabled||!p.nodeName(k.parentNode,"optgroup"))){k=p(k).val();if(K)return k;
w.push(k)}}if(K&&!w.length&&y.length)return p(y[u]).val();return w},set:function(g,k){var s=p.makeArray(k);p(g).find("option").each(function(){this.selected=p.inArray(p(this).val(),s)>=0});if(!s.length)g.selectedIndex=-1;return s}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(g,k,s,u){var w,y,K=g.nodeType;if(!(!g||K===3||K===8||K===2)){if(u&&k in p.attrFn)return p(g)[k](s);if(typeof g.getAttribute==="undefined")return p.prop(g,k,s);if(u=
K!==1||!p.isXMLDoc(g)){k=k.toLowerCase();y=p.attrHooks[k]||(Ha.test(k)?Ra:Ka)}if(s!==d)if(s===null)p.removeAttr(g,k);else if(y&&"set"in y&&u&&(w=y.set(g,s,k))!==d)return w;else{g.setAttribute(k,""+s);return s}else if(y&&"get"in y&&u&&(w=y.get(g,k))!==null)return w;else{w=g.getAttribute(k);return w===null?d:w}}},removeAttr:function(g,k){var s,u,w,y=0;if(k&&g.nodeType===1){s=k.toLowerCase().split(La);for(w=s.length;y<w;y++)if(u=s[y]){k=p.propFix[u]||u;p.attr(g,u,"");g.removeAttribute(Ja?u:k);if(Ha.test(u)&&
k in g)g[k]=false}}},attrHooks:{type:{set:function(g,k){if(oa.test(g.nodeName)&&g.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&k==="radio"&&p.nodeName(g,"input")){var s=g.value;g.setAttribute("type",k);if(s)g.value=s;return k}}},value:{get:function(g,k){if(Ka&&p.nodeName(g,"button"))return Ka.get(g,k);return k in g?g.value:null},set:function(g,k,s){if(Ka&&p.nodeName(g,"button"))return Ka.set(g,k,s);g.value=k}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(g,k,s){var u,w,y=g.nodeType;if(!(!g||y===3||y===8||y===2)){if(y!==1||!p.isXMLDoc(g)){k=p.propFix[k]||k;w=p.propHooks[k]}return s!==d?w&&"set"in w&&(u=w.set(g,s,k))!==d?u:(g[k]=s):w&&"get"in w&&(u=w.get(g,k))!==null?u:g[k]}},propHooks:{tabIndex:{get:function(g){var k=
g.getAttributeNode("tabindex");return k&&k.specified?parseInt(k.value,10):pa.test(g.nodeName)||ya.test(g.nodeName)&&g.href?0:d}}}});p.attrHooks.tabindex=p.propHooks.tabIndex;Ra={get:function(g,k){var s,u=p.prop(g,k);return u===true||typeof u!=="boolean"&&(s=g.getAttributeNode(k))&&s.nodeValue!==false?k.toLowerCase():d},set:function(g,k,s){if(k===false)p.removeAttr(g,s);else{k=p.propFix[s]||s;if(k in g)g[k]=true;g.setAttribute(s,s.toLowerCase())}return s}};if(!Ja){Ya={name:true,id:true};Ka=p.valHooks.button=
{get:function(g,k){return(g=g.getAttributeNode(k))&&(Ya[k]?g.nodeValue!=="":g.specified)?g.nodeValue:d},set:function(g,k,s){var u=g.getAttributeNode(s);if(!u){u=U.createAttribute(s);g.setAttributeNode(u)}return u.nodeValue=k+""}};p.attrHooks.tabindex.set=Ka.set;p.each(["width","height"],function(g,k){p.attrHooks[k]=p.extend(p.attrHooks[k],{set:function(s,u){if(u===""){s.setAttribute(k,"auto");return u}}})});p.attrHooks.contenteditable={get:Ka.get,set:function(g,k,s){if(k==="")k="false";Ka.set(g,k,
s)}}}p.support.hrefNormalized||p.each(["href","src","width","height"],function(g,k){p.attrHooks[k]=p.extend(p.attrHooks[k],{get:function(s){s=s.getAttribute(k,2);return s===null?d:s}})});if(!p.support.style)p.attrHooks.style={get:function(g){return g.style.cssText.toLowerCase()||d},set:function(g,k){return g.style.cssText=""+k}};if(!p.support.optSelected)p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(){return null}});if(!p.support.enctype)p.propFix.enctype="encoding";p.support.checkOn||
p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(g){return g.getAttribute("value")===null?"on":g.value}}});p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(g,k){if(p.isArray(k))return g.checked=p.inArray(p(g).val(),k)>=0}})});var Sa=/^(?:textarea|input|select)$/i,lb=/^([^\.]*)?(?:\.(.+))?$/,Ib=/\bhover(\.\S+)?\b/,Jb=/^key/,Kb=/^(?:mouse|contextmenu)|click/,mb=/^(?:focusinfocus|focusoutblur)$/,Lb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
Mb=function(g){if(g=Lb.exec(g)){g[1]=(g[1]||"").toLowerCase();g[3]=g[3]&&new RegExp("(?:^|\\s)"+g[3]+"(?:\\s|$)")}return g},Nb=function(g,k){var s=g.attributes||{};return(!k[1]||g.nodeName.toLowerCase()===k[1])&&(!k[2]||(s.id||{}).value===k[2])&&(!k[3]||k[3].test((s["class"]||{}).value))},nb=function(g){return p.event.special.hover?g:g.replace(Ib,"mouseenter$1 mouseleave$1")};p.event={add:function(g,k,s,u,w){var y,K,N,P,S,ea,X,ha,da;if(!(g.nodeType===3||g.nodeType===8||!k||!s||!(y=p._data(g)))){if(s.handler){X=
s;s=X.handler}if(!s.guid)s.guid=p.guid++;N=y.events;if(!N)y.events=N={};K=y.handle;if(!K){y.handle=K=function(sa){return typeof p!=="undefined"&&(!sa||p.event.triggered!==sa.type)?p.event.dispatch.apply(K.elem,arguments):d};K.elem=g}k=p.trim(nb(k)).split(" ");for(y=0;y<k.length;y++){P=lb.exec(k[y])||[];S=P[1];ea=(P[2]||"").split(".").sort();da=p.event.special[S]||{};S=(w?da.delegateType:da.bindType)||S;da=p.event.special[S]||{};P=p.extend({type:S,origType:P[1],data:u,handler:s,guid:s.guid,selector:w,
quick:Mb(w),namespace:ea.join(".")},X);ha=N[S];if(!ha){ha=N[S]=[];ha.delegateCount=0;if(!da.setup||da.setup.call(g,u,ea,K)===false)if(g.addEventListener)g.addEventListener(S,K,false);else g.attachEvent&&g.attachEvent("on"+S,K)}if(da.add){da.add.call(g,P);if(!P.handler.guid)P.handler.guid=s.guid}w?ha.splice(ha.delegateCount++,0,P):ha.push(P);p.event.global[S]=true}g=null}},global:{},remove:function(g,k,s,u,w){var y=p.hasData(g)&&p._data(g),K,N,P,S,ea,X,ha,da,sa,Aa;if(y&&(ha=y.events)){k=p.trim(nb(k||
"")).split(" ");for(K=0;K<k.length;K++){N=lb.exec(k[K])||[];P=S=N[1];N=N[2];if(P){da=p.event.special[P]||{};P=(u?da.delegateType:da.bindType)||P;sa=ha[P]||[];ea=sa.length;N=N?new RegExp("(^|\\.)"+N.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(X=0;X<sa.length;X++){Aa=sa[X];if((w||S===Aa.origType)&&(!s||s.guid===Aa.guid)&&(!N||N.test(Aa.namespace))&&(!u||u===Aa.selector||u==="**"&&Aa.selector)){sa.splice(X--,1);Aa.selector&&sa.delegateCount--;da.remove&&da.remove.call(g,Aa)}}if(sa.length===
0&&ea!==sa.length){if(!da.teardown||da.teardown.call(g,N)===false)p.removeEvent(g,P,y.handle);delete ha[P]}}else for(P in ha)p.event.remove(g,P+k[K],s,u,true)}if(p.isEmptyObject(ha)){if(k=y.handle)k.elem=null;p.removeData(g,["events","handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(g,k,s,u){if(!(s&&(s.nodeType===3||s.nodeType===8))){var w=g.type||g,y=[],K,N,P,S,ea;if(!mb.test(w+p.event.triggered)){if(w.indexOf("!")>=0){w=w.slice(0,-1);K=true}if(w.indexOf(".")>=
0){y=w.split(".");w=y.shift();y.sort()}if(!((!s||p.event.customEvent[w])&&!p.event.global[w])){g=typeof g==="object"?g[p.expando]?g:new p.Event(w,g):new p.Event(w);g.type=w;g.isTrigger=true;g.exclusive=K;g.namespace=y.join(".");g.namespace_re=g.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;K=w.indexOf(":")<0?"on"+w:"";if(s){g.result=d;if(!g.target)g.target=s;k=k!=null?p.makeArray(k):[];k.unshift(g);P=p.event.special[w]||{};if(!(P.trigger&&P.trigger.apply(s,k)===false)){ea=
[[s,P.bindType||w]];if(!u&&!P.noBubble&&!p.isWindow(s)){S=P.delegateType||w;y=mb.test(S+w)?s:s.parentNode;for(N=null;y;y=y.parentNode){ea.push([y,S]);N=y}if(N&&N===s.ownerDocument)ea.push([N.defaultView||N.parentWindow||f,S])}for(N=0;N<ea.length&&!g.isPropagationStopped();N++){y=ea[N][0];g.type=ea[N][1];(S=(p._data(y,"events")||{})[g.type]&&p._data(y,"handle"))&&S.apply(y,k);(S=K&&y[K])&&p.acceptData(y)&&S.apply(y,k)===false&&g.preventDefault()}g.type=w;if(!u&&!g.isDefaultPrevented())if((!P._default||
P._default.apply(s.ownerDocument,k)===false)&&!(w==="click"&&p.nodeName(s,"a"))&&p.acceptData(s))if(K&&s[w]&&(w!=="focus"&&w!=="blur"||g.target.offsetWidth!==0)&&!p.isWindow(s)){if(N=s[K])s[K]=null;p.event.triggered=w;s[w]();p.event.triggered=d;if(N)s[K]=N}return g.result}}else{s=p.cache;for(N in s)s[N].events&&s[N].events[w]&&p.event.trigger(g,k,s[N].handle.elem,true)}}}}},dispatch:function(g){g=p.event.fix(g||f.event);var k=(p._data(this,"events")||{})[g.type]||[],s=k.delegateCount,u=[].slice.call(arguments,
0),w=!g.exclusive&&!g.namespace,y=[],K,N,P,S,ea,X,ha;u[0]=g;g.delegateTarget=this;if(s&&!g.target.disabled&&!(g.button&&g.type==="click")){P=p(this);P.context=this.ownerDocument||this;for(N=g.target;N!=this;N=N.parentNode||this){ea={};X=[];P[0]=N;for(K=0;K<s;K++){S=k[K];ha=S.selector;if(ea[ha]===d)ea[ha]=S.quick?Nb(N,S.quick):P.is(ha);ea[ha]&&X.push(S)}X.length&&y.push({elem:N,matches:X})}}k.length>s&&y.push({elem:this,matches:k.slice(s)});for(K=0;K<y.length&&!g.isPropagationStopped();K++){s=y[K];
g.currentTarget=s.elem;for(k=0;k<s.matches.length&&!g.isImmediatePropagationStopped();k++){S=s.matches[k];if(w||!g.namespace&&!S.namespace||g.namespace_re&&g.namespace_re.test(S.namespace)){g.data=S.data;g.handleObj=S;S=((p.event.special[S.origType]||{}).handle||S.handler).apply(s.elem,u);if(S!==d){g.result=S;if(S===false){g.preventDefault();g.stopPropagation()}}}}}return g.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(g,k){if(g.which==null)g.which=k.charCode!=null?k.charCode:k.keyCode;return g}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(g,k){var s,u,w=k.button,y=k.fromElement;if(g.pageX==null&&k.clientX!=null){s=g.target.ownerDocument||U;u=s.documentElement;s=s.body;g.pageX=k.clientX+(u&&u.scrollLeft||s&&s.scrollLeft||0)-(u&&u.clientLeft||
s&&s.clientLeft||0);g.pageY=k.clientY+(u&&u.scrollTop||s&&s.scrollTop||0)-(u&&u.clientTop||s&&s.clientTop||0)}if(!g.relatedTarget&&y)g.relatedTarget=y===g.target?k.toElement:y;if(!g.which&&w!==d)g.which=w&1?1:w&2?3:w&4?2:0;return g}},fix:function(g){if(g[p.expando])return g;var k,s,u=g,w=p.event.fixHooks[g.type]||{},y=w.props?this.props.concat(w.props):this.props;g=p.Event(u);for(k=y.length;k;){s=y[--k];g[s]=u[s]}if(!g.target)g.target=u.srcElement||U;if(g.target.nodeType===3)g.target=g.target.parentNode;
if(g.metaKey===d)g.metaKey=g.ctrlKey;return w.filter?w.filter(g,u):g},special:{ready:{setup:p.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(g,k,s){if(p.isWindow(this))this.onbeforeunload=s},teardown:function(g,k){if(this.onbeforeunload===k)this.onbeforeunload=null}}},simulate:function(g,k,s,u){g=p.extend(new p.Event,s,{type:g,isSimulated:true,originalEvent:{}});u?p.event.trigger(g,null,k):p.event.dispatch.call(k,g);g.isDefaultPrevented()&&
s.preventDefault()}};p.event.handle=p.event.dispatch;p.removeEvent=U.removeEventListener?function(g,k,s){g.removeEventListener&&g.removeEventListener(k,s,false)}:function(g,k,s){g.detachEvent&&g.detachEvent("on"+k,s)};p.Event=function(g,k){if(!(this instanceof p.Event))return new p.Event(g,k);if(g&&g.type){this.originalEvent=g;this.type=g.type;this.isDefaultPrevented=g.defaultPrevented||g.returnValue===false||g.getPreventDefault&&g.getPreventDefault()?h:n}else this.type=g;k&&p.extend(this,k);this.timeStamp=
g&&g.timeStamp||p.now();this[p.expando]=true};p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var g=this.originalEvent;if(g)if(g.preventDefault)g.preventDefault();else g.returnValue=false},stopPropagation:function(){this.isPropagationStopped=h;var g=this.originalEvent;if(g){g.stopPropagation&&g.stopPropagation();g.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};
p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(g,k){p.event.special[g]={delegateType:k,bindType:k,handle:function(s){var u=this,w=s.relatedTarget,y=s.handleObj,K;if(!w||w!==u&&!p.contains(u,w)){s.type=y.origType;K=y.handler.apply(this,arguments);s.type=k}return K}}});if(!p.support.submitBubbles)p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return false;p.event.add(this,"click._submit keypress._submit",function(g){g=g.target;if((g=p.nodeName(g,"input")||p.nodeName(g,
"button")?g.form:d)&&!g._submit_attached){p.event.add(g,"submit._submit",function(k){this.parentNode&&!k.isTrigger&&p.event.simulate("submit",this.parentNode,k,true)});g._submit_attached=true}})},teardown:function(){if(p.nodeName(this,"form"))return false;p.event.remove(this,"._submit")}};if(!p.support.changeBubbles)p.event.special.change={setup:function(){if(Sa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){p.event.add(this,"propertychange._change",function(g){if(g.originalEvent.propertyName===
"checked")this._just_changed=true});p.event.add(this,"click._change",function(g){if(this._just_changed&&!g.isTrigger){this._just_changed=false;p.event.simulate("change",this,g,true)}})}return false}p.event.add(this,"beforeactivate._change",function(g){g=g.target;if(Sa.test(g.nodeName)&&!g._change_attached){p.event.add(g,"change._change",function(k){this.parentNode&&!k.isSimulated&&!k.isTrigger&&p.event.simulate("change",this.parentNode,k,true)});g._change_attached=true}})},handle:function(g){var k=
g.target;if(this!==k||g.isSimulated||g.isTrigger||k.type!=="radio"&&k.type!=="checkbox")return g.handleObj.handler.apply(this,arguments)},teardown:function(){p.event.remove(this,"._change");return Sa.test(this.nodeName)}};p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(g,k){var s=0,u=function(w){p.event.simulate(k,w.target,p.event.fix(w),true)};p.event.special[k]={setup:function(){s++===0&&U.addEventListener(g,u,true)},teardown:function(){--s===0&&U.removeEventListener(g,
u,true)}}});p.fn.extend({on:function(g,k,s,u,w){var y,K;if(typeof g==="object"){if(typeof k!=="string"){s=k;k=d}for(K in g)this.on(K,k,s,g[K],w);return this}if(s==null&&u==null){u=k;s=k=d}else if(u==null)if(typeof k==="string"){u=s;s=d}else{u=s;s=k;k=d}if(u===false)u=n;else if(!u)return this;if(w===1){y=u;u=function(N){p().off(N);return y.apply(this,arguments)};u.guid=y.guid||(y.guid=p.guid++)}return this.each(function(){p.event.add(this,g,u,s,k)})},one:function(g,k,s,u){return this.on.call(this,
g,k,s,u,1)},off:function(g,k,s){if(g&&g.preventDefault&&g.handleObj){var u=g.handleObj;p(g.delegateTarget).off(u.namespace?u.type+"."+u.namespace:u.type,u.selector,u.handler);return this}if(typeof g==="object"){for(u in g)this.off(u,k,g[u]);return this}if(k===false||typeof k==="function"){s=k;k=d}if(s===false)s=n;return this.each(function(){p.event.remove(this,g,s,k)})},bind:function(g,k,s){return this.on(g,null,k,s)},unbind:function(g,k){return this.off(g,null,k)},live:function(g,k,s){p(this.context).on(g,
this.selector,k,s);return this},die:function(g,k){p(this.context).off(g,this.selector||"**",k);return this},delegate:function(g,k,s,u){return this.on(k,g,s,u)},undelegate:function(g,k,s){return arguments.length==1?this.off(g,"**"):this.off(k,g,s)},trigger:function(g,k){return this.each(function(){p.event.trigger(g,k,this)})},triggerHandler:function(g,k){if(this[0])return p.event.trigger(g,k,this[0],true)},toggle:function(g){var k=arguments,s=g.guid||p.guid++,u=0,w=function(y){var K=(p._data(this,
"lastToggle"+g.guid)||0)%u;p._data(this,"lastToggle"+g.guid,K+1);y.preventDefault();return k[K].apply(this,arguments)||false};for(w.guid=s;u<k.length;)k[u++].guid=s;return this.click(w)},hover:function(g,k){return this.mouseenter(g).mouseleave(k||g)}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(g,k){p.fn[k]=function(s,
u){if(u==null){u=s;s=null}return arguments.length>0?this.on(k,null,s,u):this.trigger(k)};if(p.attrFn)p.attrFn[k]=true;if(Jb.test(k))p.event.fixHooks[k]=p.event.keyHooks;if(Kb.test(k))p.event.fixHooks[k]=p.event.mouseHooks});(function(){function g(z,I,T,W,aa,ca){aa=0;for(var ia=W.length;aa<ia;aa++){var la=W[aa];if(la){var wa=false;for(la=la[z];la;){if(la[u]===T){wa=W[la.sizset];break}if(la.nodeType===1&&!ca){la[u]=T;la.sizset=aa}if(la.nodeName.toLowerCase()===I){wa=la;break}la=la[z]}W[aa]=wa}}}function k(z,
I,T,W,aa,ca){aa=0;for(var ia=W.length;aa<ia;aa++){var la=W[aa];if(la){var wa=false;for(la=la[z];la;){if(la[u]===T){wa=W[la.sizset];break}if(la.nodeType===1){if(!ca){la[u]=T;la.sizset=aa}if(typeof I!=="string"){if(la===I){wa=true;break}}else if(X.filter(I,[la]).length>0){wa=la;break}}la=la[z]}W[aa]=wa}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,u="sizcache"+(Math.random()+"").replace(".",""),w=0,y=Object.prototype.toString,
K=false,N=true,P=/\\/g,S=/\r\n/g,ea=/\W/;[0,0].sort(function(){N=false;return 0});var X=function(z,I,T,W){T=T||[];var aa=I=I||U;if(I.nodeType!==1&&I.nodeType!==9)return[];if(!z||typeof z!=="string")return T;var ca,ia,la,wa,Q,ba=true,ja=X.isXML(I),fa=[],xa=z;do{s.exec("");if(ca=s.exec(xa)){xa=ca[3];fa.push(ca[1]);if(ca[2]){wa=ca[3];break}}}while(ca);if(fa.length>1&&sa.exec(z))if(fa.length===2&&da.relative[fa[0]])ia=Na(fa[0]+fa[1],I,W);else for(ia=da.relative[fa[0]]?[I]:X(fa.shift(),I);fa.length;){z=
fa.shift();if(da.relative[z])z+=fa.shift();ia=Na(z,ia,W)}else{if(!W&&fa.length>1&&I.nodeType===9&&!ja&&da.match.ID.test(fa[0])&&!da.match.ID.test(fa[fa.length-1])){ca=X.find(fa.shift(),I,ja);I=ca.expr?X.filter(ca.expr,ca.set)[0]:ca.set[0]}if(I){ca=W?{expr:fa.pop(),set:Ba(W)}:X.find(fa.pop(),fa.length===1&&(fa[0]==="~"||fa[0]==="+")&&I.parentNode?I.parentNode:I,ja);ia=ca.expr?X.filter(ca.expr,ca.set):ca.set;if(fa.length>0)la=Ba(ia);else ba=false;for(;fa.length;){ca=Q=fa.pop();if(da.relative[Q])ca=
fa.pop();else Q="";if(ca==null)ca=I;da.relative[Q](la,ca,ja)}}else la=[]}la||(la=ia);la||X.error(Q||z);if(y.call(la)==="[object Array]")if(ba)if(I&&I.nodeType===1)for(z=0;la[z]!=null;z++){if(la[z]&&(la[z]===true||la[z].nodeType===1&&X.contains(I,la[z])))T.push(ia[z])}else for(z=0;la[z]!=null;z++)la[z]&&la[z].nodeType===1&&T.push(ia[z]);else T.push.apply(T,la);else Ba(la,T);if(wa){X(wa,aa,T,W);X.uniqueSort(T)}return T};X.uniqueSort=function(z){if(ta){K=N;z.sort(ta);if(K)for(var I=1;I<z.length;I++)z[I]===
z[I-1]&&z.splice(I--,1)}return z};X.matches=function(z,I){return X(z,null,null,I)};X.matchesSelector=function(z,I){return X(I,null,null,[z]).length>0};X.find=function(z,I,T){var W,aa,ca,ia,la,wa;if(!z)return[];aa=0;for(ca=da.order.length;aa<ca;aa++){la=da.order[aa];if(ia=da.leftMatch[la].exec(z)){wa=ia[1];ia.splice(1,1);if(wa.substr(wa.length-1)!=="\\"){ia[1]=(ia[1]||"").replace(P,"");W=da.find[la](ia,I,T);if(W!=null){z=z.replace(da.match[la],"");break}}}}W||(W=typeof I.getElementsByTagName!=="undefined"?
I.getElementsByTagName("*"):[]);return{set:W,expr:z}};X.filter=function(z,I,T,W){for(var aa,ca,ia,la,wa,Q,ba,ja,fa=z,xa=[],ua=I,Ea=I&&I[0]&&X.isXML(I[0]);z&&I.length;){for(ia in da.filter)if((aa=da.leftMatch[ia].exec(z))!=null&&aa[2]){Q=da.filter[ia];wa=aa[1];ca=false;aa.splice(1,1);if(wa.substr(wa.length-1)!=="\\"){if(ua===xa)xa=[];if(da.preFilter[ia])if(aa=da.preFilter[ia](aa,ua,T,xa,W,Ea)){if(aa===true)continue}else ca=la=true;if(aa)for(ba=0;(wa=ua[ba])!=null;ba++)if(wa){la=Q(wa,aa,ba,ua);ja=W^
la;if(T&&la!=null)if(ja)ca=true;else ua[ba]=false;else if(ja){xa.push(wa);ca=true}}if(la!==d){T||(ua=xa);z=z.replace(da.match[ia],"");if(!ca)return[];break}}}if(z===fa)if(ca==null)X.error(z);else break;fa=z}return ua};X.error=function(z){throw new Error("Syntax error, unrecognized expression: "+z);};var ha=X.getText=function(z){var I,T;I=z.nodeType;var W="";if(I)if(I===1||I===9)if(typeof z.textContent==="string")return z.textContent;else if(typeof z.innerText==="string")return z.innerText.replace(S,
"");else for(z=z.firstChild;z;z=z.nextSibling)W+=ha(z);else{if(I===3||I===4)return z.nodeValue}else for(I=0;T=z[I];I++)if(T.nodeType!==8)W+=ha(T);return W},da=X.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(z){return z.getAttribute("href")},type:function(z){return z.getAttribute("type")}},relative:{"+":function(z,I){var T=typeof I==="string",W=T&&!ea.test(I);T=T&&!W;if(W)I=I.toLowerCase();W=0;for(var aa=z.length,ca;W<aa;W++)if(ca=z[W]){for(;(ca=ca.previousSibling)&&
ca.nodeType!==1;);z[W]=T||ca&&ca.nodeName.toLowerCase()===I?ca||false:ca===I}T&&X.filter(I,z,true)},">":function(z,I){var T,W=typeof I==="string",aa=0,ca=z.length;if(W&&!ea.test(I))for(I=I.toLowerCase();aa<ca;aa++){if(T=z[aa]){T=T.parentNode;z[aa]=T.nodeName.toLowerCase()===I?T:false}}else{for(;aa<ca;aa++)if(T=z[aa])z[aa]=W?T.parentNode:T.parentNode===I;W&&X.filter(I,z,true)}},"":function(z,I,T){var W,aa=w++,ca=k;if(typeof I==="string"&&!ea.test(I)){W=I=I.toLowerCase();ca=g}ca("parentNode",I,aa,z,
W,T)},"~":function(z,I,T){var W,aa=w++,ca=k;if(typeof I==="string"&&!ea.test(I)){W=I=I.toLowerCase();ca=g}ca("previousSibling",I,aa,z,W,T)}},find:{ID:function(z,I,T){if(typeof I.getElementById!=="undefined"&&!T)return(z=I.getElementById(z[1]))&&z.parentNode?[z]:[]},NAME:function(z,I){if(typeof I.getElementsByName!=="undefined"){var T=[];I=I.getElementsByName(z[1]);for(var W=0,aa=I.length;W<aa;W++)I[W].getAttribute("name")===z[1]&&T.push(I[W]);return T.length===0?null:T}},TAG:function(z,I){if(typeof I.getElementsByTagName!==
"undefined")return I.getElementsByTagName(z[1])}},preFilter:{CLASS:function(z,I,T,W,aa,ca){z=" "+z[1].replace(P,"")+" ";if(ca)return z;ca=0;for(var ia;(ia=I[ca])!=null;ca++)if(ia)if(aa^(ia.className&&(" "+ia.className+" ").replace(/[\t\n\r]/g," ").indexOf(z)>=0))T||W.push(ia);else if(T)I[ca]=false;return false},ID:function(z){return z[1].replace(P,"")},TAG:function(z){return z[1].replace(P,"").toLowerCase()},CHILD:function(z){if(z[1]==="nth"){z[2]||X.error(z[0]);z[2]=z[2].replace(/^\+|\s*/g,"");var I=
/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(z[2]==="even"&&"2n"||z[2]==="odd"&&"2n+1"||!/\D/.test(z[2])&&"0n+"+z[2]||z[2]);z[2]=I[1]+(I[2]||1)-0;z[3]=I[3]-0}else z[2]&&X.error(z[0]);z[0]=w++;return z},ATTR:function(z,I,T,W,aa,ca){I=z[1]=z[1].replace(P,"");if(!ca&&da.attrMap[I])z[1]=da.attrMap[I];z[4]=(z[4]||z[5]||"").replace(P,"");if(z[2]==="~=")z[4]=" "+z[4]+" ";return z},PSEUDO:function(z,I,T,W,aa){if(z[1]==="not")if((s.exec(z[3])||"").length>1||/^\w/.test(z[3]))z[3]=X(z[3],null,null,I);else{z=X.filter(z[3],
I,T,true^aa);T||W.push.apply(W,z);return false}else if(da.match.POS.test(z[0])||da.match.CHILD.test(z[0]))return true;return z},POS:function(z){z.unshift(true);return z}},filters:{enabled:function(z){return z.disabled===false&&z.type!=="hidden"},disabled:function(z){return z.disabled===true},checked:function(z){return z.checked===true},selected:function(z){return z.selected===true},parent:function(z){return!!z.firstChild},empty:function(z){return!z.firstChild},has:function(z,I,T){return!!X(T[3],z).length},
header:function(z){return/h\d/i.test(z.nodeName)},text:function(z){var I=z.getAttribute("type"),T=z.type;return z.nodeName.toLowerCase()==="input"&&"text"===T&&(I===T||I===null)},radio:function(z){return z.nodeName.toLowerCase()==="input"&&"radio"===z.type},checkbox:function(z){return z.nodeName.toLowerCase()==="input"&&"checkbox"===z.type},file:function(z){return z.nodeName.toLowerCase()==="input"&&"file"===z.type},password:function(z){return z.nodeName.toLowerCase()==="input"&&"password"===z.type},
submit:function(z){var I=z.nodeName.toLowerCase();return(I==="input"||I==="button")&&"submit"===z.type},image:function(z){return z.nodeName.toLowerCase()==="input"&&"image"===z.type},reset:function(z){var I=z.nodeName.toLowerCase();return(I==="input"||I==="button")&&"reset"===z.type},button:function(z){var I=z.nodeName.toLowerCase();return I==="input"&&"button"===z.type||I==="button"},input:function(z){return/input|select|textarea|button/i.test(z.nodeName)},focus:function(z){return z===z.ownerDocument.activeElement}},
setFilters:{first:function(z,I){return I===0},last:function(z,I,T,W){return I===W.length-1},even:function(z,I){return I%2===0},odd:function(z,I){return I%2===1},lt:function(z,I,T){return I<T[3]-0},gt:function(z,I,T){return I>T[3]-0},nth:function(z,I,T){return T[3]-0===I},eq:function(z,I,T){return T[3]-0===I}},filter:{PSEUDO:function(z,I,T,W){var aa=I[1],ca=da.filters[aa];if(ca)return ca(z,T,I,W);else if(aa==="contains")return(z.textContent||z.innerText||ha([z])||"").indexOf(I[3])>=0;else if(aa===
"not"){I=I[3];T=0;for(W=I.length;T<W;T++)if(I[T]===z)return false;return true}else X.error(aa)},CHILD:function(z,I){var T,W,aa,ca;T=I[1];var ia=z;switch(T){case "only":case "first":for(;ia=ia.previousSibling;)if(ia.nodeType===1)return false;if(T==="first")return true;ia=z;case "last":for(;ia=ia.nextSibling;)if(ia.nodeType===1)return false;return true;case "nth":T=I[2];W=I[3];if(T===1&&W===0)return true;I=I[0];if((aa=z.parentNode)&&(aa[u]!==I||!z.nodeIndex)){ca=0;for(ia=aa.firstChild;ia;ia=ia.nextSibling)if(ia.nodeType===
1)ia.nodeIndex=++ca;aa[u]=I}z=z.nodeIndex-W;return T===0?z===0:z%T===0&&z/T>=0}},ID:function(z,I){return z.nodeType===1&&z.getAttribute("id")===I},TAG:function(z,I){return I==="*"&&z.nodeType===1||!!z.nodeName&&z.nodeName.toLowerCase()===I},CLASS:function(z,I){return(" "+(z.className||z.getAttribute("class"))+" ").indexOf(I)>-1},ATTR:function(z,I){var T=I[1];z=X.attr?X.attr(z,T):da.attrHandle[T]?da.attrHandle[T](z):z[T]!=null?z[T]:z.getAttribute(T);T=z+"";var W=I[2];I=I[4];return z==null?W==="!=":
!W&&X.attr?z!=null:W==="="?T===I:W==="*="?T.indexOf(I)>=0:W==="~="?(" "+T+" ").indexOf(I)>=0:!I?T&&z!==false:W==="!="?T!==I:W==="^="?T.indexOf(I)===0:W==="$="?T.substr(T.length-I.length)===I:W==="|="?T===I||T.substr(0,I.length+1)===I+"-":false},POS:function(z,I,T,W){var aa=da.setFilters[I[2]];if(aa)return aa(z,T,I,W)}}},sa=da.match.POS,Aa=function(z,I){return"\\"+(I-0+1)};for(var Da in da.match){da.match[Da]=new RegExp(da.match[Da].source+/(?![^\[]*\])(?![^\(]*\))/.source);da.leftMatch[Da]=new RegExp(/(^(?:.|\r|\n)*?)/.source+
da.match[Da].source.replace(/\\(\d+)/g,Aa))}var Ba=function(z,I){z=Array.prototype.slice.call(z,0);if(I){I.push.apply(I,z);return I}return z};try{Array.prototype.slice.call(U.documentElement.childNodes,0)}catch(Qa){Ba=function(z,I){var T=0;I=I||[];if(y.call(z)==="[object Array]")Array.prototype.push.apply(I,z);else if(typeof z.length==="number")for(var W=z.length;T<W;T++)I.push(z[T]);else for(;z[T];T++)I.push(z[T]);return I}}var ta,Pa;if(U.documentElement.compareDocumentPosition)ta=function(z,I){if(z===
I){K=true;return 0}if(!z.compareDocumentPosition||!I.compareDocumentPosition)return z.compareDocumentPosition?-1:1;return z.compareDocumentPosition(I)&4?-1:1};else{ta=function(z,I){if(z===I){K=true;return 0}else if(z.sourceIndex&&I.sourceIndex)return z.sourceIndex-I.sourceIndex;var T,W,aa=[],ca=[];T=z.parentNode;W=I.parentNode;var ia=T;if(T===W)return Pa(z,I);else if(T){if(!W)return 1}else return-1;for(;ia;){aa.unshift(ia);ia=ia.parentNode}for(ia=W;ia;){ca.unshift(ia);ia=ia.parentNode}T=aa.length;
W=ca.length;for(ia=0;ia<T&&ia<W;ia++)if(aa[ia]!==ca[ia])return Pa(aa[ia],ca[ia]);return ia===T?Pa(z,ca[ia],-1):Pa(aa[ia],I,1)};Pa=function(z,I,T){if(z===I)return T;for(z=z.nextSibling;z;){if(z===I)return-1;z=z.nextSibling}return 1}}(function(){var z=U.createElement("div"),I="script"+(new Date).getTime(),T=U.documentElement;z.innerHTML="<a name='"+I+"'/>";T.insertBefore(z,T.firstChild);if(U.getElementById(I)){da.find.ID=function(W,aa,ca){if(typeof aa.getElementById!=="undefined"&&!ca)return(aa=aa.getElementById(W[1]))?
aa.id===W[1]||typeof aa.getAttributeNode!=="undefined"&&aa.getAttributeNode("id").nodeValue===W[1]?[aa]:d:[]};da.filter.ID=function(W,aa){var ca=typeof W.getAttributeNode!=="undefined"&&W.getAttributeNode("id");return W.nodeType===1&&ca&&ca.nodeValue===aa}}T.removeChild(z);T=z=null})();(function(){var z=U.createElement("div");z.appendChild(U.createComment(""));if(z.getElementsByTagName("*").length>0)da.find.TAG=function(I,T){T=T.getElementsByTagName(I[1]);if(I[1]==="*"){I=[];for(var W=0;T[W];W++)T[W].nodeType===
1&&I.push(T[W]);T=I}return T};z.innerHTML="<a href='#'></a>";if(z.firstChild&&typeof z.firstChild.getAttribute!=="undefined"&&z.firstChild.getAttribute("href")!=="#")da.attrHandle.href=function(I){return I.getAttribute("href",2)};z=null})();U.querySelectorAll&&function(){var z=X,I=U.createElement("div");I.innerHTML="<p class='TEST'></p>";if(!(I.querySelectorAll&&I.querySelectorAll(".TEST").length===0)){X=function(W,aa,ca,ia){aa=aa||U;if(!ia&&!X.isXML(aa)){var la=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(W);
if(la&&(aa.nodeType===1||aa.nodeType===9))if(la[1])return Ba(aa.getElementsByTagName(W),ca);else if(la[2]&&da.find.CLASS&&aa.getElementsByClassName)return Ba(aa.getElementsByClassName(la[2]),ca);if(aa.nodeType===9){if(W==="body"&&aa.body)return Ba([aa.body],ca);else if(la&&la[3]){var wa=aa.getElementById(la[3]);if(wa&&wa.parentNode){if(wa.id===la[3])return Ba([wa],ca)}else return Ba([],ca)}try{return Ba(aa.querySelectorAll(W),ca)}catch(Q){}}else if(aa.nodeType===1&&aa.nodeName.toLowerCase()!=="object"){la=
aa;var ba=(wa=aa.getAttribute("id"))||"__sizzle__",ja=aa.parentNode,fa=/^\s*[+~]/.test(W);if(wa)ba=ba.replace(/'/g,"\\$&");else aa.setAttribute("id",ba);if(fa&&ja)aa=aa.parentNode;try{if(!fa||ja)return Ba(aa.querySelectorAll("[id='"+ba+"'] "+W),ca)}catch(xa){}finally{wa||la.removeAttribute("id")}}}return z(W,aa,ca,ia)};for(var T in z)X[T]=z[T];I=null}}();(function(){var z=U.documentElement,I=z.matchesSelector||z.mozMatchesSelector||z.webkitMatchesSelector||z.msMatchesSelector;if(I){var T=!I.call(U.createElement("div"),
"div"),W=false;try{I.call(U.documentElement,"[test!='']:sizzle")}catch(aa){W=true}X.matchesSelector=function(ca,ia){ia=ia.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!X.isXML(ca))try{if(W||!da.match.PSEUDO.test(ia)&&!/!=/.test(ia)){var la=I.call(ca,ia);if(la||!T||ca.document&&ca.document.nodeType!==11)return la}}catch(wa){}return X(ia,null,null,[ca]).length>0}}})();(function(){var z=U.createElement("div");z.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!z.getElementsByClassName||
z.getElementsByClassName("e").length===0)){z.lastChild.className="e";if(z.getElementsByClassName("e").length!==1){da.order.splice(1,0,"CLASS");da.find.CLASS=function(I,T,W){if(typeof T.getElementsByClassName!=="undefined"&&!W)return T.getElementsByClassName(I[1])};z=null}}})();X.contains=U.documentElement.contains?function(z,I){return z!==I&&(z.contains?z.contains(I):true)}:U.documentElement.compareDocumentPosition?function(z,I){return!!(z.compareDocumentPosition(I)&16)}:function(){return false};
X.isXML=function(z){return(z=(z?z.ownerDocument||z:0).documentElement)?z.nodeName!=="HTML":false};var Na=function(z,I,T){var W,aa=[],ca="";for(I=I.nodeType?[I]:I;W=da.match.PSEUDO.exec(z);){ca+=W[0];z=z.replace(da.match.PSEUDO,"")}z=da.relative[z]?z+"*":z;W=0;for(var ia=I.length;W<ia;W++)X(z,I[W],aa,T);return X.filter(ca,aa)};X.attr=p.attr;X.selectors.attrMap={};p.find=X;p.expr=X.selectors;p.expr[":"]=p.expr.filters;p.unique=X.uniqueSort;p.text=X.getText;p.isXMLDoc=X.isXML;p.contains=X.contains})();
var Ob=/Until$/,Pb=/^(?:parents|prevUntil|prevAll)/,Qb=/,/,Db=/^.[^:#\[\.,]*$/,Rb=Array.prototype.slice,ob=p.expr.match.POS,Sb={children:true,contents:true,next:true,prev:true};p.fn.extend({find:function(g){var k=this,s,u;if(typeof g!=="string")return p(g).filter(function(){s=0;for(u=k.length;s<u;s++)if(p.contains(k[s],this))return true});var w=this.pushStack("","find",g),y,K,N;s=0;for(u=this.length;s<u;s++){y=w.length;p.find(g,this[s],w);if(s>0)for(K=y;K<w.length;K++)for(N=0;N<y;N++)if(w[N]===w[K]){w.splice(K--,
1);break}}return w},has:function(g){var k=p(g);return this.filter(function(){for(var s=0,u=k.length;s<u;s++)if(p.contains(this,k[s]))return true})},not:function(g){return this.pushStack(o(this,g,false),"not",g)},filter:function(g){return this.pushStack(o(this,g,true),"filter",g)},is:function(g){return!!g&&(typeof g==="string"?ob.test(g)?p(g,this.context).index(this[0])>=0:p.filter(g,this).length>0:this.filter(g).length>0)},closest:function(g,k){var s=[],u,w,y=this[0];if(p.isArray(g)){for(w=1;y&&y.ownerDocument&&
y!==k;){for(u=0;u<g.length;u++)p(y).is(g[u])&&s.push({selector:g[u],elem:y,level:w});y=y.parentNode;w++}return s}var K=ob.test(g)||typeof g!=="string"?p(g,k||this.context):0;u=0;for(w=this.length;u<w;u++)for(y=this[u];y;)if(K?K.index(y)>-1:p.find.matchesSelector(y,g)){s.push(y);break}else{y=y.parentNode;if(!y||!y.ownerDocument||y===k||y.nodeType===11)break}s=s.length>1?p.unique(s):s;return this.pushStack(s,"closest",g)},index:function(g){if(!g)return this[0]&&this[0].parentNode?this.prevAll().length:
-1;if(typeof g==="string")return p.inArray(this[0],p(g));return p.inArray(g.jquery?g[0]:g,this)},add:function(g,k){g=typeof g==="string"?p(g,k):p.makeArray(g&&g.nodeType?[g]:g);k=p.merge(this.get(),g);return this.pushStack(q(g[0])||q(k[0])?k:p.unique(k))},andSelf:function(){return this.add(this.prevObject)}});p.each({parent:function(g){return(g=g.parentNode)&&g.nodeType!==11?g:null},parents:function(g){return p.dir(g,"parentNode")},parentsUntil:function(g,k,s){return p.dir(g,"parentNode",s)},next:function(g){return p.nth(g,
2,"nextSibling")},prev:function(g){return p.nth(g,2,"previousSibling")},nextAll:function(g){return p.dir(g,"nextSibling")},prevAll:function(g){return p.dir(g,"previousSibling")},nextUntil:function(g,k,s){return p.dir(g,"nextSibling",s)},prevUntil:function(g,k,s){return p.dir(g,"previousSibling",s)},siblings:function(g){return p.sibling(g.parentNode.firstChild,g)},children:function(g){return p.sibling(g.firstChild)},contents:function(g){return p.nodeName(g,"iframe")?g.contentDocument||g.contentWindow.document:
p.makeArray(g.childNodes)}},function(g,k){p.fn[g]=function(s,u){var w=p.map(this,k,s);Ob.test(g)||(u=s);if(u&&typeof u==="string")w=p.filter(u,w);w=this.length>1&&!Sb[g]?p.unique(w):w;if((this.length>1||Qb.test(u))&&Pb.test(g))w=w.reverse();return this.pushStack(w,g,Rb.call(arguments).join(","))}});p.extend({filter:function(g,k,s){if(s)g=":not("+g+")";return k.length===1?p.find.matchesSelector(k[0],g)?[k[0]]:[]:p.find.matches(g,k)},dir:function(g,k,s){var u=[];for(g=g[k];g&&g.nodeType!==9&&(s===d||
g.nodeType!==1||!p(g).is(s));){g.nodeType===1&&u.push(g);g=g[k]}return u},nth:function(g,k,s){k=k||1;for(var u=0;g;g=g[s])if(g.nodeType===1&&++u===k)break;return g},sibling:function(g,k){for(var s=[];g;g=g.nextSibling)g.nodeType===1&&g!==k&&s.push(g);return s}});var hb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Tb=/ jQuery\d+="(?:\d+|null)"/g,eb=/^\s+/,pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
qb=/<([\w:]+)/,Ub=/<tbody/i,Vb=/<|&#?\w+;/,Wb=/<(?:script|style)/i,Xb=/<(?:script|object|embed|option|style)/i,rb=new RegExp("<(?:"+hb+")","i"),sb=/checked\s*(?:[^=]|=\s*.checked.)/i,Yb=/\/(java|ecma)script/i,Eb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ma={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>",
"</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ib=v(U);Ma.optgroup=Ma.option;Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead;Ma.th=Ma.td;if(!p.support.htmlSerialize)Ma._default=[1,"div<div>","</div>"];p.fn.extend({text:function(g){if(p.isFunction(g))return this.each(function(k){var s=p(this);s.text(g.call(this,k,s.text()))});if(typeof g!=="object"&&g!==d)return this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(g));return p.text(this)},wrapAll:function(g){if(p.isFunction(g))return this.each(function(s){p(this).wrapAll(g.call(this,
s))});if(this[0]){var k=p(g,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var s=this;s.firstChild&&s.firstChild.nodeType===1;)s=s.firstChild;return s}).append(this)}return this},wrapInner:function(g){if(p.isFunction(g))return this.each(function(k){p(this).wrapInner(g.call(this,k))});return this.each(function(){var k=p(this),s=k.contents();s.length?s.wrapAll(g):k.append(g)})},wrap:function(g){var k=p.isFunction(g);return this.each(function(s){p(this).wrapAll(k?
g.call(this,s):g)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.appendChild(g)})},prepend:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.insertBefore(g,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,
this)});else if(arguments.length){var g=p.clean(arguments);g.push.apply(g,this.toArray());return this.pushStack(g,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,this.nextSibling)});else if(arguments.length){var g=this.pushStack(this,"after",arguments);g.push.apply(g,p.clean(arguments));return g}},remove:function(g,k){for(var s=0,u;(u=this[s])!=null;s++)if(!g||p.filter(g,[u]).length){if(!k&&u.nodeType===
1){p.cleanData(u.getElementsByTagName("*"));p.cleanData([u])}u.parentNode&&u.parentNode.removeChild(u)}return this},empty:function(){for(var g=0,k;(k=this[g])!=null;g++)for(k.nodeType===1&&p.cleanData(k.getElementsByTagName("*"));k.firstChild;)k.removeChild(k.firstChild);return this},clone:function(g,k){g=g==null?false:g;k=k==null?g:k;return this.map(function(){return p.clone(this,g,k)})},html:function(g){if(g===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Tb,""):null;else if(typeof g===
"string"&&!Wb.test(g)&&(p.support.leadingWhitespace||!eb.test(g))&&!Ma[(qb.exec(g)||["",""])[1].toLowerCase()]){g=g.replace(pb,"<$1></$2>");try{for(var k=0,s=this.length;k<s;k++)if(this[k].nodeType===1){p.cleanData(this[k].getElementsByTagName("*"));this[k].innerHTML=g}}catch(u){this.empty().append(g)}}else p.isFunction(g)?this.each(function(w){var y=p(this);y.html(g.call(this,w,y.html()))}):this.empty().append(g);return this},replaceWith:function(g){if(this[0]&&this[0].parentNode){if(p.isFunction(g))return this.each(function(k){var s=
p(this),u=s.html();s.replaceWith(g.call(this,k,u))});if(typeof g!=="string")g=p(g).detach();return this.each(function(){var k=this.nextSibling,s=this.parentNode;p(this).remove();k?p(k).before(g):p(s).append(g)})}else return this.length?this.pushStack(p(p.isFunction(g)?g():g),"replaceWith",g):this},detach:function(g){return this.remove(g,true)},domManip:function(g,k,s){var u,w,y,K=g[0],N=[];if(!p.support.checkClone&&arguments.length===3&&typeof K==="string"&&sb.test(K))return this.each(function(){p(this).domManip(g,
k,s,true)});if(p.isFunction(K))return this.each(function(X){var ha=p(this);g[0]=K.call(this,X,k?ha.html():d);ha.domManip(g,k,s)});if(this[0]){u=K&&K.parentNode;u=p.support.parentNode&&u&&u.nodeType===11&&u.childNodes.length===this.length?{fragment:u}:p.buildFragment(g,this,N);y=u.fragment;if(w=y.childNodes.length===1?(y=y.firstChild):y.firstChild){k=k&&p.nodeName(w,"tr");for(var P=0,S=this.length,ea=S-1;P<S;P++)s.call(k?x(this[P],w):this[P],u.cacheable||S>1&&P<ea?p.clone(y,true,true):y)}N.length&&
p.each(N,C)}return this}});p.buildFragment=function(g,k,s){var u,w,y,K,N=g[0];if(k&&k[0])K=k[0].ownerDocument||k[0];K.createDocumentFragment||(K=U);if(g.length===1&&typeof N==="string"&&N.length<512&&K===U&&N.charAt(0)==="<"&&!Xb.test(N)&&(p.support.checkClone||!sb.test(N))&&(p.support.html5Clone||!rb.test(N))){w=true;if((y=p.fragments[N])&&y!==1)u=y}if(!u){u=K.createDocumentFragment();p.clean(g,K,u,s)}if(w)p.fragments[N]=y?u:1;return{fragment:u,cacheable:w}};p.fragments={};p.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,k){p.fn[g]=function(s){var u=[];s=p(s);var w=this.length===1&&this[0].parentNode;if(w&&w.nodeType===11&&w.childNodes.length===1&&s.length===1){s[k](this[0]);return this}else{w=0;for(var y=s.length;w<y;w++){var K=(w>0?this.clone(true):this).get();p(s[w])[k](K);u=u.concat(K)}return this.pushStack(u,g,s.selector)}}});p.extend({clone:function(g,k,s){var u,w,y,K=p.support.html5Clone||!rb.test("<"+g.nodeName)?
g.cloneNode(true):A(g);if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(g.nodeType===1||g.nodeType===11)&&!p.isXMLDoc(g)){J(g,K);u=L(g);w=L(K);for(y=0;u[y];++y)w[y]&&J(u[y],w[y])}if(k){B(g,K);if(s){u=L(g);w=L(K);for(y=0;u[y];++y)B(u[y],w[y])}}return K},clean:function(g,k,s,u){k=k||U;if(typeof k.createElement==="undefined")k=k.ownerDocument||k[0]&&k[0].ownerDocument||U;for(var w=[],y,K=0,N;(N=g[K])!=null;K++){if(typeof N==="number")N+="";if(N){if(typeof N==="string")if(Vb.test(N)){N=N.replace(pb,
"<$1></$2>");y=(qb.exec(N)||["",""])[1].toLowerCase();var P=Ma[y]||Ma._default,S=P[0],ea=k.createElement("div");k===U?ib.appendChild(ea):v(k).appendChild(ea);for(ea.innerHTML=P[1]+N+P[2];S--;)ea=ea.lastChild;if(!p.support.tbody){S=Ub.test(N);P=y==="table"&&!S?ea.firstChild&&ea.firstChild.childNodes:P[1]==="<table>"&&!S?ea.childNodes:[];for(y=P.length-1;y>=0;--y)p.nodeName(P[y],"tbody")&&!P[y].childNodes.length&&P[y].parentNode.removeChild(P[y])}!p.support.leadingWhitespace&&eb.test(N)&&ea.insertBefore(k.createTextNode(eb.exec(N)[0]),
ea.firstChild);N=ea.childNodes}else N=k.createTextNode(N);var X;if(!p.support.appendChecked)if(N[0]&&typeof(X=N.length)==="number")for(y=0;y<X;y++)G(N[y]);else G(N);if(N.nodeType)w.push(N);else w=p.merge(w,N)}}if(s){g=function(ha){return!ha.type||Yb.test(ha.type)};for(K=0;w[K];K++)if(u&&p.nodeName(w[K],"script")&&(!w[K].type||w[K].type.toLowerCase()==="text/javascript"))u.push(w[K].parentNode?w[K].parentNode.removeChild(w[K]):w[K]);else{if(w[K].nodeType===1){k=p.grep(w[K].getElementsByTagName("script"),
g);w.splice.apply(w,[K+1,0].concat(k))}s.appendChild(w[K])}}return w},cleanData:function(g){for(var k,s,u=p.cache,w=p.event.special,y=p.support.deleteExpando,K=0,N;(N=g[K])!=null;K++)if(!(N.nodeName&&p.noData[N.nodeName.toLowerCase()]))if(s=N[p.expando]){if((k=u[s])&&k.events){for(var P in k.events)w[P]?p.event.remove(N,P):p.removeEvent(N,P,k.handle);if(k.handle)k.handle.elem=null}if(y)delete N[p.expando];else N.removeAttribute&&N.removeAttribute(p.expando);delete u[s]}}});var fb=/alpha\([^)]*\)/i,
Zb=/opacity=([^)]*)/,$b=/([A-Z]|^ms)/g,tb=/^-?\d+(?:px)?$/i,ac=/^-?\d/,bc=/^([\-+])=([\-+.\de]+)/,cc={position:"absolute",visibility:"hidden",display:"block"},Fb=["Left","Right"],Gb=["Top","Bottom"],Va,ub,vb;p.fn.css=function(g,k){if(arguments.length===2&&k===d)return this;return p.access(this,g,k,true,function(s,u,w){return w!==d?p.style(s,u,w):p.css(s,u)})};p.extend({cssHooks:{opacity:{get:function(g,k){if(k){g=Va(g,"opacity","opacity");return g===""?"1":g}else return g.style.opacity}}},cssNumber:{fillOpacity:true,
fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(g,k,s,u){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var w,y=p.camelCase(k),K=g.style,N=p.cssHooks[y];k=p.cssProps[y]||y;if(s!==d){u=typeof s;if(u==="string"&&(w=bc.exec(s))){s=+(w[1]+1)*+w[2]+parseFloat(p.css(g,k));u="number"}if(!(s==null||u==="number"&&isNaN(s))){if(u==="number"&&!p.cssNumber[y])s+="px";if(!N||!("set"in
N)||(s=N.set(g,s))!==d)try{K[k]=s}catch(P){}}}else{if(N&&"get"in N&&(w=N.get(g,false,u))!==d)return w;return K[k]}}},css:function(g,k,s){var u,w;k=p.camelCase(k);w=p.cssHooks[k];k=p.cssProps[k]||k;if(k==="cssFloat")k="float";if(w&&"get"in w&&(u=w.get(g,true,s))!==d)return u;else if(Va)return Va(g,k)},swap:function(g,k,s){var u={};for(var w in k){u[w]=g.style[w];g.style[w]=k[w]}s.call(g);for(w in k)g.style[w]=u[w]}});p.curCSS=p.css;p.each(["height","width"],function(g,k){p.cssHooks[k]={get:function(s,
u,w){var y;if(u){if(s.offsetWidth!==0)return t(s,k,w);else p.swap(s,cc,function(){y=t(s,k,w)});return y}},set:function(s,u){if(tb.test(u)){u=parseFloat(u);if(u>=0)return u+"px"}else return u}}});if(!p.support.opacity)p.cssHooks.opacity={get:function(g,k){return Zb.test((k&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":k?"1":""},set:function(g,k){var s=g.style;g=g.currentStyle;var u=p.isNumeric(k)?"alpha(opacity="+k*100+")":"",w=g&&g.filter||s.filter||"";s.zoom=
1;if(k>=1&&p.trim(w.replace(fb,""))===""){s.removeAttribute("filter");if(g&&!g.filter)return}s.filter=fb.test(w)?w.replace(fb,u):w+" "+u}};p(function(){if(!p.support.reliableMarginRight)p.cssHooks.marginRight={get:function(g,k){var s;p.swap(g,{display:"inline-block"},function(){s=k?Va(g,"margin-right","marginRight"):g.style.marginRight});return s}}});if(U.defaultView&&U.defaultView.getComputedStyle)ub=function(g,k){var s,u,w;k=k.replace($b,"-$1").toLowerCase();if((u=g.ownerDocument.defaultView)&&
(w=u.getComputedStyle(g,null))){s=w.getPropertyValue(k);if(s===""&&!p.contains(g.ownerDocument.documentElement,g))s=p.style(g,k)}return s};if(U.documentElement.currentStyle)vb=function(g,k){var s,u,w=g.currentStyle&&g.currentStyle[k],y=g.style;if(w===null&&y&&(s=y[k]))w=s;if(!tb.test(w)&&ac.test(w)){s=y.left;if(u=g.runtimeStyle&&g.runtimeStyle.left)g.runtimeStyle.left=g.currentStyle.left;y.left=k==="fontSize"?"1em":w||0;w=y.pixelLeft+"px";y.left=s;if(u)g.runtimeStyle.left=u}return w===""?"auto":w};
Va=ub||vb;if(p.expr&&p.expr.filters){p.expr.filters.hidden=function(g){var k=g.offsetHeight;return g.offsetWidth===0&&k===0||!p.support.reliableHiddenOffsets&&(g.style&&g.style.display||p.css(g,"display"))==="none"};p.expr.filters.visible=function(g){return!p.expr.filters.hidden(g)}}var dc=/%20/g,Hb=/\[\]$/,wb=/\r?\n/g,ec=/#.*$/,fc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,gc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,hc=/^(?:GET|HEAD)$/,
ic=/^\/\//,xb=/\?/,jc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,kc=/^(?:select|textarea)/i,jb=/\s+/,lc=/([?&])_=[^&]*/,yb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,zb=p.fn.load,bb={},Ab={},Ta,Ua,Bb=["*/"]+["*"];try{Ta=ra.href}catch(rc){Ta=U.createElement("a");Ta.href="";Ta=Ta.href}Ua=yb.exec(Ta.toLowerCase())||[];p.fn.extend({load:function(g,k,s){if(typeof g!=="string"&&zb)return zb.apply(this,arguments);else if(!this.length)return this;var u=g.indexOf(" ");if(u>=0){var w=g.slice(u,
g.length);g=g.slice(0,u)}u="GET";if(k)if(p.isFunction(k)){s=k;k=d}else if(typeof k==="object"){k=p.param(k,p.ajaxSettings.traditional);u="POST"}var y=this;p.ajax({url:g,type:u,dataType:"html",data:k,complete:function(K,N,P){P=K.responseText;if(K.isResolved()){K.done(function(S){P=S});y.html(w?p("<div>").append(P.replace(jc,"")).find(w):P)}s&&y.each(s,[P,N,K])}});return this},serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||kc.test(this.nodeName)||gc.test(this.type))}).map(function(g,k){g=p(this).val();return g==null?null:p.isArray(g)?p.map(g,function(s){return{name:k.name,value:s.replace(wb,"\r\n")}}):{name:k.name,value:g.replace(wb,"\r\n")}}).get()}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(g,k){p.fn[k]=function(s){return this.on(k,s)}});p.each(["get","post"],function(g,
k){p[k]=function(s,u,w,y){if(p.isFunction(u)){y=y||w;w=u;u=d}return p.ajax({type:k,url:s,data:u,success:w,dataType:y})}});p.extend({getScript:function(g,k){return p.get(g,d,k,"script")},getJSON:function(g,k,s){return p.get(g,k,s,"json")},ajaxSetup:function(g,k){if(k)H(g,p.ajaxSettings);else{k=g;g=p.ajaxSettings}H(g,k);return g},ajaxSettings:{url:Ta,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ua[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Bb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":f.String,"text html":true,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:r(bb),ajaxTransport:r(Ab),ajax:function(g,k){function s(z,I,T,W){if(Da!==2){Da=2;Aa&&clearTimeout(Aa);sa=
d;ha=W||"";ta.readyState=z>0?4:0;var aa,ca,ia;W=I;T=T?O(u,ta,T):d;var la;if(z>=200&&z<300||z===304){if(u.ifModified){if(la=ta.getResponseHeader("Last-Modified"))p.lastModified[S]=la;if(la=ta.getResponseHeader("Etag"))p.etag[S]=la}if(z===304){W="notmodified";aa=true}else try{ca=V(u,T);W="success";aa=true}catch(wa){W="parsererror";ia=wa}}else{ia=W;if(!W||z){W="error";if(z<0)z=0}}ta.status=z;ta.statusText=""+(I||W);aa?K.resolveWith(w,[ca,W,ta]):K.rejectWith(w,[ta,W,ia]);ta.statusCode(P);P=d;if(Ba)y.trigger("ajax"+
(aa?"Success":"Error"),[ta,u,aa?ca:ia]);N.fireWith(w,[ta,W]);if(Ba){y.trigger("ajaxComplete",[ta,u]);--p.active||p.event.trigger("ajaxStop")}}}if(typeof g==="object"){k=g;g=d}k=k||{};var u=p.ajaxSetup({},k),w=u.context||u,y=w!==u&&(w.nodeType||w instanceof p)?p(w):p.event,K=p.Deferred(),N=p.Callbacks("once memory"),P=u.statusCode||{},S,ea={},X={},ha,da,sa,Aa,Da=0,Ba,Qa,ta={readyState:0,setRequestHeader:function(z,I){if(!Da){var T=z.toLowerCase();z=X[T]=X[T]||z;ea[z]=I}return this},getAllResponseHeaders:function(){return Da===
2?ha:null},getResponseHeader:function(z){var I;if(Da===2){if(!da)for(da={};I=fc.exec(ha);)da[I[1].toLowerCase()]=I[2];I=da[z.toLowerCase()]}return I===d?null:I},overrideMimeType:function(z){if(!Da)u.mimeType=z;return this},abort:function(z){z=z||"abort";sa&&sa.abort(z);s(0,z);return this}};K.promise(ta);ta.success=ta.done;ta.error=ta.fail;ta.complete=N.add;ta.statusCode=function(z){if(z){var I;if(Da<2)for(I in z)P[I]=[P[I],z[I]];else{I=z[ta.status];ta.then(I,I)}}return this};u.url=((g||u.url)+"").replace(ec,
"").replace(ic,Ua[1]+"//");u.dataTypes=p.trim(u.dataType||"*").toLowerCase().split(jb);if(u.crossDomain==null){g=yb.exec(u.url.toLowerCase());u.crossDomain=!!(g&&(g[1]!=Ua[1]||g[2]!=Ua[2]||(g[3]||(g[1]==="http:"?80:443))!=(Ua[3]||(Ua[1]==="http:"?80:443))))}if(u.data&&u.processData&&typeof u.data!=="string")u.data=p.param(u.data,u.traditional);F(bb,u,k,ta);if(Da===2)return false;Ba=u.global;u.type=u.type.toUpperCase();u.hasContent=!hc.test(u.type);Ba&&p.active++===0&&p.event.trigger("ajaxStart");
if(!u.hasContent){if(u.data){u.url+=(xb.test(u.url)?"&":"?")+u.data;delete u.data}S=u.url;if(u.cache===false){g=p.now();var Pa=u.url.replace(lc,"$1_="+g);u.url=Pa+(Pa===u.url?(xb.test(u.url)?"&":"?")+"_="+g:"")}}if(u.data&&u.hasContent&&u.contentType!==false||k.contentType)ta.setRequestHeader("Content-Type",u.contentType);if(u.ifModified){S=S||u.url;p.lastModified[S]&&ta.setRequestHeader("If-Modified-Since",p.lastModified[S]);p.etag[S]&&ta.setRequestHeader("If-None-Match",p.etag[S])}ta.setRequestHeader("Accept",
u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+Bb+"; q=0.01":""):u.accepts["*"]);for(Qa in u.headers)ta.setRequestHeader(Qa,u.headers[Qa]);if(u.beforeSend&&(u.beforeSend.call(w,ta,u)===false||Da===2)){ta.abort();return false}for(Qa in{success:1,error:1,complete:1})ta[Qa](u[Qa]);if(sa=F(Ab,u,k,ta)){ta.readyState=1;Ba&&y.trigger("ajaxSend",[ta,u]);if(u.async&&u.timeout>0)Aa=setTimeout(function(){ta.abort("timeout")},u.timeout);try{Da=1;sa.send(ea,s)}catch(Na){if(Da<
2)s(-1,Na);else throw Na;}}else s(-1,"No Transport");return ta},param:function(g,k){var s=[],u=function(y,K){K=p.isFunction(K)?K():K;s[s.length]=encodeURIComponent(y)+"="+encodeURIComponent(K)};if(k===d)k=p.ajaxSettings.traditional;if(p.isArray(g)||g.jquery&&!p.isPlainObject(g))p.each(g,function(){u(this.name,this.value)});else for(var w in g)E(w,g[w],k,u);return s.join("&").replace(dc,"+")}});p.extend({active:0,lastModified:{},etag:{}});var mc=p.now(),$a=/(\=)\?(&|$)|\?\?/i;p.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){return p.expando+"_"+mc++}});p.ajaxPrefilter("json jsonp",function(g,k,s){k=g.contentType==="application/x-www-form-urlencoded"&&typeof g.data==="string";if(g.dataTypes[0]==="jsonp"||g.jsonp!==false&&($a.test(g.url)||k&&$a.test(g.data))){var u,w=g.jsonpCallback=p.isFunction(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,y=f[w],K=g.url,N=g.data,P="$1"+w+"$2";if(g.jsonp!==false){K=K.replace($a,P);if(g.url===K){if(k)N=N.replace($a,P);if(g.data===N)K+=(/\?/.test(K)?"&":"?")+
g.jsonp+"="+w}}g.url=K;g.data=N;f[w]=function(S){u=[S]};s.always(function(){f[w]=y;u&&p.isFunction(y)&&f[w](u[0])});g.converters["script json"]=function(){u||p.error(w+" was not called");return u[0]};g.dataTypes[0]="json";return"script"}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(g){p.globalEval(g);return g}}});p.ajaxPrefilter("script",function(g){if(g.cache===
d)g.cache=false;if(g.crossDomain){g.type="GET";g.global=false}});p.ajaxTransport("script",function(g){if(g.crossDomain){var k,s=U.head||U.getElementsByTagName("head")[0]||U.documentElement;return{send:function(u,w){k=U.createElement("script");k.async="async";if(g.scriptCharset)k.charset=g.scriptCharset;k.src=g.url;k.onload=k.onreadystatechange=function(y,K){if(K||!k.readyState||/loaded|complete/.test(k.readyState)){k.onload=k.onreadystatechange=null;s&&k.parentNode&&s.removeChild(k);k=d;K||w(200,
"success")}};s.insertBefore(k,s.firstChild)},abort:function(){k&&k.onload(0,1)}}}});var gb=f.ActiveXObject?function(){for(var g in Xa)Xa[g](0,1)}:false,nc=0,Xa;p.ajaxSettings.xhr=f.ActiveXObject?function(){return!this.isLocal&&Y()||ka()}:Y;(function(g){p.extend(p.support,{ajax:!!g,cors:!!g&&"withCredentials"in g})})(p.ajaxSettings.xhr());p.support.ajax&&p.ajaxTransport(function(g){if(!g.crossDomain||p.support.cors){var k;return{send:function(s,u){var w=g.xhr(),y,K;g.username?w.open(g.type,g.url,g.async,
g.username,g.password):w.open(g.type,g.url,g.async);if(g.xhrFields)for(K in g.xhrFields)w[K]=g.xhrFields[K];g.mimeType&&w.overrideMimeType&&w.overrideMimeType(g.mimeType);if(!g.crossDomain&&!s["X-Requested-With"])s["X-Requested-With"]="XMLHttpRequest";try{for(K in s)w.setRequestHeader(K,s[K])}catch(N){}w.send(g.hasContent&&g.data||null);k=function(P,S){var ea,X,ha,da,sa;try{if(k&&(S||w.readyState===4)){k=d;if(y){w.onreadystatechange=p.noop;gb&&delete Xa[y]}if(S)w.readyState!==4&&w.abort();else{ea=
w.status;ha=w.getAllResponseHeaders();da={};if((sa=w.responseXML)&&sa.documentElement)da.xml=sa;da.text=w.responseText;try{X=w.statusText}catch(Aa){X=""}if(!ea&&g.isLocal&&!g.crossDomain)ea=da.text?200:404;else if(ea===1223)ea=204}}}catch(Da){S||u(-1,Da)}da&&u(ea,X,da,ha)};if(!g.async||w.readyState===4)k();else{y=++nc;if(gb){if(!Xa){Xa={};p(f).unload(gb)}Xa[y]=k}w.onreadystatechange=k}},abort:function(){k&&k(0,1)}}}});var cb={},Oa,Wa,oc=/^(?:toggle|show|hide)$/,pc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
ab,kb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Za;p.fn.extend({show:function(g,k,s){if(g||g===0)return this.animate(R("show",3),g,k,s);else{s=0;for(var u=this.length;s<u;s++){g=this[s];if(g.style){k=g.style.display;if(!p._data(g,"olddisplay")&&k==="none")k=g.style.display="";k===""&&p.css(g,"display")==="none"&&p._data(g,"olddisplay",Z(g.nodeName))}}for(s=0;s<u;s++){g=this[s];if(g.style){k=g.style.display;
if(k===""||k==="none")g.style.display=p._data(g,"olddisplay")||""}}return this}},hide:function(g,k,s){if(g||g===0)return this.animate(R("hide",3),g,k,s);else{s=0;for(var u=this.length;s<u;s++){g=this[s];if(g.style){k=p.css(g,"display");k!=="none"&&!p._data(g,"olddisplay")&&p._data(g,"olddisplay",k)}}for(s=0;s<u;s++)if(this[s].style)this[s].style.display="none";return this}},_toggle:p.fn.toggle,toggle:function(g,k,s){var u=typeof g==="boolean";if(p.isFunction(g)&&p.isFunction(k))this._toggle.apply(this,
arguments);else g==null||u?this.each(function(){var w=u?g:p(this).is(":hidden");p(this)[w?"show":"hide"]()}):this.animate(R("toggle",3),g,k,s);return this},fadeTo:function(g,k,s,u){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:k},g,s,u)},animate:function(g,k,s,u){function w(){y.queue===false&&p._mark(this);var K=p.extend({},y),N=this.nodeType===1,P=N&&p(this).is(":hidden"),S,ea,X,ha,da;K.animatedProperties={};for(X in g){S=p.camelCase(X);if(X!==S){g[S]=g[X];delete g[X]}ea=
g[S];if(p.isArray(ea)){K.animatedProperties[S]=ea[1];ea=g[S]=ea[0]}else K.animatedProperties[S]=K.specialEasing&&K.specialEasing[S]||K.easing||"swing";if(ea==="hide"&&P||ea==="show"&&!P)return K.complete.call(this);if(N&&(S==="height"||S==="width")){K.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(p.css(this,"display")==="inline"&&p.css(this,"float")==="none")if(!p.support.inlineBlockNeedsLayout||Z(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=
1}}if(K.overflow!=null)this.style.overflow="hidden";for(X in g){N=new p.fx(this,K,X);ea=g[X];if(oc.test(ea))if(S=p._data(this,"toggle"+X)||(ea==="toggle"?P?"show":"hide":0)){p._data(this,"toggle"+X,S==="show"?"hide":"show");N[S]()}else N[ea]();else{S=pc.exec(ea);ha=N.cur();if(S){ea=parseFloat(S[2]);da=S[3]||(p.cssNumber[X]?"":"px");if(da!=="px"){p.style(this,X,(ea||1)+da);ha=(ea||1)/N.cur()*ha;p.style(this,X,ha+da)}if(S[1])ea=(S[1]==="-="?-1:1)*ea+ha;N.custom(ha,ea,da)}else N.custom(ha,ea,"")}}return true}
var y=p.speed(k,s,u);if(p.isEmptyObject(g))return this.each(y.complete,[false]);g=p.extend({},g);return y.queue===false?this.each(w):this.queue(y.queue,w)},stop:function(g,k,s){if(typeof g!=="string"){s=k;k=g;g=d}if(k&&g!==false)this.queue(g||"fx",[]);return this.each(function(){function u(P,S,ea){S=S[ea];p.removeData(P,ea,true);S.stop(s)}var w,y=false,K=p.timers,N=p._data(this);s||p._unmark(true,this);if(g==null)for(w in N)N[w]&&N[w].stop&&w.indexOf(".run")===w.length-4&&u(this,N,w);else if(N[w=
g+".run"]&&N[w].stop)u(this,N,w);for(w=K.length;w--;)if(K[w].elem===this&&(g==null||K[w].queue===g)){s?K[w](true):K[w].saveState();y=true;K.splice(w,1)}s&&y||p.dequeue(this,g)})}});p.each({slideDown:R("show",1),slideUp:R("hide",1),slideToggle:R("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,k){p.fn[g]=function(s,u,w){return this.animate(k,s,u,w)}});p.extend({speed:function(g,k,s){var u=g&&typeof g==="object"?p.extend({},g):{complete:s||!s&&k||
p.isFunction(g)&&g,duration:g,easing:s&&k||k&&!p.isFunction(k)&&k};u.duration=p.fx.off?0:typeof u.duration==="number"?u.duration:u.duration in p.fx.speeds?p.fx.speeds[u.duration]:p.fx.speeds._default;if(u.queue==null||u.queue===true)u.queue="fx";u.old=u.complete;u.complete=function(w){p.isFunction(u.old)&&u.old.call(this);if(u.queue)p.dequeue(this,u.queue);else w!==false&&p._unmark(this)};return u},easing:{linear:function(g,k,s,u){return s+u*g},swing:function(g,k,s,u){return(-Math.cos(g*Math.PI)/
2+0.5)*u+s}},timers:[],fx:function(g,k,s){this.options=k;this.elem=g;this.prop=s;k.orig=k.orig||{}}});p.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(p.fx.step[this.prop]||p.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var g,k=p.css(this.elem,this.prop);return isNaN(g=parseFloat(k))?!k||k==="auto"?0:k:g},custom:function(g,k,s){function u(K){return w.step(K)}
var w=this,y=p.fx;this.startTime=Za||na();this.end=k;this.now=this.start=g;this.pos=this.state=0;this.unit=s||this.unit||(p.cssNumber[this.prop]?"":"px");u.queue=this.options.queue;u.elem=this.elem;u.saveState=function(){w.options.hide&&p._data(w.elem,"fxshow"+w.prop)===d&&p._data(w.elem,"fxshow"+w.prop,w.start)};if(u()&&p.timers.push(u)&&!ab)ab=setInterval(y.tick,y.interval)},show:function(){var g=p._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=g||p.style(this.elem,this.prop);
this.options.show=true;g!==d?this.custom(this.cur(),g):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());p(this.elem).show()},hide:function(){this.options.orig[this.prop]=p._data(this.elem,"fxshow"+this.prop)||p.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(g){var k,s=Za||na(),u=true,w=this.elem,y=this.options;if(g||s>=y.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();y.animatedProperties[this.prop]=true;
for(k in y.animatedProperties)if(y.animatedProperties[k]!==true)u=false;if(u){y.overflow!=null&&!p.support.shrinkWrapBlocks&&p.each(["","X","Y"],function(K,N){w.style["overflow"+N]=y.overflow[K]});y.hide&&p(w).hide();if(y.hide||y.show)for(k in y.animatedProperties){p.style(w,k,y.orig[k]);p.removeData(w,"fxshow"+k,true);p.removeData(w,"toggle"+k,true)}if(g=y.complete){y.complete=false;g.call(w)}}return false}else{if(y.duration==Infinity)this.now=s;else{g=s-this.startTime;this.state=g/y.duration;this.pos=
p.easing[y.animatedProperties[this.prop]](this.state,g,0,1,y.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};p.extend(p.fx,{tick:function(){for(var g,k=p.timers,s=0;s<k.length;s++){g=k[s];!g()&&k[s]===g&&k.splice(s--,1)}k.length||p.fx.stop()},interval:13,stop:function(){clearInterval(ab);ab=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(g){p.style(g.elem,"opacity",g.now)},_default:function(g){if(g.elem.style&&g.elem.style[g.prop]!=null)g.elem.style[g.prop]=
g.now+g.unit;else g.elem[g.prop]=g.now}}});p.each(["width","height"],function(g,k){p.fx.step[k]=function(s){p.style(s.elem,k,Math.max(0,s.now)+s.unit)}});if(p.expr&&p.expr.filters)p.expr.filters.animated=function(g){return p.grep(p.timers,function(k){return g===k.elem}).length};var qc=/^t(?:able|d|h)$/i,Cb=/^(?:body|html)$/i;p.fn.offset="getBoundingClientRect"in U.documentElement?function(g){var k=this[0],s;if(g)return this.each(function(K){p.offset.setOffset(this,g,K)});if(!k||!k.ownerDocument)return null;
if(k===k.ownerDocument.body)return p.offset.bodyOffset(k);try{s=k.getBoundingClientRect()}catch(u){}var w=k.ownerDocument,y=w.documentElement;if(!s||!p.contains(y,k))return s?{top:s.top,left:s.left}:{top:0,left:0};k=w.body;w=ma(w);return{top:s.top+(w.pageYOffset||p.support.boxModel&&y.scrollTop||k.scrollTop)-(y.clientTop||k.clientTop||0),left:s.left+(w.pageXOffset||p.support.boxModel&&y.scrollLeft||k.scrollLeft)-(y.clientLeft||k.clientLeft||0)}}:function(g){var k=this[0];if(g)return this.each(function(ea){p.offset.setOffset(this,
g,ea)});if(!k||!k.ownerDocument)return null;if(k===k.ownerDocument.body)return p.offset.bodyOffset(k);var s,u=k.offsetParent,w=k,y=k.ownerDocument,K=y.documentElement,N=y.body;s=(y=y.defaultView)?y.getComputedStyle(k,null):k.currentStyle;for(var P=k.offsetTop,S=k.offsetLeft;(k=k.parentNode)&&k!==N&&k!==K;){if(p.support.fixedPosition&&s.position==="fixed")break;s=y?y.getComputedStyle(k,null):k.currentStyle;P-=k.scrollTop;S-=k.scrollLeft;if(k===u){P+=k.offsetTop;S+=k.offsetLeft;if(p.support.doesNotAddBorder&&
!(p.support.doesAddBorderForTableAndCells&&qc.test(k.nodeName))){P+=parseFloat(s.borderTopWidth)||0;S+=parseFloat(s.borderLeftWidth)||0}w=u;u=k.offsetParent}if(p.support.subtractsBorderForOverflowNotVisible&&s.overflow!=="visible"){P+=parseFloat(s.borderTopWidth)||0;S+=parseFloat(s.borderLeftWidth)||0}s=s}if(s.position==="relative"||s.position==="static"){P+=N.offsetTop;S+=N.offsetLeft}if(p.support.fixedPosition&&s.position==="fixed"){P+=Math.max(K.scrollTop,N.scrollTop);S+=Math.max(K.scrollLeft,
N.scrollLeft)}return{top:P,left:S}};p.offset={bodyOffset:function(g){var k=g.offsetTop,s=g.offsetLeft;if(p.support.doesNotIncludeMarginInBodyOffset){k+=parseFloat(p.css(g,"marginTop"))||0;s+=parseFloat(p.css(g,"marginLeft"))||0}return{top:k,left:s}},setOffset:function(g,k,s){var u=p.css(g,"position");if(u==="static")g.style.position="relative";var w=p(g),y=w.offset(),K=p.css(g,"top"),N=p.css(g,"left"),P={},S={};if((u==="absolute"||u==="fixed")&&p.inArray("auto",[K,N])>-1){S=w.position();u=S.top;N=
S.left}else{u=parseFloat(K)||0;N=parseFloat(N)||0}if(p.isFunction(k))k=k.call(g,s,y);if(k.top!=null)P.top=k.top-y.top+u;if(k.left!=null)P.left=k.left-y.left+N;"using"in k?k.using.call(g,P):w.css(P)}};p.fn.extend({position:function(){if(!this[0])return null;var g=this[0],k=this.offsetParent(),s=this.offset(),u=Cb.test(k[0].nodeName)?{top:0,left:0}:k.offset();s.top-=parseFloat(p.css(g,"marginTop"))||0;s.left-=parseFloat(p.css(g,"marginLeft"))||0;u.top+=parseFloat(p.css(k[0],"borderTopWidth"))||0;u.left+=
parseFloat(p.css(k[0],"borderLeftWidth"))||0;return{top:s.top-u.top,left:s.left-u.left}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent||U.body;g&&!Cb.test(g.nodeName)&&p.css(g,"position")==="static";)g=g.offsetParent;return g})}});p.each(["Left","Top"],function(g,k){var s="scroll"+k;p.fn[s]=function(u){var w,y;if(u===d){w=this[0];if(!w)return null;return(y=ma(w))?"pageXOffset"in y?y[g?"pageYOffset":"pageXOffset"]:p.support.boxModel&&y.document.documentElement[s]||
y.document.body[s]:w[s]}return this.each(function(){if(y=ma(this))y.scrollTo(!g?u:p(y).scrollLeft(),g?u:p(y).scrollTop());else this[s]=u})}});p.each(["Height","Width"],function(g,k){var s=k.toLowerCase();p.fn["inner"+k]=function(){var u=this[0];return u?u.style?parseFloat(p.css(u,s,"padding")):this[s]():null};p.fn["outer"+k]=function(u){var w=this[0];return w?w.style?parseFloat(p.css(w,s,u?"margin":"border")):this[s]():null};p.fn[s]=function(u){var w=this[0];if(!w)return u==null?null:this;if(p.isFunction(u))return this.each(function(N){var P=
p(this);P[s](u.call(this,N,P[s]()))});if(p.isWindow(w)){var y=w.document.documentElement["client"+k],K=w.document.body;return w.document.compatMode==="CSS1Compat"&&y||K&&K["client"+k]||y}else if(w.nodeType===9)return Math.max(w.documentElement["client"+k],w.body["scroll"+k],w.documentElement["scroll"+k],w.body["offset"+k],w.documentElement["offset"+k]);else if(u===d){w=p.css(w,s);y=parseFloat(w);return p.isNumeric(y)?y:w}else return this.css(s,typeof u==="string"?u:u+"px")}});f.jQuery=f.$=p;typeof define===
"function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(f){return false}}();
storage||function(){var f=function(d){function e(q,o,v){var x;if(v){x=new Date;x.setTime(x.getTime()+v*24*60*60*1E3);v="; expires="+x.toGMTString()}else v="";document.cookie=q+"="+o+v+"; path=/"}function a(q){q=q+"=";var o=document.cookie.split(";"),v,x;for(v=0;v<o.length;v++){for(x=o[v];x.charAt(0)==" ";)x=x.substring(1,x.length);if(x.indexOf(q)==0)return x.substring(q.length,x.length)}return null}function c(q){q=JSON.stringify(q);if(d=="session")window.name=q;else e("localStorage",q,365)}function j(){if(d==
"session")window.name="";else e("localStorage","",365)}function n(){var q=d=="session"?window.name:a("localStorage");return q?JSON.parse(q):{}}var h=n();return{length:0,clear:function(){h={};this.length=0;j()},getItem:function(q){return h[q]===undefined?null:h[q]},key:function(q){var o=0;for(var v in h)if(o==q)return v;else o++;return null},removeItem:function(q){delete h[q];this.length--;c(h)},setItem:function(q,o){h[q]=o+"";this.length++;c(h)}}};window.Storage=new f("local");window.sessionStorage=
new f("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function f(o){return o<10?"0"+o:o}function d(o){c.lastIndex=0;return c.test(o)?'"'+o.replace(c,function(v){var x=h[v];return typeof x==="string"?x:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function e(o,v){var x,B,J=j,L,D=v[o];if(D&&typeof D==="object"&&typeof D.toJSON==="function")D=D.toJSON(o);if(typeof q==="function")D=q.call(v,o,D);switch(typeof D){case "string":return d(D);case "number":return isFinite(D)?
String(D):"null";case "boolean":case "null":return String(D);case "object":if(!D)return"null";j+=n;L=[];if(Object.prototype.toString.apply(D)==="[object Array]"){B=D.length;for(o=0;o<B;o+=1)L[o]=e(o,D)||"null";v=L.length===0?"[]":j?"[\n"+j+L.join(",\n"+j)+"\n"+J+"]":"["+L.join(",")+"]";j=J;return v}if(q&&typeof q==="object"){B=q.length;for(o=0;o<B;o+=1){x=q[o];if(typeof x==="string")if(v=e(x,D))L.push(d(x)+(j?": ":":")+v)}}else for(x in D)if(Object.hasOwnProperty.call(D,x))if(v=e(x,D))L.push(d(x)+
(j?": ":":")+v);v=L.length===0?"{}":j?"{\n"+j+L.join(",\n"+j)+"\n"+J+"}":"{"+L.join(",")+"}";j=J;return v}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,n,h={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(o,v,x){var B;n=j="";if(typeof x==="number")for(B=0;B<x;B+=1)n+=" ";else if(typeof x==="string")n=x;if((q=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":o})};if(typeof JSON.parse!=="function")JSON.parse=function(o,v){function x(B,J){var L,D,G=B[J];if(G&&typeof G==="object")for(L in G)if(Object.hasOwnProperty.call(G,L)){D=x(G,L);if(D!==undefined)G[L]=D;else delete G[L]}return v.call(B,J,G)}o=String(o);a.lastIndex=0;if(a.test(o))o=o.replace(a,function(B){return"\\u"+("0000"+B.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){o=eval("("+o+")");return typeof v==="function"?x({"":o},""):o}throw new SyntaxError("JSON.parse");}})()}})();function empty(f){if(!f)return false;var d;for(d=f.childNodes.length-1;d>=0;d--)f.removeChild(f.childNodes[d])}$.extend({linkUrl:function(f){if(f)return f.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(f){if(!f)return false;var d="",e=0;f=f.toString();for(var a=/(^[a-zA-Z0-9_.]*)/;e<f.length;){var c=a.exec(f.substr(e));if(c!=null&&c.length>1&&c[1]!=""){d+=c[1];e+=c[1].length}else{if(f[e]==" ")d+="+";else{c=f.charCodeAt(e).toString(16);d+="%"+(c.length<2?"0":"")+c.toUpperCase()}e++}}return d},URLDecode:function(f){f=f;for(var d,e=/(%[^%]{2})/;(m=e.exec(f))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);f=f.replace(m[1],d)}return f}});
$.extend({encode64:function(f){var d="",e,a,c,j,n,h,q=0;for(f=function(o){o=o.replace(/\r\n/g,"\n");for(var v="",x=0;x<o.length;x++){var B=o.charCodeAt(x);if(B<128)v+=String.fromCharCode(B);else{if(B>127&&B<2048)v+=String.fromCharCode(B>>6|192);else{v+=String.fromCharCode(B>>12|224);v+=String.fromCharCode(B>>6&63|128)}v+=String.fromCharCode(B&63|128)}}return v}(f);q<f.length;){e=f.charCodeAt(q++);a=f.charCodeAt(q++);c=f.charCodeAt(q++);j=e>>2;e=(e&3)<<4|a>>4;n=(a&15)<<2|c>>6;h=c&63;if(isNaN(a))n=
h=64;else if(isNaN(c))h=64;d=d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)}return d}});
$.fn.serializeObject=function(){var f={},d=this.serializeArray();$.each(d,function(){if(f[this.name]!==undefined){f[this.name].push||(f[this.name]=[f[this.name]]);f[this.name].push(this.value||"")}else f[this.name]=this.value||""});return f};steal.loaded("webapp/core/utils.js");
var WebService={connectError:"<strong>Could not connect to FastND web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us.",auth:function(f){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:f.username,password:f.password}},success:function(d){f.complete&&f.complete(d)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},
complete:function(){$.mobile.hidePageLoadingMsg()}})},focus:function(f){var d=function(e,a){e=e.title.toLowerCase();a=a.title.toLowerCase();if(e<a)return-1;if(e>a)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(e){e[0].profiles.sort(d);e[1].profiles.sort(d);e[2].profiles.sort(d);f.complete&&f.complete(e)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(f){Loader.show();
$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:f.data},success:function(d){finfore.data.user=d;finfore.storeData({user:d});f.complete&&f.complete(d)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(f){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(d){finfore.data.user=
d;finfore.storeData({user:d});f.complete&&f.complete(d)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},updateCompanies:function(f){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:f.userCompanyTabs}},success:function(){f.complete&&f.complete()}})},updateColumns:function(f){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+
".json",type:"PUT",data:{user:{feed_accounts_attributes:f.columns}},success:function(){f.complete&&f.complete()}})},getColumn:function(){}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},hide:function(){this.$body.removeClass("ui-loading")}},feedReader={},callbackCounter=-1;
feedReader.get=function(f){var d="select channel.title, channel.item.title, channel.item.link, channel.item.enclosure, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(f.sources,function(a,c){if(a!==0)d+=",";d+='"'+c+'"'});d+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+f.limit+")";var e="feedReaderCallback";if(f.callbackId)e+=f.callbackId;
else{callbackCounter++;e+=callbackCounter}window[e]=function(a){feedReaderCallback(a,f);delete window[e]};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:e,cache:true,data:{q:d,format:"json",_maxage:300,diagnostics:false}})};
function feedReaderCallback(f,d){var e=[],a="";if(f.query&&f.query.results&&f.query.results.rss){if(!$.isArray(f.query.results.rss))f.query.results.rss=[f.query.results.rss];e=$.map(f.query.results.rss,function(c){if(!c.channel.item)return null;if(c.channel.item.description)a=c.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(c.channel.item.summary)a=c.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:c.channel.item.title.replace(/(<([^>]+)>)/ig,
""),link:c.channel.item.link,description:a,pubDate:c.channel.item.pubDate?new Date(c.channel.item.pubDate):new Date(c.channel.item.date),source:c.channel.title,enclosure:c.channel.item.enclosure}}catch(j){return null}})}d.complete(e)}steal.loaded("webapp/core/api.js");
(function(f,d,e){typeof define==="function"&&define.amd?define(["jquery"],function(a){e(a,f,d);return a.mobile}):e(f.jQuery,f,d)})(this,document,function(f,d,e){(function(a,c,j,n){function h(ga){for(;ga&&typeof ga.originalEvent!=="undefined";)ga=ga.originalEvent;return ga}function q(ga,oa){var pa=ga.type,ya,Ha,Ja;ga=a.Event(ga);ga.type=oa;ya=ga.originalEvent;Ha=a.event.props;if(pa.search(/^(mouse|click)/)>-1)Ha=M;if(ya)for(Ja=Ha.length;Ja;){oa=Ha[--Ja];ga[oa]=ya[oa]}if(pa.search(/mouse(down|up)|click/)>
-1&&!ga.which)ga.which=1;if(pa.search(/^touch/)!==-1){oa=h(ya);pa=oa.touches;oa=oa.changedTouches;if(pa=pa&&pa.length?pa[0]:oa&&oa.length?oa[0]:n){ya=0;for(len=na.length;ya<len;ya++){oa=na[ya];ga[oa]=pa[oa]}}}return ga}function o(ga){for(var oa={},pa,ya;ga;){pa=a.data(ga,Y);for(ya in pa)if(pa[ya])oa[ya]=oa.hasVirtualBinding=true;ga=ga.parentNode}return oa}function v(ga,oa){for(var pa;ga;){if((pa=a.data(ga,Y))&&(!oa||pa[oa]))return ga;ga=ga.parentNode}return null}function x(){va=false}function B(){va=
true}function J(){Ia=0;ra.length=0;p=false;B()}function L(){x()}function D(){G();Z=setTimeout(function(){Z=0;J()},a.vmouse.resetTimerDuration)}function G(){if(Z){clearTimeout(Z);Z=0}}function A(ga,oa,pa){var ya;if(pa&&pa[ga]||!pa&&v(oa.target,ga)){ya=q(oa,ga);a(oa.target).trigger(ya)}return ya}function C(ga){var oa=a.data(ga.target,ka);if(!p&&(!Ia||Ia!==oa))if(oa=A("v"+ga.type,ga)){oa.isDefaultPrevented()&&ga.preventDefault();oa.isPropagationStopped()&&ga.stopPropagation();oa.isImmediatePropagationStopped()&&
ga.stopImmediatePropagation()}}function t(ga){var oa=h(ga).touches,pa;if(oa&&oa.length===1){pa=ga.target;oa=o(pa);if(oa.hasVirtualBinding){Ia=za++;a.data(pa,ka,Ia);G();L();qa=false;pa=h(ga).touches[0];ma=pa.pageX;U=pa.pageY;A("vmouseover",ga,oa);A("vmousedown",ga,oa)}}}function r(ga){if(!va){qa||A("vmousecancel",ga,o(ga.target));qa=true;D()}}function F(ga){if(!va){var oa=h(ga).touches[0],pa=qa,ya=a.vmouse.moveDistanceThreshold;qa=qa||Math.abs(oa.pageX-ma)>ya||Math.abs(oa.pageY-U)>ya;flags=o(ga.target);
qa&&!pa&&A("vmousecancel",ga,flags);A("vmousemove",ga,flags);D()}}function H(ga){if(!va){B();var oa=o(ga.target),pa;A("vmouseup",ga,oa);if(!qa)if((pa=A("vclick",ga,oa))&&pa.isDefaultPrevented()){pa=h(ga).changedTouches[0];ra.push({touchID:Ia,x:pa.clientX,y:pa.clientY});p=true}A("vmouseout",ga,oa);qa=false;D()}}function E(ga){ga=a.data(ga,Y);var oa;if(ga)for(oa in ga)if(ga[oa])return true;return false}function O(){}function V(ga){var oa=ga.substr(1);return{setup:function(){E(this)||a.data(this,Y,{});
a.data(this,Y)[ga]=true;R[ga]=(R[ga]||0)+1;R[ga]===1&&Fa.bind(oa,C);a(this).bind(oa,O);if(Ca){R.touchstart=(R.touchstart||0)+1;R.touchstart===1&&Fa.bind("touchstart",t).bind("touchend",H).bind("touchmove",F).bind("scroll",r)}},teardown:function(){--R[ga];R[ga]||Fa.unbind(oa,C);if(Ca){--R.touchstart;R.touchstart||Fa.unbind("touchstart",t).unbind("touchmove",F).unbind("touchend",H).unbind("scroll",r)}var pa=a(this),ya=a.data(this,Y);if(ya)ya[ga]=false;pa.unbind(oa,O);E(this)||pa.removeData(Y)}}}var Y=
"virtualMouseBindings",ka="virtualTouchID";c="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var na="clientX clientY pageX pageY screenX screenY".split(" "),M=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),R={},Z=0,ma=0,U=0,qa=false,ra=[],p=false,va=false,Ca="addEventListener"in j,Fa=a(j),za=1,Ia=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var La=0;La<c.length;La++)a.event.special[c[La]]=V(c[La]);
Ca&&j.addEventListener("click",function(ga){var oa=ra.length,pa=ga.target,ya,Ha,Ja,Ka,Ra;if(oa){ya=ga.clientX;Ha=ga.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Ja=pa;Ja;){for(Ka=0;Ka<oa;Ka++){Ra=ra[Ka];if(Ja===pa&&Math.abs(Ra.x-ya)<threshold&&Math.abs(Ra.y-Ha)<threshold||a.data(Ja,ka)===Ra.touchID){ga.preventDefault();ga.stopPropagation();return}}Ja=Ja.parentNode}}},true)})(jQuery,d,e);(function(a,c,j){function n(J){J=J||location.href;return"#"+J.replace(/^[^#]*#?(.*)$/,"$1")}var h="hashchange",
q=e,o,v=a.event.special,x=q.documentMode,B="on"+h in c&&(x===j||x>7);a.fn[h]=function(J){return J?this.bind(h,J):this.trigger(h)};a.fn[h].delay=50;v[h]=a.extend(v[h],{setup:function(){if(B)return false;a(o.start)},teardown:function(){if(B)return false;a(o.stop)}});o=function(){function J(){var r=n(),F=t(G);if(r!==G){C(G=r,F);a(c).trigger(h)}else if(F!==G)location.href=location.href.replace(/#.*/,"")+F;D=setTimeout(J,a.fn[h].delay)}var L={},D,G=n(),A=function(r){return r},C=A,t=A;L.start=function(){D||
J()};L.stop=function(){D&&clearTimeout(D);D=j};a.browser.msie&&!B&&function(){var r,F;L.start=function(){if(!r){F=(F=a.fn[h].src)&&F+n();r=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){F||C(n());J()}).attr("src",F||"javascript:0").insertAfter("body")[0].contentWindow;q.onpropertychange=function(){try{if(event.propertyName==="title")r.document.title=q.title}catch(H){}}}};L.stop=A;t=function(){return n(r.location.href)};C=function(H,E){var O=r.document,V=a.fn[h].domain;if(H!==
E){O.title=q.title;O.open();V&&O.write('<script>document.domain="'+V+'"<\/script>');O.close();r.location.hash=H}}}();return L}()})(jQuery,this);(function(a,c){if(a.cleanData){var j=a.cleanData;a.cleanData=function(h){for(var q=0,o;(o=h[q])!=null;q++)a(o).triggerHandler("remove");j(h)}}else{var n=a.fn.remove;a.fn.remove=function(h,q){return this.each(function(){if(!q)if(!h||a.filter(h,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return n.call(a(this),h,
q)})}}a.widget=function(h,q,o){var v=h.split(".")[0],x;h=h.split(".")[1];x=v+"-"+h;if(!o){o=q;q=a.Widget}a.expr[":"][x]=function(B){return!!a.data(B,h)};a[v]=a[v]||{};a[v][h]=function(B,J){arguments.length&&this._createWidget(B,J)};q=new q;q.options=a.extend(true,{},q.options);a[v][h].prototype=a.extend(true,q,{namespace:v,widgetName:h,widgetEventPrefix:a[v][h].prototype.widgetEventPrefix||h,widgetBaseClass:x},o);a.widget.bridge(h,a[v][h])};a.widget.bridge=function(h,q){a.fn[h]=function(o){var v=
typeof o==="string",x=Array.prototype.slice.call(arguments,1),B=this;o=!v&&x.length?a.extend.apply(null,[true,o].concat(x)):o;if(v&&o.charAt(0)==="_")return B;v?this.each(function(){var J=a.data(this,h);if(!J)throw"cannot call methods on "+h+" prior to initialization; attempted to call method '"+o+"'";if(!a.isFunction(J[o]))throw"no such method '"+o+"' for "+h+" widget instance";var L=J[o].apply(J,x);if(L!==J&&L!==c){B=L;return false}}):this.each(function(){var J=a.data(this,h);J?J.option(o||{})._init():
a.data(this,h,new q(o,this))});return B}};a.Widget=function(h,q){arguments.length&&this._createWidget(h,q)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(h,q){a.data(q,this.widgetName,this);this.element=a(q);this.options=a.extend(true,{},this.options,this._getCreateOptions(),h);var o=this;this.element.bind("remove."+this.widgetName,function(){o.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var h=
{};if(a.metadata)h=a.metadata.get(element)[this.widgetName];return h},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(h,q){var o=h;if(arguments.length===0)return a.extend({},this.options);if(typeof h==="string"){if(q===c)return this.options[h];
o={};o[h]=q}this._setOptions(o);return this},_setOptions:function(h){var q=this;a.each(h,function(o,v){q._setOption(o,v)});return this},_setOption:function(h,q){this.options[h]=q;if(h==="disabled")this.widget()[q?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",q);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(h,q,o){var v=this.options[h];q=a.Event(q);
q.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase();o=o||{};if(q.originalEvent){h=a.event.props.length;for(var x;h;){x=a.event.props[--h];q[x]=q.originalEvent[x]}}this.element.trigger(q,o);return!(a.isFunction(v)&&v.call(this.element[0],q,o)===false||q.isDefaultPrevented())}}})(jQuery);(function(a,c){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var j=this.element,
n={};a.each(this.options,function(h){var q=j.jqmData(h.replace(/[A-Z]/g,function(o){return"-"+o.toLowerCase()}));if(q!==c)n[h]=q});return n},enhanceWithin:function(j,n){this.enhance(a(this.options.initSelector,a(j)),n)},enhance:function(j,n){j=a(j);j=a.mobile.enhanceable(j);if(n&&j.length){n=(n=a.mobile.closestPageData(j))&&n.keepNativeSelector()||"";j=j.not(n)}j[this.widgetName]()},raise:function(j){throw"Widget ["+this.widgetName+"]: "+j;}})})(jQuery);(function(a,c){var j={};a.mobile=a.extend({},
{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(q){if(a.type(q)!==
"number")q=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;setTimeout(function(){c.scrollTo(0,q);a(e).trigger("silentscroll",{x:0,y:q})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:j,nsNormalize:function(q){if(q)return j[q]||(j[q]=a.camelCase(a.mobile.ns+q))},getInheritedTheme:function(q,o){q=q[0];for(var v="",x=/ui-(bar|body|overlay)-([a-z])\b/,B,J;q;){B=q.className||"";if((J=x.exec(B))&&(v=J[2]))break;q=q.parentNode}return v||o||
"a"},closestPageData:function(q){return q.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(q){return this.haveParents(q,"enhance")},hijackable:function(q){return this.haveParents(q,"ajax")},haveParents:function(q,o){if(!a.mobile.ignoreContentEnabled)return q;for(var v=q.length,x=a(),B,J,L,D=0;D<v;D++){J=q.eq(D);L=false;for(B=q[D];B;){if((B.getAttribute?B.getAttribute("data-"+a.mobile.ns+o):"")==="false"){L=true;break}B=B.parentNode}L||(x=x.add(J))}return x}},
a.mobile);a.fn.jqmData=function(q,o){var v;if(typeof q!="undefined"){if(q)q=a.mobile.nsNormalize(q);v=this.data.apply(this,arguments.length<2?[q]:[q,o])}return v};a.jqmData=function(q,o,v){var x;if(typeof o!="undefined")x=a.data(q,o?a.mobile.nsNormalize(o):o,v);return x};a.fn.jqmRemoveData=function(q){return this.removeData(a.mobile.nsNormalize(q))};a.jqmRemoveData=function(q,o){return a.removeData(q,a.mobile.nsNormalize(o))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=
function(q){q=a(q);(q.jqmData("dependents")||a()).remove();q.remove()};a.fn.addDependents=function(q){a.addDependents(a(this),q)};a.addDependents=function(q,o){var v=a(q).jqmData("dependents")||a();a(q).jqmData("dependents",a.merge(v,o))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)};a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var n=a.find,h=/:jqmData\(([^)]*)\)/g;a.find=function(q,
o,v,x){q=q.replace(h,"[data-"+(a.mobile.ns||"")+"$1]");return n.call(this,q,o,v,x)};a.extend(a.find,n);a.find.matches=function(q,o){return a.find(q,null,null,o)};a.find.matchesSelector=function(q,o){return a.find(o,null,null,[q]).length>0}})(jQuery,this);(function(a){a(d);var c=a("html");a.mobile.media=function(){var j={},n=a("<div id='jquery-mediatest'>"),h=a("<body>").append(n);return function(q){if(!(q in j)){var o=e.createElement("style"),v="@media "+q+" { #jquery-mediatest { position:absolute; } }";
o.type="text/css";if(o.styleSheet)o.styleSheet.cssText=v;else o.appendChild(e.createTextNode(v));c.prepend(h).prepend(o);j[q]=n.css("position")==="absolute";h.add(o).remove()}return j[q]}}()})(jQuery);(function(a,c){function j(D){var G=D.charAt(0).toUpperCase()+D.substr(1);D=(D+" "+x.join(G+" ")+G).split(" ");for(var A in D)if(v[D[A]]!==c)return true}function n(D,G,A){var C=e.createElement("div"),t=function(E){return E.charAt(0).toUpperCase()+E.substr(1)},r=function(E){return"-"+E.charAt(0).toLowerCase()+
E.substr(1)+"-"},F=function(E){var O=r(E)+D+": "+G+";";E=t(E)+t(D);C.setAttribute("style",O);if(C.style[E])H=true};A=A?[A]:x;var H;for(i=0;i<A.length;i++)F(A[i]);return!!H}function h(){return n("perspective","10px","moz")||a.mobile.media("(-"+x.join("-transform-3d),(-")+"-transform-3d),(transform-3d)")}function q(){var D=location.protocol+"//"+location.host+location.pathname+"ui-dir/",G=a("head base"),A=null,C="",t;if(G.length)C=G.attr("href");else G=A=a("<base>",{href:D}).appendTo("head");t=a("<a href='testurl' />").prependTo(o)[0].href;
G[0].href=C||location.pathname;A&&A.remove();return t.indexOf(D)===0}var o=a("<body>").prependTo("html"),v=o[0].style,x=["Webkit","Moz","O"],B="palmGetResource"in d,J=d.operamini&&{}.toString.call(d.operamini)==="[object OperaMini]",L=d.blackberry;a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){for(var D=3,G=e.createElement("div"),A=G.all||[];G.innerHTML="<!--[if gt IE "+ ++D+"]><br><![endif]--\>",A[0];);return D>4?D:!D}();a.extend(a.support,{orientation:"orientation"in d&&"onorientationchange"in
d,touch:"ontouchend"in e,cssTransitions:"WebKitTransitionEvent"in d||n("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!j("content"),touchOverflow:!!j("overflowScrolling"),cssTransform3d:h(),boxShadow:!!j("boxShadow")&&!L,scrollTop:("pageXOffset"in d||"scrollTop"in e.documentElement||"scrollTop"in o[0])&&!B&&!J,dynamicBaseTag:q()});o.remove();B=function(){var D=d.navigator.userAgent;return D.indexOf("Nokia")>
-1&&(D.indexOf("Symbian/3")>-1||D.indexOf("Series60/5")>-1)&&D.indexOf("AppleWebKit")>-1&&D.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7};a.mobile.ajaxBlacklist=d.blackberry&&!d.WebKitPoint||J||B;B&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(a,
c,j){function n(x,B,J){var L=J.type;J.type=B;a.event.handle.call(x,J);J.type=L}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(x,B){a.fn[B]=function(J){return J?this.bind(B,J):this.trigger(B)};a.attrFn[B]=true});var h=a.support.touch,q=h?"touchstart":"mousedown",o=h?"touchend":"mouseup",v=h?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function x(D,G){J=G;
n(B,J?"scrollstart":"scrollstop",D)}var B=this,J,L;a(B).bind("touchmove scroll",function(D){if(a.event.special.scrollstart.enabled){J||x(D,true);clearTimeout(L);L=setTimeout(function(){x(D,false)},50)}})}};a.event.special.tap={setup:function(){var x=this,B=a(x);B.bind("vmousedown",function(J){function L(){clearTimeout(C)}function D(){L();B.unbind("vclick",G).unbind("vmouseup",L);a(e).unbind("vmousecancel",D)}function G(t){D();A==t.target&&n(x,"tap",t)}if(J.which&&J.which!==1)return false;var A=J.target,
C;B.bind("vmouseup",L).bind("vclick",G);a(e).bind("vmousecancel",D);C=setTimeout(function(){n(x,"taphold",a.Event("taphold",{target:A}))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var x=a(this);x.bind(q,function(B){function J(A){if(D){var C=A.originalEvent.touches?A.originalEvent.touches[0]:A;G={time:(new Date).getTime(),coords:[C.pageX,C.pageY]};Math.abs(D.coords[0]-G.coords[0])>
a.event.special.swipe.scrollSupressionThreshold&&A.preventDefault()}}var L=B.originalEvent.touches?B.originalEvent.touches[0]:B,D={time:(new Date).getTime(),coords:[L.pageX,L.pageY],origin:a(B.target)},G;x.bind(v,J).one(o,function(){x.unbind(v,J);if(D&&G)if(G.time-D.time<a.event.special.swipe.durationThreshold&&Math.abs(D.coords[0]-G.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(D.coords[1]-G.coords[1])<a.event.special.swipe.verticalDistanceThreshold)D.origin.trigger("swipe").trigger(D.coords[0]>
G.coords[0]?"swipeleft":"swiperight");D=G=j})})}};(function(x,B){function J(){var r=D();if(r!==G){G=r;L.trigger("orientationchange")}}var L=x(B),D,G,A,C,t={"0":true,"180":true};if(x.support.orientation){A=B.innerWidth||x(B).width();C=B.innerHeight||x(B).height();A=A>C&&A-C>50;C=t[B.orientation];if(A&&C||!A&&!C)t={"-90":true,"90":true}}x.event.special.orientationchange={setup:function(){if(x.support.orientation&&x.mobile.orientationChangeEnabled)return false;G=D();L.bind("throttledresize",J)},teardown:function(){if(x.support.orientation&&
x.mobile.orientationChangeEnabled)return false;L.unbind("throttledresize",J)},add:function(r){var F=r.handler;r.handler=function(H){H.orientation=D();return F.apply(this,arguments)}}};x.event.special.orientationchange.orientation=D=function(){var r=true;r=e.documentElement;return(r=x.support.orientation?t[B.orientation]:r&&r.clientWidth/r.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,c);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",x)},teardown:function(){a(this).unbind("resize",
x)}};var x=function(){L=(new Date).getTime();D=L-B;if(D>=250){B=L;a(this).trigger("throttledresize")}else{J&&clearTimeout(J);J=setTimeout(x,250-D)}},B=0,J,L,D})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(x,B){a.event.special[x]={setup:function(){a(this).bind(B,a.noop)}}})})(jQuery,this);(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var c=
this;if(c._trigger("beforecreate")===false)return false;c.element.attr("tabindex","0").addClass("ui-page ui-body-"+c.options.theme).bind("pagebeforehide",function(){c.removeContainerBackground()}).bind("pagebeforeshow",function(){c.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(c){if(this.options.theme)a.mobile.pageContainer.addClass("ui-overlay-"+
(c||this.options.theme))},keepNativeSelector:function(){var c=this.options;if(c.keepNative&&a.trim(c.keepNative)&&c.keepNative!==c.keepNativeDefault)return[c.keepNative,c.keepNativeDefault].join(", ");return c.keepNativeDefault}})})(jQuery);(function(a,c,j){var n=function(q){if(q===j)q=true;return function(o,v,x,B){var J=new a.Deferred,L=v?" reverse":"",D=a.mobile.urlHistory.getActive().lastScroll||a.mobile.defaultHomeScroll,G=a.mobile.getScreenHeight(),A=a.mobile.maxTransitionWidth!==false&&a(c).width()>
a.mobile.maxTransitionWidth,C=!a.support.cssTransitions||A||!o||o==="none",t=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+o)},r=function(){a.event.special.scrollstart.enabled=false;c.scrollTo(0,D);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},F=function(){B.removeClass(a.mobile.activePageClass+" out in reverse "+o).height("")};A=function(){q?B.animationComplete(H):H();B.height(G+a(c).scrollTop()).addClass(o+" out"+L)};var H=function(){B&&
q&&F();E()},E=function(){x.addClass(a.mobile.activePageClass);a.mobile.focusPage(x);x.height(G+D);r();C||x.animationComplete(O);x.addClass(o+" in"+L);C&&O()},O=function(){q||B&&F();x.removeClass("out in reverse "+o).height("");t();a(c).scrollTop()!==D&&r();J.resolve(o,v,x,B,true)};t();B&&!C?A():H();return J.promise()}},h=n();n=n(false);a.mobile.defaultTransitionHandler=h;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:h,simultaneous:n};a.mobile.transitionFallbacks=
{}})(jQuery,this);(function(a,c){function j(M){if(G&&(!G.closest(".ui-page-active").length||M))G.removeClass(a.mobile.activeBtnClass);G=null}function n(){t=false;C.length>0&&a.mobile.changePage.apply(null,C.pop())}function h(M,R,Z,ma){R&&R.data("page")._trigger("beforehide",null,{nextPage:M});M.data("page")._trigger("beforeshow",null,{prevPage:R||a("")});a.mobile.hidePageLoadingMsg();if(Z&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[Z])Z=a.mobile.transitionFallbacks[Z];Z=(a.mobile.transitionHandlers[Z||
"default"]||a.mobile.defaultTransitionHandler)(Z,ma,M,R);Z.done(function(){R&&R.data("page")._trigger("hide",null,{nextPage:M});M.data("page")._trigger("show",null,{prevPage:R||a("")})});return Z}function q(){return d.innerHeight||a(d).height()}function o(){var M=a("."+a.mobile.activePageClass),R=parseFloat(M.css("padding-top")),Z=parseFloat(M.css("padding-bottom"));M.css("min-height",q()-R-Z)}function v(M,R){R&&M.attr("data-"+a.mobile.ns+"role",R);M.page()}function x(M){for(;M;){if(typeof M.nodeName===
"string"&&M.nodeName.toLowerCase()=="a")break;M=M.parentNode}return M}function B(M){M=a(M).closest(".ui-page").jqmData("url");var R=E.hrefNoHash;if(!M||!D.isPath(M))M=R;return D.makeUrlAbsolute(M,R)}var J=a(d);a("html");var L=a("head"),D={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(M){if(a.type(M)==="object")return M;M=D.urlParseRE.exec(M||
"")||[];return{href:M[0]||"",hrefNoHash:M[1]||"",hrefNoSearch:M[2]||"",domain:M[3]||"",protocol:M[4]||"",doubleSlash:M[5]||"",authority:M[6]||"",username:M[8]||"",password:M[9]||"",host:M[10]||"",hostname:M[11]||"",port:M[12]||"",pathname:M[13]||"",directory:M[14]||"",filename:M[15]||"",search:M[16]||"",hash:M[17]||""}},makePathAbsolute:function(M,R){if(M&&M.charAt(0)==="/")return M;M=M||"";R=(R=R?R.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?R.split("/"):[];M=M.split("/");for(var Z=0;Z<M.length;Z++){var ma=
M[Z];switch(ma){case ".":break;case "..":R.length&&R.pop();break;default:R.push(ma);break}}return"/"+R.join("/")},isSameDomain:function(M,R){return D.parseUrl(M).domain===D.parseUrl(R).domain},isRelativeUrl:function(M){return D.parseUrl(M).protocol===""},isAbsoluteUrl:function(M){return D.parseUrl(M).protocol!==""},makeUrlAbsolute:function(M,R){if(!D.isRelativeUrl(M))return M;M=D.parseUrl(M);R=D.parseUrl(R);var Z=M.protocol||R.protocol,ma=M.protocol?M.doubleSlash:M.doubleSlash||R.doubleSlash,U=M.authority||
R.authority,qa=M.pathname!=="",ra=D.makePathAbsolute(M.pathname||R.filename,R.pathname);return Z+ma+U+ra+(M.search||!qa&&R.search||"")+M.hash},addSearchParams:function(M,R){M=D.parseUrl(M);R=typeof R==="object"?a.param(R):R;var Z=M.search||"?";return M.hrefNoSearch+Z+(Z.charAt(Z.length-1)!=="?"?"&":"")+R+(M.hash||"")},convertUrlToDataUrl:function(M){var R=D.parseUrl(M);if(D.isEmbeddedPage(R))return R.hash.split(r)[0].replace(/^#/,"");else if(D.isSameDomain(R,E))return R.hrefNoHash.replace(E.domain,
"");return M},get:function(M){if(M===c)M=location.hash;return D.stripHash(M).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(M){var R="&"+a.mobile.subPageUrlKey;return M&&M.split(R)[0].split(r)[0]},set:function(M){location.hash=M},isPath:function(M){return/\//.test(M)},clean:function(M){return M.replace(E.domain,"")},stripHash:function(M){return M.replace(/^#/,"")},cleanHash:function(M){return D.stripHash(M.replace(/\?.*$/,"").replace(r,""))},isExternal:function(M){M=D.parseUrl(M);return M.protocol&&
M.domain!==H.domain?true:false},hasProtocol:function(M){return/^(:?\w+:)/.test(M)},isFirstPageUrl:function(M){M=D.parseUrl(D.makeUrlAbsolute(M,E));var R=a.mobile.firstPage;R=R&&R[0]?R[0].id:c;return(M.hrefNoHash===H.hrefNoHash||O&&M.hrefNoHash===E.hrefNoHash)&&(!M.hash||M.hash==="#"||R&&M.hash.replace(/^#/,"")===R)},isEmbeddedPage:function(M){M=D.parseUrl(M);if(M.protocol!=="")return M.hash&&(M.hrefNoHash===H.hrefNoHash||O&&M.hrefNoHash===E.hrefNoHash);return/^#/.test(M.href)}},G=null,A={stack:[],
activeIndex:0,getActive:function(){return A.stack[A.activeIndex]},getPrev:function(){return A.stack[A.activeIndex-1]},getNext:function(){return A.stack[A.activeIndex+1]},addNew:function(M,R,Z,ma,U){A.getNext()&&A.clearForward();A.stack.push({url:M,transition:R,title:Z,pageUrl:ma,role:U});A.activeIndex=A.stack.length-1},clearForward:function(){A.stack=A.stack.slice(0,A.activeIndex+1)},directHashChange:function(M){var R,Z,ma;this.getActive();a.each(A.stack,function(U,qa){if(M.currentUrl===qa.url){R=
U<A.activeIndex;Z=!R;ma=U}});this.activeIndex=ma!==c?ma:this.activeIndex;if(R)(M.either||M.isBack)(true);else if(Z)(M.either||M.isForward)(false)},ignoreNextHashChange:false},C=[],t=false,r="&ui-state=dialog",F=L.children("base"),H=D.parseUrl(location.href),E=F.length?D.parseUrl(D.makeUrlAbsolute(F.attr("href"),H.href)):H,O=H.hrefNoHash!==E.hrefNoHash,V=a.support.dynamicBaseTag?{element:F.length?F:a("<base>",{href:E.hrefNoHash}).prependTo(L),set:function(M){V.element.attr("href",D.makeUrlAbsolute(M,
E))},reset:function(){V.element.attr("href",E.hrefNoHash)}}:c;a.mobile.focusPage=function(M){var R=M.find("[autofocus]"),Z=M.find(".ui-title:eq(0)");if(R.length)R.focus();else Z.length?Z.focus():M.focus()};var Y=true,ka,na;ka=function(){if(Y){var M=a.mobile.urlHistory.getActive();if(M){var R=J.scrollTop();M.lastScroll=R<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:R}}};na=function(){setTimeout(ka,100)};J.bind(a.support.pushState?"popstate":"hashchange",function(){Y=false});J.one(a.support.pushState?
"popstate":"hashchange",function(){Y=true});J.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){Y=true;J.unbind("scrollstop",na);J.bind("scrollstop",na)})});J.bind("scrollstop",na);a.mobile.getScreenHeight=q;a.fn.animationComplete=function(M){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd animationend",M);else{setTimeout(M,0);return a(this)}};a.mobile.path=D;a.mobile.base=V;a.mobile.urlHistory=A;a.mobile.dialogHashKey=r;a.mobile.allowCrossDomainPages=
false;a.mobile.getDocumentUrl=function(M){return M?a.extend({},H):H.href};a.mobile.getDocumentBase=function(M){return M?a.extend({},E):E.href};a.mobile._bindPageRemove=function(){var M=a(this);!M.data("page").options.domCache&&M.is(":jqmData(external-page='true')")&&M.bind("pagehide.remove",function(){var R=a(this),Z=new a.Event("pageremove");R.trigger(Z);Z.isDefaultPrevented()||R.removeWithDependents()})};a.mobile.loadPage=function(M,R){var Z=a.Deferred(),ma=a.extend({},a.mobile.loadPage.defaults,
R),U=null,qa=null,ra=D.makeUrlAbsolute(M,function(){return a.mobile.activePage&&B(a.mobile.activePage)||E.hrefNoHash}());if(ma.data&&ma.type==="get"){ra=D.addSearchParams(ra,ma.data);ma.data=c}if(ma.data&&ma.type==="post")ma.reloadPage=true;var p=D.getFilePath(ra),va=D.convertUrlToDataUrl(ra);ma.pageContainer=ma.pageContainer||a.mobile.pageContainer;U=ma.pageContainer.children(":jqmData(url='"+va+"')");if(U.length===0&&va&&!D.isPath(va))U=ma.pageContainer.children("#"+va).attr("data-"+a.mobile.ns+
"url",va);if(U.length===0)if(a.mobile.firstPage&&D.isFirstPageUrl(p)){if(a.mobile.firstPage.parent().length)U=a(a.mobile.firstPage)}else if(D.isEmbeddedPage(p)){Z.reject(ra,R);return Z.promise()}V&&V.reset();if(U.length){if(!ma.reloadPage){v(U,ma.role);Z.resolve(ra,R,U);return Z.promise()}qa=U}var Ca=ma.pageContainer,Fa=new a.Event("pagebeforeload"),za={url:M,absUrl:ra,dataUrl:va,deferred:Z,options:ma};Ca.trigger(Fa,za);if(Fa.isDefaultPrevented())return Z.promise();if(ma.showLoadMsg)var Ia=setTimeout(function(){a.mobile.showPageLoadingMsg()},
ma.loadMsgDelay),La=function(){clearTimeout(Ia);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||D.isSameDomain(H,ra)?a.ajax({url:p,type:ma.type,data:ma.data,dataType:"html",success:function(ga,oa,pa){var ya=a("<div></div>"),Ha=ga.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ja=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),Ka=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ja.test(ga)&&RegExp.$1&&Ka.test(RegExp.$1)&&RegExp.$1)M=p=D.getFilePath(RegExp.$1);
V&&V.set(p);ya.get(0).innerHTML=ga;U=ya.find(":jqmData(role='page'), :jqmData(role='dialog')").first();U.length||(U=a("<div data-"+a.mobile.ns+"role='page'>"+ga.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Ha&&!U.jqmData("title")){if(~Ha.indexOf("&"))Ha=a("<div>"+Ha+"</div>").text();U.jqmData("title",Ha)}if(!a.support.dynamicBaseTag){var Ra=D.get(p);U.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Ya=a(this).is("[href]")?"href":a(this).is("[src]")?
"src":"action",Sa=a(this).attr(Ya);Sa=Sa.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Sa)||a(this).attr(Ya,Ra+Sa)})}U.attr("data-"+a.mobile.ns+"url",D.convertUrlToDataUrl(p)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(ma.pageContainer);U.one("pagecreate",a.mobile._bindPageRemove);v(U,ma.role);if(ra.indexOf("&"+a.mobile.subPageUrlKey)>-1)U=ma.pageContainer.children(":jqmData(url='"+va+"')");ma.showLoadMsg&&La();za.xhr=pa;za.textStatus=oa;za.page=
U;ma.pageContainer.trigger("pageload",za);Z.resolve(ra,R,U,qa)},error:function(ga,oa,pa){V&&V.set(D.get());za.xhr=ga;za.textStatus=oa;za.errorThrown=pa;ga=new a.Event("pageloadfailed");ma.pageContainer.trigger(ga,za);if(!ga.isDefaultPrevented()){if(ma.showLoadMsg){La();a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,true);setTimeout(a.mobile.hidePageLoadingMsg,1500)}Z.reject(ra,R)}}}):Z.reject(ra,R);return Z.promise()};a.mobile.loadPage.defaults={type:"get",
data:c,reloadPage:false,role:c,showLoadMsg:false,pageContainer:c,loadMsgDelay:50};a.mobile.changePage=function(M,R){if(t)C.unshift(arguments);else{var Z=a.extend({},a.mobile.changePage.defaults,R);Z.pageContainer=Z.pageContainer||a.mobile.pageContainer;Z.fromPage=Z.fromPage||a.mobile.activePage;var ma=Z.pageContainer,U=new a.Event("pagebeforechange"),qa={toPage:M,options:Z};ma.trigger(U,qa);if(!U.isDefaultPrevented()){M=qa.toPage;t=true;if(typeof M=="string")a.mobile.loadPage(M,Z).done(function(oa,
pa,ya,Ha){t=false;pa.duplicateCachedPage=Ha;a.mobile.changePage(ya,pa)}).fail(function(){t=false;j(true);n();Z.pageContainer.trigger("pagechangefailed",qa)});else{if(M[0]===a.mobile.firstPage[0]&&!Z.dataUrl)Z.dataUrl=H.hrefNoHash;U=Z.fromPage;var ra=Z.dataUrl&&D.convertUrlToDataUrl(Z.dataUrl)||M.jqmData("url"),p=ra;D.getFilePath(ra);var va=A.getActive(),Ca=A.activeIndex===0,Fa=0,za=e.title,Ia=Z.role==="dialog"||M.jqmData("role")==="dialog";if(U&&U[0]===M[0]&&!Z.allowSamePageTransition){t=false;ma.trigger("pagechange",
qa)}else{v(M,Z.role);Z.fromHashChange&&A.directHashChange({currentUrl:ra,isBack:function(){Fa=-1},isForward:function(){Fa=1}});try{e.activeElement&&e.activeElement.nodeName.toLowerCase()!="body"?a(e.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(La){}if(Ia&&va)ra=(va.url||"")+r;if(Z.changeHash!==false&&ra){A.ignoreNextHashChange=true;D.set(ra)}var ga=!va?za:M.jqmData("title")||M.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(ga&&za==e.title)za=
ga;M.jqmData("title")||M.jqmData("title",za);Z.transition=Z.transition||(Fa&&!Ca?va.transition:c)||(Ia?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);Fa||A.addNew(ra,Z.transition,za,p,Z.role);e.title=A.getActive().title;a.mobile.activePage=M;Z.reverse=Z.reverse||Fa<0;h(M,U,Z.transition,Z.reverse).done(function(oa,pa,ya,Ha,Ja){j();Z.duplicateCachedPage&&Z.duplicateCachedPage.remove();Ja||a.mobile.focusPage(M);n();ma.trigger("pagechange",qa)})}}}}};a.mobile.changePage.defaults={transition:c,
reverse:false,changeHash:true,fromHashChange:false,role:c,duplicateCachedPage:c,pageContainer:c,showLoadMsg:true,dataUrl:c,fromPage:c,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(e).delegate("form","submit",function(M){var R=a(this);if(!(!a.mobile.ajaxEnabled||R.is(":jqmData(ajax='false')")||!R.jqmHijackable().length)){var Z=R.attr("method"),ma=R.attr("target"),U=R.attr("action");if(!U){U=B(R);if(U===E.hrefNoHash)U=H.hrefNoSearch}U=D.makeUrlAbsolute(U,B(R));if(!(D.isExternal(U)||
ma)){a.mobile.changePage(U,{type:Z&&Z.length&&Z.toLowerCase()||"get",data:R.serialize(),transition:R.jqmData("transition"),direction:R.jqmData("direction"),reloadPage:true});M.preventDefault()}}});a(e).bind("vclick",function(M){if(!(M.which>1||!a.mobile.linkBindingEnabled)){M=x(M.target);if(a(M).jqmHijackable().length)if(M)if(D.parseUrl(M.getAttribute("href")||"#").hash!=="#"){j(true);G=a(M).closest(".ui-btn").not(".ui-disabled");G.addClass(a.mobile.activeBtnClass);a("."+a.mobile.activePageClass+
" .ui-btn").not(M).blur();a(M).jqmData("href",a(M).attr("href")).attr("href","#")}}});a(e).bind("click",function(M){if(a.mobile.linkBindingEnabled){var R=x(M.target),Z=a(R),ma;if(!(!R||M.which>1||!Z.jqmHijackable().length)){ma=function(){d.setTimeout(function(){j(true)},200)};Z.jqmData("href")&&Z.attr("href",Z.jqmData("href"));if(Z.is(":jqmData(rel='back')")){d.history.back();return false}var U=B(Z);R=D.makeUrlAbsolute(Z.attr("href")||"#",U);if(!a.mobile.ajaxEnabled&&!D.isEmbeddedPage(R))ma();else{if(R.search("#")!=
-1)if(R=R.replace(/[^#]*#/,""))R=D.isPath(R)?D.makeUrlAbsolute(R,U):D.makeUrlAbsolute("#"+R,H.hrefNoHash);else{M.preventDefault();return}U=Z.is("[rel='external']")||Z.is(":jqmData(ajax='false')")||Z.is("[target]");var qa=a.mobile.allowCrossDomainPages&&H.protocol==="file:"&&R.search(/^https?:/)!=-1;if(U||D.isExternal(R)&&!qa)ma();else{ma=Z.jqmData("transition");U=(U=Z.jqmData("direction"))&&U==="reverse"||Z.jqmData("back");Z=Z.attr("data-"+a.mobile.ns+"rel")||c;a.mobile.changePage(R,{transition:ma,
reverse:U,role:Z});M.preventDefault()}}}}});a(e).delegate(".ui-page","pageshow.prefetch",function(){var M=[];a(this).find("a:jqmData(prefetch)").each(function(){var R=a(this),Z=R.attr("href");if(Z&&a.inArray(Z,M)===-1){M.push(Z);a.mobile.loadPage(Z,{role:R.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(M){var R=D.stripHash(M),Z={transition:a.mobile.urlHistory.stack.length===0?"none":c,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||A.ignoreNextHashChange)A.ignoreNextHashChange=
false;else{if(A.stack.length>1&&R.indexOf(r)>-1)if(a.mobile.activePage.is(".ui-dialog"))A.directHashChange({currentUrl:R,either:function(ma){var U=a.mobile.urlHistory.getActive();R=U.pageUrl;a.extend(Z,{role:U.role,transition:U.transition,reverse:ma})}});else{A.directHashChange({currentUrl:R,isBack:function(){d.history.back()},isForward:function(){d.history.forward()}});return}if(R){R=typeof R==="string"&&!D.isPath(R)?D.makeUrlAbsolute("#"+R,E):R;a.mobile.changePage(R,Z)}else a.mobile.changePage(a.mobile.firstPage,
Z)}};J.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(e).bind("pageshow",o);a(d).bind("throttledresize",o)}})(jQuery);(function(a,c){var j={},n=a(c),h=a.mobile.path.parseUrl(location.href);a.extend(j,{initialFilePath:function(){return h.pathname+h.search}(),initialHref:h.hrefNoHash,state:function(){return{hash:location.hash||"#"+j.initialFilePath,title:e.title,initialHref:j.initialHref}},resetUIKeys:function(q){var o="&"+a.mobile.subPageUrlKey,v=q.indexOf(a.mobile.dialogHashKey);
if(v>-1)q=q.slice(0,v)+"#"+q.slice(v);else if(q.indexOf(o)>-1)q=q.split(o).join("#"+o);return q},hashValueAfterReset:function(q){q=j.resetUIKeys(q);return a.mobile.path.parseUrl(q).hash},nextHashChangePrevented:function(q){a.mobile.urlHistory.ignoreNextHashChange=q;j.onHashChangeDisabled=q},onHashChange:function(){if(!j.onHashChangeDisabled){var q,o;q=location.hash;var v=a.mobile.path.isPath(q),x=v?location.href:a.mobile.getDocumentUrl();q=v?q.replace("#",""):q;o=j.state();q=a.mobile.path.makeUrlAbsolute(q,
x);if(v)q=j.resetUIKeys(q);history.replaceState(o,e.title,q)}},onPopState:function(q){q=q.originalEvent.state;var o,v;if(q){o=j.hashValueAfterReset(a.mobile.urlHistory.getActive().url);v=j.hashValueAfterReset(q.hash.replace("#",""));(o=o!==v)&&n.one("hashchange.pushstate",function(){j.nextHashChangePrevented(false)});j.nextHashChangePrevented(false);a.mobile._handleHashChange(q.hash);o&&j.nextHashChangePrevented(true)}},init:function(){n.bind("hashchange",j.onHashChange);n.bind("popstate",j.onPopState);
location.hash===""&&history.replaceState(j.state(),e.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&j.init()})})(jQuery,this);(function(a){a.mobile.transitionFallbacks.pop="fade"})(jQuery,this);(function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slidedown="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.slideup=
"fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flip="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.flow="fade"})(jQuery,this);(function(a){a.mobile.transitionFallbacks.turn="fade"})(jQuery,this);(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(e).bind("pagecreate create",function(c){var j=
a.mobile.closestPageData(a(c.target)),n;if(j){n=j.options;a(c.target).find("input").not(j.keepNativeSelector()).each(function(){var h=a(this),q=this.getAttribute("type"),o=n.degradeInputs[q]||"text";if(n.degradeInputs[q]){var v=a("<div>").html(h.clone()).html(),x=v.indexOf(" type=")>-1;h.replaceWith(v.replace(x?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+o+'" data-'+a.mobile.ns+'type="'+q+'"'+(x?"":">")))}})}})})(jQuery);(function(a,c){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",
overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var j=this,n=this.element,h=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),q=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});n.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);n.wrapInner(q).children().find(":jqmData(role='header')").prepend(h).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
h.bind("click",function(){j.close()});n.bind("vclick submit",function(o){o=a(o.target).closest(o.type==="vclick"?"a":"form");var v;if(o.length&&!o.jqmData("transition")){v=a.mobile.urlHistory.getActive()||{};o.attr("data-"+a.mobile.ns+"transition",v.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){j.options.overlayTheme&&
j.element.page("removeContainerBackground").page("setContainerBackground",j.options.overlayTheme)})},close:function(){c.history.back()}});a(e).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(e).bind("pagecreate create",function(c){a(":jqmData(role='fieldcontain')",c.target).jqmEnhanceable().fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(c){return this.each(function(){var j=a(this),n=a.extend({grid:null},c),h=j.children(),q={solo:1,a:2,b:3,c:4,d:5};n=n.grid;if(!n)if(h.length<=5)for(var o in q){if(q[o]===h.length)n=o}else n="a";q=q[n];j.addClass("ui-grid-"+n);h.filter(":nth-child("+q+"n+1)").addClass("ui-block-a");q>1&&h.filter(":nth-child("+q+"n+2)").addClass("ui-block-b");q>2&&h.filter(":nth-child(3n+3)").addClass("ui-block-c");q>3&&h.filter(":nth-child(4n+4)").addClass("ui-block-d");q>4&&h.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a){a(e).bind("pagecreate create",function(c){a(":jqmData(role='nojs')",c.target).addClass("ui-nojs")})})(jQuery);(function(a,c){function j(h){for(var q;h;){if((q=typeof h.className==="string"&&h.className+" ")&&q.indexOf("ui-btn ")>-1&&q.indexOf("ui-disabled ")<0)break;h=h.parentNode}return h}a.fn.buttonMarkup=function(h){var q=this;h=h&&a.type(h)=="object"?h:{};for(var o=0;o<q.length;o++){var v=q.eq(o),x=v[0],B=a.extend({},a.fn.buttonMarkup.defaults,{icon:h.icon!==c?h.icon:v.jqmData("icon"),
iconpos:h.iconpos!==c?h.iconpos:v.jqmData("iconpos"),theme:h.theme!==c?h.theme:v.jqmData("theme")||a.mobile.getInheritedTheme(v,"c"),inline:h.inline!==c?h.inline:v.jqmData("inline"),shadow:h.shadow!==c?h.shadow:v.jqmData("shadow"),corners:h.corners!==c?h.corners:v.jqmData("corners"),iconshadow:h.iconshadow!==c?h.iconshadow:v.jqmData("iconshadow"),mini:h.mini!==c?h.mini:v.jqmData("mini")},h),J="ui-btn-inner",L,D,G,A,C,t;a.each(B,function(r,F){x.setAttribute("data-"+a.mobile.ns+r,F);v.jqmData(r,F)});
if(t=a.data(x.tagName==="INPUT"||x.tagName==="BUTTON"?x.parentNode:x,"buttonElements")){x=t.outer;v=a(x);G=t.inner;A=t.text;a(t.icon).remove();t.icon=null}else{G=e.createElement(B.wrapperEls);A=e.createElement(B.wrapperEls)}C=B.icon?e.createElement("span"):null;n&&!t&&n();if(!B.theme)B.theme=a.mobile.getInheritedTheme(v,"c");L="ui-btn ui-btn-up-"+B.theme;L+=B.inline?" ui-btn-inline":"";L+=B.shadow?" ui-shadow":"";L+=B.corners?" ui-btn-corner-all":"";if(B.mini!==c)L+=B.mini?" ui-mini":" ui-fullsize";
if(B.inline!==c)L+=B.inline===false?" ui-btn-block":" ui-btn-inline";if(B.icon){B.icon="ui-icon-"+B.icon;B.iconpos=B.iconpos||"left";D="ui-icon "+B.icon;if(B.iconshadow)D+=" ui-icon-shadow"}if(B.iconpos){L+=" ui-btn-icon-"+B.iconpos;B.iconpos=="notext"&&!v.attr("title")&&v.attr("title",v.getEncodedText())}J+=B.corners?" ui-btn-corner-all":"";B.iconpos&&B.iconpos==="notext"&&!v.attr("title")&&v.attr("title",v.getEncodedText());if(t)v.removeClass(t.bcls||"");v.removeClass("ui-link").addClass(L);G.className=
J;A.className="ui-btn-text";t||G.appendChild(A);if(C){C.className=D;if(!(t&&t.icon)){C.appendChild(e.createTextNode("\u00a0"));G.appendChild(C)}}for(;x.firstChild&&!t;)A.appendChild(x.firstChild);t||x.appendChild(G);t={bcls:L,outer:x,inner:G,text:A,icon:C};a.data(x,"buttonElements",t);a.data(G,"buttonElements",t);a.data(A,"buttonElements",t);C&&a.data(C,"buttonElements",t)}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var n=function(){var h=a.mobile.buttonMarkup.hoverDelay,
q,o;a(e).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(v){var x,B=a(j(v.target));v=v.type;if(B.length){x=B.attr("data-"+a.mobile.ns+"theme");if(v==="vmousedown")if(a.support.touch)q=setTimeout(function(){B.removeClass("ui-btn-up-"+x).addClass("ui-btn-down-"+x)},h);else B.removeClass("ui-btn-up-"+x).addClass("ui-btn-down-"+x);else if(v==="vmousecancel"||v==="vmouseup")B.removeClass("ui-btn-down-"+x).addClass("ui-btn-up-"+x);else if(v==="vmouseover"||
v==="focus")if(a.support.touch)o=setTimeout(function(){B.removeClass("ui-btn-up-"+x).addClass("ui-btn-hover-"+x)},h);else B.removeClass("ui-btn-up-"+x).addClass("ui-btn-hover-"+x);else if(v==="vmouseout"||v==="blur"||v==="scrollstart"){B.removeClass("ui-btn-hover-"+x+" ui-btn-down-"+x).addClass("ui-btn-up-"+x);q&&clearTimeout(q);o&&clearTimeout(o)}}},"focusin focus":function(v){a(j(v.target)).addClass(a.mobile.focusClass)},"focusout blur":function(v){a(j(v.target)).removeClass(a.mobile.focusClass)}});
n=null};a(e).bind("pagecreate create",function(h){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",h.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme=
"a";a.mobile.page.prototype.options.contentTheme=null;a(e).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var c=a(this),j=c.data("page").options,n=c.jqmData("role"),h=j.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var q=a(this),o=q.jqmData("role"),v=q.jqmData("theme"),x=v||j.contentTheme||n==="dialog"&&h,B;q.addClass("ui-"+o);if(o==="header"||o==="footer"){var J=v||(o==="header"?j.headerTheme:
j.footerTheme)||h;q.addClass("ui-bar-"+J).attr("role",o==="header"?"banner":"contentinfo");if(o==="header"){v=q.children("a");B=v.hasClass("ui-btn-left");x=v.hasClass("ui-btn-right");B=B||v.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;x||v.eq(1).addClass("ui-btn-right")}if(j.addBackBtn&&o==="header"&&a(".ui-page").length>1&&c.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!B)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+
j.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",j.backBtnTheme||J).prependTo(q);q.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else if(o==="content"){x&&q.addClass("ui-body-"+x);q.attr("role","main")}})})})(jQuery);(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,
iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var c=this.element,j=this.options,n=c.addClass("ui-collapsible"),h=c.children(j.heading).first(),q=n.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),o=c.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(h.is("legend")){h=a("<div role='heading'>"+h.html()+"</div>").insertBefore(h);h.next().remove()}if(o.length){if(!j.theme)j.theme=o.jqmData("theme")||
a.mobile.getInheritedTheme(o,"c");if(!j.contentTheme)j.contentTheme=o.jqmData("content-theme");if(!j.iconPos)j.iconPos=o.jqmData("iconpos");if(!j.mini)j.mini=o.jqmData("mini")}q.addClass(j.contentTheme?"ui-body-"+j.contentTheme:"");h.insertBefore(q).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:c.jqmData("iconpos")||
j.iconPos||"left",icon:"plus",mini:j.mini,theme:j.theme}).add(".ui-btn-inner",c).addClass("ui-corner-top ui-corner-bottom");n.bind("expand collapse",function(v){if(!v.isDefaultPrevented()){v.preventDefault();var x=a(this);v=v.type==="collapse";var B=j.contentTheme;h.toggleClass("ui-collapsible-heading-collapsed",v).find(".ui-collapsible-heading-status").text(v?j.expandCueText:j.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!v).toggleClass("ui-icon-plus",v);x.toggleClass("ui-collapsible-collapsed",
v);q.toggleClass("ui-collapsible-content-collapsed",v).attr("aria-hidden",v);if(B&&(!o.length||n.jqmData("collapsible-last"))){h.find("a").first().add(h.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",v);q.toggleClass("ui-corner-bottom",!v)}q.trigger("updatelayout")}}).trigger(j.collapsed?"collapse":"expand");h.bind("click",function(v){var x=h.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";n.trigger(x);v.preventDefault()})}});a(e).bind("pagecreate create",function(c){a.mobile.collapsible.prototype.enhanceWithin(c.target)})})(jQuery);
(function(a,c){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var j=this.element.addClass("ui-collapsible-set"),n=this.options;if(!n.theme)n.theme=a.mobile.getInheritedTheme(j,"c");if(!n.contentTheme)n.contentTheme=j.jqmData("content-theme");if(!n.corners)n.corners=j.jqmData("corners")===c?true:false;j.jqmData("collapsiblebound")||j.jqmData("collapsiblebound",true).bind("expand collapse",function(h){var q=h.type==="collapse";
h=a(h.target).closest(".ui-collapsible");var o=h.data("collapsible");if(o.options.contentTheme&&h.jqmData("collapsible-last")){h.find(o.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",q);h.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!q)}}).bind("expand",function(h){a(h.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var j=this.options,n=this.element.children(":jqmData(role='collapsible')");
a.mobile.collapsible.prototype.enhance(n.not(".ui-collapsible"));n.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});n.first().find("a").first().addClass(j.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");n.last().jqmData("collapsible-last",true).find("a").first().addClass(j.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});
a(e).bind("pagecreate create",function(j){a.mobile.collapsibleset.prototype.enhanceWithin(j.target)})})(jQuery);(function(a,c){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var j=this.element,n=j.find("a"),h=n.filter(":jqmData(icon)").length?this.options.iconpos:c;j.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});h||j.addClass("ui-navbar-noicons");n.buttonMarkup({corners:false,
shadow:false,inline:true,iconpos:h});j.delegate("a","vclick",function(q){if(!a(q.target).hasClass("ui-disabled")){n.removeClass(a.mobile.activeBtnClass);a(this).addClass(a.mobile.activeBtnClass)}});j.closest(".ui-page").bind("pagebeforeshow",function(){n.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});a(e).bind("pagecreate create",function(j){a.mobile.navbar.prototype.enhanceWithin(j.target)})})(jQuery);(function(a){var c={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,
countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var j=this,n="";n+=j.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"";n+=j.element.jqmData("mini")||j.options.mini===true?" ui-mini":"";j.element.addClass(function(h,q){return q+" ui-listview "+n});j.refresh(true)},_removeCorners:function(j,n){j=j.add(j.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(n==="top")j.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else n==="bottom"?j.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):j.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(j){var n,h;if(this.options.inset){n=this.element.children("li");h=j?n.not(".ui-screen-hidden"):n.filter(":visible");this._removeCorners(n);n=h.first().addClass("ui-corner-top");n.add(n.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
h=h.last().addClass("ui-corner-bottom");h.add(h.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}j||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(j,n,h,q){var o={};for(o[h]=o[q]=true;j;){if(o[j.nodeName])return j;j=j[n]}return null},_getChildrenByTagName:function(j,n,h){var q=[],o={};o[n]=o[h]=true;for(j=j.firstChild;j;){o[j.nodeName]&&q.push(j);j=j.nextSibling}return a(q)},_addThumbClasses:function(j){var n,
h,q=j.length;for(n=0;n<q;n++){h=a(this._findFirstElementByTagName(j[n].firstChild,"nextSibling","img","IMG"));if(h.length){h.addClass("ui-li-thumb");a(this._findFirstElementByTagName(h[0].parentNode,"parentNode","li","LI")).addClass(h.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(j){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var n=this.options,h=this.element,q=h.jqmData("dividertheme")||n.dividerTheme,o=h.jqmData("splittheme"),v=h.jqmData("spliticon"),
x=this._getChildrenByTagName(h[0],"li","LI"),B=a.support.cssPseudoElement||!a.nodeName(h[0],"ol")?0:1,J={},L,D,G,A,C,t,r;B&&h.find(".ui-li-dec").remove();if(!n.theme)n.theme=a.mobile.getInheritedTheme(this.element,"c");for(var F=0,H=x.length;F<H;F++){L=x.eq(F);D="ui-li";if(j||!L.hasClass("ui-li")){G=L.jqmData("theme")||n.theme;A=this._getChildrenByTagName(L[0],"a","A");if(A.length){t=L.jqmData("icon");L.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:A.length>1||t===
false?false:t||"arrow-r",theme:G});t!=false&&A.length==1&&L.addClass("ui-li-has-arrow");A.first().removeClass("ui-link").addClass("ui-link-inherit");if(A.length>1){D+=" ui-li-has-alt";A=A.last();C=o||A.jqmData("theme")||n.splitTheme;r=A.jqmData("icon");A.appendTo(L).attr("title",A.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:G,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(e.createElement("span")).buttonMarkup({shadow:true,corners:true,
theme:C,iconpos:"notext",icon:r||t||v||n.splitIcon}))}}else if(L.jqmData("role")==="list-divider"){D+=" ui-li-divider ui-bar-"+q;L.attr("role","heading");if(B)B=1}else D+=" ui-li-static ui-body-"+G}if(B&&D.indexOf("ui-li-divider")<0){G=L.is(".ui-li-static:first")?L:L.find(".ui-link-inherit");G.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+B++ +". </span>")}J[D]||(J[D]=[]);J[D].push(L[0])}for(D in J)a(J[D]).addClass(D).children(".ui-btn-inner").addClass(D);h.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var E=
a(this);E.prependTo(E.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(h.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(x);this._addThumbClasses(h.find(".ui-link-inherit"));this._refreshCorners(j)},_idStringEscape:function(j){return j.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var j=this.element,n=j.closest(".ui-page"),h=n.jqmData("url"),q=h||n[0][a.expando],
o=j.attr("id"),v=this.options,x="data-"+a.mobile.ns,B=this,J=n.find(":jqmData(role='footer')").jqmData("id"),L;if(typeof c[q]==="undefined")c[q]=-1;o=o||++c[q];a(j.find("li>ul, li>ol").toArray().reverse()).each(function(D){var G=a(this),A=G.attr("id")||o+"-"+D;D=G.parent();var C=a(G.prevAll().toArray().reverse());C=C.length?C:a("<span>"+a.trim(D.contents()[0].nodeValue)+"</span>");var t=C.first().getEncodedText();A=(h||"")+"&"+a.mobile.subPageUrlKey+"="+A;var r=G.jqmData("theme")||v.theme,F=G.jqmData("counttheme")||
j.jqmData("counttheme")||v.countTheme;L=true;G.detach().wrap("<div "+x+"role='page' "+x+"url='"+A+"' "+x+"theme='"+r+"' "+x+"count-theme='"+F+"'><div "+x+"role='content'></div></div>").parent().before("<div "+x+"role='header' "+x+"theme='"+v.headerTheme+"'><div class='ui-title'>"+t+"</div></div>").after(J?a("<div "+x+"role='footer' "+x+"id='"+J+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();G=D.find("a:first");G.length||(G=a("<a/>").html(C||t).prependTo(D.empty()));G.attr("href","#"+A)}).listview();
L&&n.is(":jqmData(external-page='true')")&&n.data("page").options.domCache===false&&n.unbind("pagehide.remove").bind("pagehide.remove",function(D,G){if(D=G.nextPage){G=D.jqmData("url");if(G.indexOf(h+"&"+a.mobile.subPageUrlKey)!==0){B.childPages().remove();n.remove()}}})},childPages:function(){var j=this.parentPage.jqmData("url");return a(":jqmData(url^='"+j+"&"+a.mobile.subPageUrlKey+"')")}});a(e).bind("pagecreate create",function(j){a.mobile.listview.prototype.enhanceWithin(j.target)})})(jQuery);
(function(a,c){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var j=this,n=this.element,h=function(L,D){return L.jqmData(D)||L.closest("form,fieldset").jqmData(D)},q=a(n).closest("label"),o=q.length?q:a(n).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+n[0].id+"']"),v=n[0].type;q=h(n,"mini");var x=v+"-on",B=v+"-off",J=n.parents(":jqmData(type='horizontal')").length?
c:B;h=h(n,"iconpos");if(!(v!=="checkbox"&&v!=="radio")){a.extend(this,{label:o,inputtype:v,checkedClass:"ui-"+x+(J?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+B,checkedicon:"ui-icon-"+x,uncheckedicon:"ui-icon-"+B});if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");o.buttonMarkup({theme:this.options.theme,icon:J,shadow:false,mini:q,iconpos:h});h=e.createElement("div");h.className="ui-"+v;n.add(o).wrapAll(h);o.bind({vmouseover:function(L){a(this).parent().is(".ui-disabled")&&
L.stopPropagation()},vclick:function(L){if(n.is(":disabled"))L.preventDefault();else{j._cacheVals();n.prop("checked",v==="radio"&&true||!n.prop("checked"));n.triggerHandler("click");j._getInputSet().not(n).prop("checked",false);j._updateAll();return false}}});n.bind({vmousedown:function(){j._cacheVals()},vclick:function(){var L=a(this);if(L.is(":checked")){L.prop("checked",true);j._getInputSet().not(L).prop("checked",false)}else L.prop("checked",false);j._updateAll()},focus:function(){o.addClass(a.mobile.focusClass)},
blur:function(){o.removeClass(a.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){if(this.inputtype==="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var j=this;this._getInputSet().each(function(){var n=a(this);if(this.checked||j.inputtype===
"checkbox")n.trigger("change")}).checkboxradio("refresh")},refresh:function(){var j=this.element[0],n=this.label,h=n.find(".ui-icon");if(j.checked){n.addClass(this.checkedClass).removeClass(this.uncheckedClass);h.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{n.removeClass(this.checkedClass).addClass(this.uncheckedClass);h.removeClass(this.checkedicon).addClass(this.uncheckedicon)}j.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},
enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(j){a.mobile.checkboxradio.prototype.enhanceWithin(j.target,true)})})(jQuery);(function(a,c){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var j=this.element,
n,h=this.options,q;q="";var o;if(j[0].tagName==="A")!j.hasClass("ui-btn")&&j.buttonMarkup();else{if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");if(~j[0].className.indexOf("ui-btn-left"))q="ui-btn-left";if(~j[0].className.indexOf("ui-btn-right"))q="ui-btn-right";n=this.button=a("<div></div>").text(j.text()||j.val()).insertBefore(j).buttonMarkup({theme:h.theme,icon:h.icon,iconpos:h.iconpos,inline:h.inline,corners:h.corners,shadow:h.shadow,iconshadow:h.iconshadow,
mini:h.mini}).addClass(q).append(j.addClass("ui-btn-hidden"));h=j.attr("type");q=j.attr("name");h!=="button"&&h!=="reset"&&q&&j.bind("vclick",function(){if(o===c){o=a("<input>",{type:"hidden",name:j.attr("name"),value:j.attr("value")}).insertBefore(j);a(e).one("submit",function(){o.remove();o=c})}});j.bind({focus:function(){n.addClass(a.mobile.focusClass)},blur:function(){n.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",
false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var j=this.element;j.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text).text(j.text()||j.val())}});a(e).bind("pagecreate create",function(j){a.mobile.button.prototype.enhanceWithin(j.target,true)})})(jQuery);(function(a){a.fn.controlgroup=
function(c){function j(n,h){n.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(h[0]).end().last().addClass(h[1]).addClass("ui-controlgroup-last")}return this.each(function(){var n=a(this),h=a.extend({direction:n.jqmData("type")||"vertical",shadow:false,excludeInvisible:true,mini:n.jqmData("mini")},c),q=n.children("legend"),o=h.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];n.find("input").first().attr("type");if(q.length){n.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+q.html()+"</div>").insertBefore(n.children(0));q.remove()}n.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+h.direction);j(n.find(".ui-btn"+(h.excludeInvisible?":visible":"")).not(".ui-slider-handle"),o);j(n.find(".ui-btn-inner"),o);h.shadow&&n.addClass("ui-shadow");h.mini&&n.addClass("ui-mini")})}})(jQuery);(function(a){a(e).bind("pagecreate create",function(c){a(c.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a){var c=a("meta[name=viewport]"),j=c.attr("content"),n=j+",maximum-scale=1, user-scalable=no",h=j+",maximum-scale=10, user-scalable=yes",q=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(j);a.mobile.zoom=a.extend({},{enabled:!q,locked:false,disable:function(o){if(!q&&!a.mobile.zoom.locked){c.attr("content",n);a.mobile.zoom.enabled=false;a.mobile.zoom.locked=o||false}},enable:function(o){if(!q&&(!a.mobile.zoom.locked||o===true)){c.attr("content",h);a.mobile.zoom.enabled=
true;a.mobile.zoom.locked=false}},restore:function(){if(!q){c.attr("content",j);a.mobile.zoom.enabled=true}}})})(jQuery);(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var c=this.element,j=this.options,n=j.theme||a.mobile.getInheritedTheme(this.element,"c"),h=" ui-body-"+n,q=c.jqmData("mini")==true,o=q?" ui-mini":"",v,x;a("label[for='"+c.attr("id")+"']").addClass("ui-input-text");v=c.addClass("ui-input-text ui-body-"+n);if(typeof c[0].autocorrect!=="undefined"&&!a.support.touchOverflow){c[0].setAttribute("autocorrect","off");c[0].setAttribute("autocomplete","off")}if(c.is("[type='search'],:jqmData(type='search')")){v=
c.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+h+o+"'></div>").parent();x=a("<a href='#' class='ui-input-clear' title='"+j.clearSearchButtonText+"'>"+j.clearSearchButtonText+"</a>").bind("click",function(D){c.val("").focus().trigger("change");x.addClass("ui-input-clear-hidden");D.preventDefault()}).appendTo(v).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:q});function B(){setTimeout(function(){x.toggleClass("ui-input-clear-hidden",
!c.val())},0)}B();c.bind("paste cut keyup focus change blur",B)}else c.addClass("ui-corner-all ui-shadow-inset"+h+o);c.focus(function(){v.addClass(a.mobile.focusClass)}).blur(function(){v.removeClass(a.mobile.focusClass)}).bind("focus",function(){j.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("blur",function(){j.preventFocusZoom&&a.mobile.zoom.enable(true)});if(c.is("textarea")){var J=function(){var D=c[0].scrollHeight;c[0].clientHeight<D&&c.height(D+15)},L;c.keyup(function(){clearTimeout(L);
L=setTimeout(J,100)});a(e).one("pagechange",J);a.trim(c.val())&&a(d).load(J)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(c){a.mobile.textinput.prototype.enhanceWithin(c.target,
true)})})(jQuery);(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(c,j){return c.toLowerCase().indexOf(j)===-1};a(e).delegate(":jqmData(role='listview')","listviewcreate",function(){var c=a(this),j=c.data("listview");if(j.options.filter){var n=a("<form>",{"class":"ui-listview-filter ui-bar-"+j.options.filterTheme,
role:"search"});a("<input>",{placeholder:j.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var h=a(this),q=this.value.toLowerCase(),o=null;o=h.jqmData("lastval")+"";var v=false,x="";h.jqmData("lastval",q);o=q.length<o.length||q.indexOf(o)!==0?c.children():c.children(":not(.ui-screen-hidden)");if(q){for(var B=o.length-1;B>=0;B--){h=a(o[B]);x=h.jqmData("filtertext")||h.text();if(h.is("li:jqmData(role=list-divider)")){h.toggleClass("ui-filter-hidequeue",
!v);v=false}else if(j.options.filterCallback(x,q))h.toggleClass("ui-filter-hidequeue",true);else v=true}o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else o.toggleClass("ui-screen-hidden",false);j._refreshCorners()}).appendTo(n).textinput();j.options.inset&&n.addClass("ui-listview-filter-inset");n.bind("submit",function(){return false}).insertBefore(c)}})})(jQuery);
(function(a,c){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var j=this,n=this.element,h=a.mobile.getInheritedTheme(n,"c"),q=this.options.theme||h;h=this.options.trackTheme||h;var o=n[0].nodeName.toLowerCase(),v=o=="select"?"ui-slider-switch":"",x=n.attr("id"),B=x+"-label";x=a("[for='"+x+"']").attr("id",B);var J=function(){return o=="input"?
parseFloat(n.val()):n[0].selectedIndex},L=o=="input"?parseFloat(n.attr("min")):0,D=o=="input"?parseFloat(n.attr("max")):n.find("option").length-1,G=d.parseFloat(n.attr("step")||1),A=this.options.inline||n.jqmData("inline")==true?" ui-slider-inline":"",C=this.options.mini||n.jqmData("mini")?" ui-slider-mini":"",t=e.createElement("a"),r=a(t),F=e.createElement("div"),H=a(F),E=n.jqmData("highlight")&&o!="select"?function(){var O=e.createElement("div");O.className="ui-slider-bg ui-btn-active ui-btn-corner-all";
return a(O).prependTo(H)}():false;t.setAttribute("href","#");F.setAttribute("role","application");F.className=["ui-slider ",v," ui-btn-down-",h," ui-btn-corner-all",A,C].join("");t.className="ui-slider-handle";F.appendChild(t);r.buttonMarkup({corners:true,theme:q,shadow:true}).attr({role:"slider","aria-valuemin":L,"aria-valuemax":D,"aria-valuenow":J(),"aria-valuetext":J(),title:J(),"aria-labelledby":B});a.extend(this,{slider:H,handle:r,valuebg:E,dragging:false,beforeStart:null,userModified:false,
mouseMoved:false});if(o=="select"){q=e.createElement("div");q.className="ui-slider-inneroffset";v=0;for(B=F.childNodes.length;v<B;v++)q.appendChild(F.childNodes[v]);F.appendChild(q);r.addClass("ui-slider-handle-snapping");F=n.find("option");q=0;for(v=F.length;q<v;q++){B=!q?"b":"a";A=!q?" ui-btn-down-"+h:" "+a.mobile.activeBtnClass;e.createElement("div");C=e.createElement("span");C.className=["ui-slider-label ui-slider-label-",B,A," ui-btn-corner-all"].join("");C.setAttribute("role","img");C.appendChild(e.createTextNode(F[q].innerHTML));
a(C).prependTo(H)}j._labels=a(".ui-slider-label",H)}x.addClass("ui-slider");n.addClass(o==="input"?"ui-slider-input":"ui-slider-switch").change(function(){j.mouseMoved||j.refresh(J(),true)}).keyup(function(){j.refresh(J(),true,true)}).blur(function(){j.refresh(J(),true)});a(e).bind("vmousemove",function(O){if(j.dragging){j.mouseMoved=true;o==="select"&&r.removeClass("ui-slider-handle-snapping");j.refresh(O);j.userModified=j.beforeStart!==n[0].selectedIndex;return false}});H.bind("vmousedown",function(O){j.dragging=
true;j.userModified=false;j.mouseMoved=false;if(o==="select")j.beforeStart=n[0].selectedIndex;j.refresh(O);return false}).bind("vclick",false);H.add(e).bind("vmouseup",function(){if(j.dragging){j.dragging=false;if(o==="select"){r.addClass("ui-slider-handle-snapping");if(j.mouseMoved)j.userModified?j.refresh(j.beforeStart==0?1:0):j.refresh(j.beforeStart);else j.refresh(j.beforeStart==0?1:0)}return j.mouseMoved=false}});H.insertAfter(n);o=="select"&&this.handle.bind({focus:function(){H.addClass(a.mobile.focusClass)},
blur:function(){H.removeClass(a.mobile.focusClass)}});this.handle.bind({vmousedown:function(){a(this).focus()},vclick:false,keydown:function(O){var V=J();if(!j.options.disabled){switch(O.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:O.preventDefault();if(!j._keySliding){j._keySliding=true;a(this).addClass("ui-state-active")}break}switch(O.keyCode){case a.mobile.keyCode.HOME:j.refresh(L);
break;case a.mobile.keyCode.END:j.refresh(D);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:j.refresh(V+G);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:j.refresh(V-G);break}}},keyup:function(){if(j._keySliding){j._keySliding=false;a(this).removeClass("ui-state-active")}}});this.refresh(c,c,true)},refresh:function(j,n,h){if(this.options.disabled||this.element.attr("disabled"))this.disable();var q=this.element,
o=q[0].nodeName.toLowerCase(),v=o==="input"?parseFloat(q.attr("min")):0,x=o==="input"?parseFloat(q.attr("max")):q.find("option").length-1,B=o==="input"&&parseFloat(q.attr("step"))>0?parseFloat(q.attr("step")):1;if(typeof j==="object"){j=j;if(!this.dragging||j.pageX<this.slider.offset().left-8||j.pageX>this.slider.offset().left+this.slider.width()+8)return;j=Math.round((j.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(j==null)j=o==="input"?parseFloat(q.val()||0):q[0].selectedIndex;
j=(parseFloat(j)-v)/(x-v)*100}if(!isNaN(j)){if(j<0)j=0;if(j>100)j=100;var J=j/100*(x-v)+v,L=(J-v)%B;J=J-L;if(Math.abs(L)*2>=B)J+=L>0?B:-B;J=parseFloat(J.toFixed(5));if(J<v)J=v;if(J>x)J=x;this.handle.css("left",j+"%");this.handle.attr({"aria-valuenow":o==="input"?J:q.find("option").eq(J).attr("value"),"aria-valuetext":o==="input"?J:q.find("option").eq(J).getEncodedText(),title:o==="input"?J:q.find("option").eq(J).getEncodedText()});this.valuebg&&this.valuebg.css("width",j+"%");if(this._labels){v=this.handle.width()/
this.slider.width()*100;var D=j&&v+(100-v)*j/100,G=j===100?0:Math.min(v+100-D,100);this._labels.each(function(){var A=a(this).is(".ui-slider-label-a");a(this).width((A?D:G)+"%")})}if(!h){h=false;if(o==="input"){h=q.val()!==J;q.val(J)}else{h=q[0].selectedIndex!==J;q[0].selectedIndex=J}!n&&h&&q.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",
true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)}});a(e).bind("pagecreate create",function(j){a.mobile.slider.prototype.enhanceWithin(j.target,true)})})(jQuery);(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&
navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return a("<div/>")},_setDisabled:function(c){this.element.attr("disabled",c);this.button.attr("aria-disabled",c);return this._setOption("disabled",c)},_focusButton:function(){var c=this;setTimeout(function(){c.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var c="";if(~this.element[0].className.indexOf("ui-btn-left"))c=
" ui-btn-left";if(~this.element[0].className.indexOf("ui-btn-right"))c=" ui-btn-right";this.select=this.element.wrap("<div class='ui-select"+c+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var c=this,j=this.options,
n=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:j.theme,icon:j.icon,iconpos:j.iconpos,inline:j.inline,corners:j.corners,shadow:j.shadow,iconshadow:j.iconshadow,mini:j.mini});j.nativeMenu&&d.opera&&d.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(n.addClass("ui-li-has-count"));
if(j.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){c.refresh()});this.build()},build:function(){var c=this;this.select.appendTo(c.button).bind("vmousedown",function(){c.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){c.button.addClass(a.mobile.focusClass)}).bind("blur",function(){c.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){c.button.trigger("vmouseover")}).bind("vmousemove",function(){c.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",
function(){c.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){c.button.removeClass("ui-btn-down-"+c.options.theme)});c.button.bind("vmousedown",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("mouseup",function(){c.options.preventFocusZoom&&a.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var c=this;return this.selected().map(function(){return c._selectOptions().index(this)}).get()},
setButtonText:function(){var c=this,j=this.selected();this.button.find(".ui-btn-text").text(function(){if(!c.isMultiple)return j.text();return j.length?j.map(function(){return a(this).text()}).get().join(", "):c.placeholder})},setButtonCount:function(){var c=this.selected();if(this.isMultiple)this.buttonCount[c.length>1?"show":"hide"]().text(c.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},
enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(e).bind("pagecreate create",function(c){a.mobile.selectmenu.prototype.enhanceWithin(c.target,true)})})(jQuery);(function(a){var c=function(j){var n=j.selectID,h=j.label,q=j.select.closest(".ui-page"),o=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(q),v=j._selectOptions(),x=j.isMultiple=j.select[0].multiple,B=n+"-button",J=n+"-menu",L=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+
"theme='"+j.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+j.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+h.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),D=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+j.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(o),G=a("<ul>",{"class":"ui-selectmenu-list",id:J,role:"listbox","aria-labelledby":B}).attr("data-"+
a.mobile.ns+"theme",j.options.theme).appendTo(D),A=a("<div>",{"class":"ui-header ui-bar-"+j.options.theme}).prependTo(D),C=a("<h1>",{"class":"ui-title"}).appendTo(A),t,r,F;if(j.isMultiple)F=a("<a>",{text:j.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(A).buttonMarkup();a.extend(j,{select:j.select,selectID:n,buttonId:B,menuId:J,thisPage:q,menuPage:L,label:h,screen:o,selectOptions:v,isMultiple:x,theme:j.options.theme,
listbox:D,list:G,header:A,headerTitle:C,headerClose:F,menuPageContent:t,menuPageClose:r,placeholder:"",build:function(){var H=this;H.refresh();H.select.attr("tabindex","-1").focus(function(){a(this).blur();H.button.focus()});H.button.bind("vclick keydown",function(E){if(E.type=="vclick"||E.keyCode&&(E.keyCode===a.mobile.keyCode.ENTER||E.keyCode===a.mobile.keyCode.SPACE)){H.open();E.preventDefault()}});H.list.attr("role","listbox").bind("focusin",function(E){a(E.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",
function(E){a(E.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(E){var O=H.select[0].selectedIndex,V=H.list.find("li:not(.ui-li-divider)").index(this),Y=H._selectOptions().eq(V)[0];Y.selected=H.isMultiple?!Y.selected:true;H.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",Y.selected).toggleClass("ui-icon-checkbox-off",!Y.selected);if(H.isMultiple||O!==V)H.select.trigger("change");H.isMultiple||H.close();E.preventDefault()}).keydown(function(E){var O=
a(E.target),V=O.closest("li");switch(E.keyCode){case 38:E=V.prev().not(".ui-selectmenu-placeholder");if(E.is(".ui-li-divider"))E=E.prev();if(E.length){O.blur().attr("tabindex","-1");E.addClass("ui-btn-down-"+j.options.theme).find("a").first().focus()}return false;case 40:E=V.next();if(E.is(".ui-li-divider"))E=E.next();if(E.length){O.blur().attr("tabindex","-1");E.addClass("ui-btn-down-"+j.options.theme).find("a").first().focus()}return false;case 13:case 32:O.trigger("click");return false}});H.menuPage.bind("pagehide",
function(){H.list.appendTo(H.listbox);H._focusButton();a.mobile._bindPageRemove.call(H.thisPage)});H.screen.bind("vclick",function(){H.close()});H.isMultiple&&H.headerClose.click(function(){if(H.menuType=="overlay"){H.close();return false}});H.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var H=this.list.find("li");return this._selectOptions().text()!==H.text()},refresh:function(H){var E=this;this._selectOptions();this.selected();var O=this.selectedIndices();if(H||this._isRebuildRequired())E._buildList();
E.setButtonText();E.setButtonCount();E.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(V){if(a.inArray(V,O)>-1){V=a(this);V.attr("aria-selected",true);if(E.isMultiple)V.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on");else V.is(".ui-selectmenu-placeholder")?V.next().addClass(a.mobile.activeBtnClass):V.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var H=
this;if(H.menuType=="page")d.history.back();else{H.screen.addClass("ui-screen-hidden");H.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");H.list.appendTo(H.listbox);H._focusButton()}H.isOpen=false}},open:function(){function H(){E.list.find("."+a.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var E=this,O=a(d),V=E.list.parent(),Y=V.outerHeight();V=V.outerWidth();a(".ui-page-active");var ka=O.scrollTop(),na=E.button.offset().top,M=O.height();O=O.width();
E.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){E.button.removeClass(a.mobile.activeBtnClass)},300);if(Y>M-80||!a.support.scrollTop){E.menuPage.appendTo(a.mobile.pageContainer).page();E.menuPageContent=L.find(".ui-content");E.menuPageClose=L.find(".ui-header a");E.thisPage.unbind("pagehide.remove");ka==0&&na>M&&E.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",na)});E.menuPage.one("pageshow",function(){H();E.isOpen=true});E.menuType="page";E.menuPageContent.append(E.list);
E.menuPage.find("div .ui-title").text(E.label.text());a.mobile.changePage(E.menuPage,{transition:a.mobile.defaultDialogTransition})}else{E.menuType="overlay";E.screen.height(a(e).height()).removeClass("ui-screen-hidden");var R=na-ka,Z=ka+M-na,ma=Y/2,U=parseFloat(E.list.parent().css("max-width"));Y=R>Y/2&&Z>Y/2?na+E.button.outerHeight()/2-ma:R>Z?ka+M-Y-30:ka+30;if(V<U)ka=(O-V)/2;else{ka=E.button.offset().left+E.button.outerWidth()/2-V/2;if(ka<30)ka=30;else if(ka+V>O)ka=O-V-30}E.listbox.append(E.list).removeClass("ui-selectmenu-hidden").css({top:Y,
left:ka}).addClass("in");H();E.isOpen=true}}},_buildList:function(){var H=this,E=this.options,O=this.placeholder,V=true,Y=H.isMultiple?"checkbox-off":"false";H.list.empty().filter(".ui-listview").listview("destroy");var ka=H.select.find("option"),na=ka.length,M=this.select[0],R="data-"+a.mobile.ns,Z=R+"option-index",ma=R+"icon";R=R+"role";for(var U=e.createDocumentFragment(),qa,ra=0;ra<na;ra++){var p=ka[ra],va=a(p),Ca=p.parentNode,Fa=va.text(),za=e.createElement("a"),Ia=[];za.setAttribute("href",
"#");za.appendChild(e.createTextNode(Fa));if(Ca!==M&&Ca.nodeName.toLowerCase()==="optgroup"){Ca=Ca.getAttribute("label");if(Ca!=qa){qa=e.createElement("li");qa.setAttribute(R,"list-divider");qa.setAttribute("role","option");qa.setAttribute("tabindex","-1");qa.appendChild(e.createTextNode(Ca));U.appendChild(qa);qa=Ca}}if(V&&(!p.getAttribute("value")||Fa.length==0||va.jqmData("placeholder"))){V=false;E.hidePlaceholderMenuItems&&Ia.push("ui-selectmenu-placeholder");if(!O)O=H.placeholder=Fa}va=e.createElement("li");
if(p.disabled){Ia.push("ui-disabled");va.setAttribute("aria-disabled",true)}va.setAttribute(Z,ra);va.setAttribute(ma,Y);va.className=Ia.join(" ");va.setAttribute("role","option");za.setAttribute("tabindex","-1");va.appendChild(za);U.appendChild(va)}H.list[0].appendChild(U);!this.isMultiple&&!O.length?this.header.hide():this.headerTitle.text(this.placeholder);H.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};
a(e).bind("selectmenubeforecreate",function(j){j=a(j.target).data("selectmenu");j.options.nativeMenu||c(j)})})(jQuery);(function(a){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var c=d,j=navigator.userAgent,
n=navigator.platform,h=j.match(/AppleWebKit\/([0-9]+)/);h=!!h&&h[1];var q=j.match(/Fennec\/([0-9]+)/);q=!!q&&q[1];var o=j.match(/Opera Mobi\/([0-9]+)/),v=!!o&&o[1];if((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&h&&h<534||c.operamini&&{}.toString.call(c.operamini)==="[object OperaMini]"||o&&v<7458||j.indexOf("Android")>-1&&h&&h<533||q&&q<6||"palmGetResource"in d&&h&&h<534||j.indexOf("MeeGo")>-1&&j.indexOf("NokiaBrowser/8.5.0")>-1)return true;return false},initSelector:":jqmData(position='fixed')"},
_create:function(){var c=this,j=c.options,n=c.element,h=n.is(":jqmData(role='header')")?"header":"footer",q=n.closest(".ui-page");if(j.supportBlacklist())c.destroy();else{n.addClass("ui-"+h+"-fixed");if(j.fullscreen){n.addClass("ui-"+h+"-fullscreen");q.addClass("ui-page-"+h+"-fullscreen")}else q.addClass("ui-page-"+h+"-fixed");c._addTransitionClass();c._bindPageEvents();c._bindToggleHandlers()}},_addTransitionClass:function(){var c=this.options.transition;if(c&&c!=="none"){if(c==="slide")c=this.element.is(".ui-header")?
"slidedown":"slideup";this.element.addClass(c)}},_bindPageEvents:function(){var c=this,j=c.options;c.element.closest(".ui-page").bind("pagebeforeshow",function(){j.disablePageZoom&&a.mobile.zoom.disable(true);j.visibleOnPageShow||c.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",function(){j.updatePagePadding&&c.updatePagePadding()}).bind("pageshow",function(){c.updatePagePadding();j.updatePagePadding&&a(d).bind("throttledresize."+c.widgetName,function(){c.updatePagePadding()})}).bind("pagebeforehide",
function(n,h){j.disablePageZoom&&a.mobile.zoom.enable(true);j.updatePagePadding&&a(d).unbind("throttledresize."+c.widgetName);if(j.trackPersistentToolbars){n=a(".ui-footer-fixed:jqmData(id)",this);var q=a(".ui-header-fixed:jqmData(id)",this),o=n.length&&h.nextPage&&a(".ui-footer-fixed:jqmData(id='"+n.jqmData("id")+"')",h.nextPage),v=q.length&&h.nextPage&&a(".ui-header-fixed:jqmData(id='"+q.jqmData("id")+"')",h.nextPage);o=o||a();if(o.length||v.length){o.add(v).appendTo(a.mobile.pageContainer);h.nextPage.one("pageshow",
function(){o.add(v).appendTo(this)})}}})},_visible:true,updatePagePadding:function(){var c=this.element,j=c.is(".ui-header");this.options.fullscreen||c.closest(".ui-page").css("padding-"+(j?"top":"bottom"),c.outerHeight())},_useTransition:function(c){var j=this.element,n=a(d).scrollTop(),h=j.height(),q=j.closest(".ui-page").height(),o=a.mobile.getScreenHeight();j=j.is(":jqmData(role='header')")?"header":"footer";return!c&&(this.options.transition&&this.options.transition!=="none"&&(j==="header"&&
!this.options.fullscreen&&n>h||j==="footer"&&!this.options.fullscreen&&n+o<q-h)||this.options.fullscreen)},show:function(c){var j=this.element;this._useTransition(c)?j.removeClass("out ui-fixed-hidden").addClass("in"):j.removeClass("ui-fixed-hidden");this._visible=true},hide:function(c){var j=this.element,n="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(c)?j.addClass(n).removeClass("in").animationComplete(function(){j.addClass("ui-fixed-hidden").removeClass(n)}):j.addClass("ui-fixed-hidden").removeClass(n);
this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var c=this,j=c.options;c.element.closest(".ui-page").bind("vclick",function(n){j.tapToggle&&!a(n.target).closest(j.tapToggleBlacklist).length&&c.toggle()}).bind("focusin focusout",function(n){if(screen.width<500&&a(n.target).is(j.hideDuringFocus)&&!a(n.target).closest(".ui-header-fixed, .ui-footer-fixed").length)c[n.type==="focusin"&&c._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");
this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(e).bind("pagecreate create",function(c){a(c.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,c.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);a.mobile.fixedtoolbar.prototype.enhanceWithin(c.target)})})(jQuery);(function(a,c){function j(B){h=B.originalEvent;x=h.accelerationIncludingGravity;q=Math.abs(x.x);
o=Math.abs(x.y);v=Math.abs(x.z);if(!c.orientation&&(q>7||(v>6&&o<8||v<8&&o>6)&&q>5))n.enabled&&n.disable();else n.enabled||n.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var n=a.mobile.zoom,h,q,o,v,x;a(c).bind("orientationchange.iosorientationfix",n.enable).bind("devicemotion.iosorientationfix",j)}})(jQuery,this);(function(a,c){function j(){var x=a("."+a.mobile.activeBtnClass).first();v.css({top:a.support.scrollTop&&o.scrollTop()+o.height()/
2||x.length&&x.offset().top||100})}function n(){var x=v.offset(),B=o.scrollTop(),J=a.mobile.getScreenHeight();if(x.top<B||x.top-B>J){v.addClass("ui-loader-fakefix");j();o.unbind("scroll",n).bind("scroll",j)}}function h(){q.removeClass("ui-mobile-rendering")}var q=a("html");a("head");var o=a(c);a(c.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;q.addClass("ui-mobile ui-mobile-rendering");setTimeout(h,5E3);var v=a("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(x,B,J){q.addClass("ui-loading");if(a.mobile.loadingMessage){var L=J||a.mobile.loadingMessageTextVisible;x=x||a.mobile.loadingMessageTheme;v.attr("class","ui-loader ui-corner-all ui-body-"+(x||"a")+" ui-loader-"+(L?"verbose":"default")+(J?" ui-loader-textonly":"")).find("h1").text(B||a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer);n();o.bind("scroll",n)}},hidePageLoadingMsg:function(){q.removeClass("ui-loading");a.mobile.loadingMessage&&
v.removeClass("ui-loader-fakefix");a(c).unbind("scroll",j);a(c).unbind("scroll",n)},initializePage:function(){var x=a(":jqmData(role='page'), :jqmData(role='dialog')");x.length||(x=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));x.each(function(){var B=a(this);B.jqmData("url")||B.attr("data-"+a.mobile.ns+"url",B.attr("id")||location.pathname+location.search)});a.mobile.firstPage=x.first();a.mobile.pageContainer=x.first().parent().addClass("ui-mobile-viewport");o.trigger("pagecontainercreate");
a.mobile.showPageLoadingMsg();h();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):o.trigger("hashchange",[true])}});a.mobile._registerInternalEvents();a(function(){c.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(c).scrollTop()===1?0:1;a.fn.controlgroup&&a(e).bind("pagecreate create",function(x){a(":jqmData(role='controlgroup')",x.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});
a.mobile.autoInitializePage&&a.mobile.initializePage();o.load(a.mobile.silentScroll)})}})(jQuery,this)});steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var f=this;f.installed=false;f.raw="";f.major=-1;f.minor=-1;f.revision=-1;f.revisionStr="";var d=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(h){return e(h)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(h){var q="6,0,21";try{h.AllowScriptAccess="always";q=e(h)}catch(o){}return q}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(h){return e(h)}}],e=function(h){var q=-1;try{q=h.GetVariable("$version")}catch(o){}return q},a=function(h){var q=
-1;try{q=new ActiveXObject(h)}catch(o){q={activeXError:true}}return q},c=function(h){var q=h.split(",");return{raw:h,major:parseInt(q[0].split(" ")[1],10),minor:parseInt(q[1],10),revision:parseInt(q[2],10),revisionStr:q[2]}},j=function(h){var q=h.split(/ +/),o=q[2].split(/\./);q=q[3];return{raw:h,major:parseInt(o[0],10),minor:parseInt(o[1],10),revisionStr:q,revision:n(q)}},n=function(h){return parseInt(h.replace(/[a-zA-Z]/g,""),10)||f.revision};f.majorAtLeast=function(h){return f.major>=h};f.minorAtLeast=
function(h){return f.minor>=h};f.revisionAtLeast=function(h){return f.revision>=h};f.versionAtLeast=function(){var h=[f.major,f.minor,f.revision],q=Math.min(h.length,arguments.length);for(i=0;i<q;i++)if(h[i]>=arguments[i]){if(!(i+1<q&&h[i]==arguments[i]))return true}else return false};f.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var h=navigator.mimeTypes;if(h&&h["application/x-shockwave-flash"]&&h["application/x-shockwave-flash"].enabledPlugin&&h["application/x-shockwave-flash"].enabledPlugin.description){h=
h["application/x-shockwave-flash"].enabledPlugin.description;var q=j(h);f.raw=q.raw;f.major=q.major;f.minor=q.minor;f.revisionStr=q.revisionStr;f.revision=q.revision;f.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){h=-1;for(var o=0;o<d.length&&h==-1;o++){q=a(d[o].name);if(!q.activeXError){f.installed=true;h=d[o].version(q);if(h!=-1){q=c(h);f.raw=q.raw;f.major=q.major;f.minor=q.minor;f.revision=q.revision;f.revisionStr=q.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");
(function(f,d){function e(c,j){var n=c.nodeName.toLowerCase();if("area"===n){j=c.parentNode;n=j.name;if(!c.href||!n||j.nodeName.toLowerCase()!=="map")return false;c=f("img[usemap=#"+n+"]")[0];return!!c&&a(c)}return(/input|select|textarea|button|object/.test(n)?!c.disabled:"a"==n?c.href||j:j)&&a(c)}function a(c){return!f(c).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}f.ui=f.ui||{};if(!f.ui.version){f.extend(f.ui,{version:"1.8.16",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(c,j){return typeof c==="number"?this.each(function(){var n=
this;setTimeout(function(){f(n).focus();j&&j.call(n)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,
"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?f(document):c},zIndex:function(c){if(c!==d)return this.css("zIndex",c);if(this.length){c=f(this[0]);for(var j;c.length&&c[0]!==document;){j=c.css("position");if(j==="absolute"||j==="relative"||j==="fixed"){j=parseInt(c.css("zIndex"),10);if(!isNaN(j)&&j!==0)return j}c=c.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});f.each(["Width","Height"],function(c,j){function n(v,x,B,J){f.each(h,function(){x-=parseFloat(f.curCSS(v,"padding"+this,true))||0;if(B)x-=parseFloat(f.curCSS(v,"border"+this+"Width",true))||0;if(J)x-=parseFloat(f.curCSS(v,"margin"+this,true))||0});return x}var h=j==="Width"?["Left","Right"]:["Top","Bottom"],q=j.toLowerCase(),o={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,
outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+j]=function(v){if(v===d)return o["inner"+j].call(this);return this.each(function(){f(this).css(q,n(this,v)+"px")})};f.fn["outer"+j]=function(v,x){if(typeof v!=="number")return o["outer"+j].call(this,v);return this.each(function(){f(this).css(q,n(this,v,true,x)+"px")})}});f.extend(f.expr[":"],{data:function(c,j,n){return!!f.data(c,n[3])},focusable:function(c){return e(c,!isNaN(f.attr(c,"tabindex")))},tabbable:function(c){var j=f.attr(c,
"tabindex"),n=isNaN(j);return(n||j>=0)&&e(c,!n)}});f(function(){var c=document.body,j=c.appendChild(j=document.createElement("div"));f.extend(j.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});f.support.minHeight=j.offsetHeight===100;f.support.selectstart="onselectstart"in j;c.removeChild(j).style.display="none"});f.extend(f.ui,{plugin:{add:function(c,j,n){c=f.ui[c].prototype;for(var h in n){c.plugins[h]=c.plugins[h]||[];c.plugins[h].push([j,n[h]])}},call:function(c,j,n){if((j=c.plugins[j])&&
c.element[0].parentNode)for(var h=0;h<j.length;h++)c.options[j[h][0]]&&j[h][1].apply(c.element,n)}},contains:function(c,j){return document.compareDocumentPosition?c.compareDocumentPosition(j)&16:c!==j&&c.contains(j)},hasScroll:function(c,j){if(f(c).css("overflow")==="hidden")return false;j=j&&j==="left"?"scrollLeft":"scrollTop";var n=false;if(c[j]>0)return true;c[j]=1;n=c[j]>0;c[j]=0;return n},isOverAxis:function(c,j,n){return c>j&&c<j+n},isOver:function(c,j,n,h,q,o){return f.ui.isOverAxis(c,n,q)&&
f.ui.isOverAxis(j,h,o)}})}})(jQuery);
(function(f,d){if(f.cleanData){var e=f.cleanData;f.cleanData=function(c){for(var j=0,n;(n=c[j])!=null;j++)try{f(n).triggerHandler("remove")}catch(h){}e(c)}}else{var a=f.fn.remove;f.fn.remove=function(c,j){return this.each(function(){if(!j)if(!c||f.filter(c,[this]).length)f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(n){}});return a.call(f(this),c,j)})}}f.widget=function(c,j,n){var h=c.split(".")[0],q;c=c.split(".")[1];q=h+"-"+c;if(!n){n=j;j=f.Widget}f.expr[":"][q]=
function(o){return!!f.data(o,c)};f[h]=f[h]||{};f[h][c]=function(o,v){arguments.length&&this._createWidget(o,v)};j=new j;j.options=f.extend(true,{},j.options);f[h][c].prototype=f.extend(true,j,{namespace:h,widgetName:c,widgetEventPrefix:f[h][c].prototype.widgetEventPrefix||c,widgetBaseClass:q},n);f.widget.bridge(c,f[h][c])};f.widget.bridge=function(c,j){f.fn[c]=function(n){var h=typeof n==="string",q=Array.prototype.slice.call(arguments,1),o=this;n=!h&&q.length?f.extend.apply(null,[true,n].concat(q)):
n;if(h&&n.charAt(0)==="_")return o;h?this.each(function(){var v=f.data(this,c),x=v&&f.isFunction(v[n])?v[n].apply(v,q):v;if(x!==v&&x!==d){o=x;return false}}):this.each(function(){var v=f.data(this,c);v?v.option(n||{})._init():f.data(this,c,new j(n,this))});return o}};f.Widget=function(c,j){arguments.length&&this._createWidget(c,j)};f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(c,j){f.data(j,this.widgetName,this);this.element=f(j);this.options=
f.extend(true,{},this.options,this._getCreateOptions(),c);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,j){var n=c;if(arguments.length===0)return f.extend({},this.options);if(typeof c==="string"){if(j===d)return this.options[c];n={};n[c]=j}this._setOptions(n);return this},_setOptions:function(c){var j=this;f.each(c,function(n,h){j._setOption(n,h)});return this},_setOption:function(c,j){this.options[c]=j;if(c==="disabled")this.widget()[j?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
j);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,j,n){var h=this.options[c];j=f.Event(j);j.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();n=n||{};if(j.originalEvent){c=f.event.props.length;for(var q;c;){q=f.event.props[--c];j[q]=j.originalEvent[q]}}this.element.trigger(j,n);return!(f.isFunction(h)&&h.call(this.element[0],j,n)===false||j.isDefaultPrevented())}}})(jQuery);
(function(f){var d=false;f(document).mouseup(function(){d=false});f.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(a){return e._mouseDown(a)}).bind("click."+this.widgetName,function(a){if(true===f.data(a.target,e.widgetName+".preventClickEvent")){f.removeData(a.target,e.widgetName+".preventClickEvent");a.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(e){if(!d){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var a=this,c=e.which==1,j=typeof this.options.cancel=="string"&&e.target.nodeName?f(e.target).closest(this.options.cancel).length:false;if(!c||j||!this._mouseCapture(e))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=
this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}true===f.data(e.target,this.widgetName+".preventClickEvent")&&f.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(n){return a._mouseMove(n)};this._mouseUpDelegate=function(n){return a._mouseUp(n)};f(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();return d=true}},_mouseMove:function(e){if(f.browser.msie&&
!(document.documentMode>=9)&&!e.button)return this._mouseUp(e);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false)?this._mouseDrag(e):this._mouseUp(e);return!this._mouseStarted},_mouseUp:function(e){f(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;e.target==this._mouseDownEvent.target&&f.data(e.target,this.widgetName+".preventClickEvent",true);this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(f){f.widget("ui.draggable",f.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var e=
this.options;if(this.helper||e.disabled||f(d.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(d);if(!this.handle)return false;if(e.iframeFix)f(e.iframeFix===true?"iframe":e.iframeFix).each(function(){f('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(f(this).offset()).appendTo("body")});return true},_mouseStart:function(d){var e=this.options;
this.helper=this._createHelper(d);this._cacheHelperProportions();if(f.ui.ddmanager)f.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};f.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);f.ui.ddmanager&&f.ui.ddmanager.dragStart(this,d);return true},
_mouseDrag:function(d,e){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();if(this._trigger("drag",d,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";f.ui.ddmanager&&f.ui.ddmanager.drag(this,d);return false},_mouseStop:function(d){var e=
false;if(f.ui.ddmanager&&!this.options.dropBehaviour)e=f.ui.ddmanager.drop(this,d);if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||f.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var a=this;f(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){a._trigger("stop",d)!==false&&a._clear()})}else this._trigger("stop",d)!==false&&this._clear();return false},_mouseUp:function(d){this.options.iframeFix===true&&f("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});f.ui.ddmanager&&f.ui.ddmanager.dragStop(this,d);return f.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var e=!this.options.handle||
!f(this.options.handle,this.element).length?true:false;f(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target)e=true});return e},_createHelper:function(d){var e=this.options;d=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[d])):e.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(e.appendTo=="parent"?this.element[0].parentNode:e.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&
d.css("position","absolute");return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(f.isArray(d))d={left:+d[0],top:+d[1]||0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&f.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[d.containment=="document"?0:f(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d.containment=="document"?0:f(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(d.containment=="document"?0:f(window).scrollLeft())+f(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d.containment=="document"?0:f(window).scrollTop())+(f(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)&&d.containment.constructor!=Array){d=f(d.containment);var e=d[0];if(e){d.offset();var a=f(e).css("overflow")!=
"hidden";this.containment=[(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0),(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0),(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),
10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=d}}else if(d.containment.constructor==Array)this.containment=d.containment},_convertPositionTo:function(d,e){if(!e)e=this.position;d=d=="absolute"?1:-1;var a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName);return{top:e.top+
this.offset.relative.top*d+this.offset.parent.top*d-(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,a=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName),j=d.pageX,n=d.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){h=this.relative_container.offset();h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]}else h=this.containment;if(d.pageX-this.offset.click.left<h[0])j=h[0]+this.offset.click.left;
if(d.pageY-this.offset.click.top<h[1])n=h[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>h[2])j=h[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>h[3])n=h[3]+this.offset.click.top}if(e.grid){n=e.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;n=h?!(n-this.offset.click.top<h[1]||n-this.offset.click.top>h[3])?n:!(n-this.offset.click.top<h[1])?n-e.grid[1]:n+e.grid[1]:n;j=e.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/
e.grid[0])*e.grid[0]:this.originalPageX;j=h?!(j-this.offset.click.left<h[0]||j-this.offset.click.left>h[2])?j:!(j-this.offset.click.left<h[0])?j-e.grid[0]:j+e.grid[0]:j}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&f.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&f.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,e,a){a=a||this._uiHash();f.ui.plugin.call(this,d,[e,a]);if(d=="drag")this.positionAbs=this._convertPositionTo("absolute");return f.Widget.prototype._trigger.call(this,d,e,
a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});f.extend(f.ui.draggable,{version:"1.8.16"});f.ui.plugin.add("draggable","connectToSortable",{start:function(d,e){var a=f(this).data("draggable"),c=a.options,j=f.extend({},e,{item:a.element});a.sortables=[];f(c.connectToSortable).each(function(){var n=f.data(this,"sortable");if(n&&!n.options.disabled){a.sortables.push({instance:n,shouldRevert:n.options.revert});
n.refreshPositions();n._trigger("activate",d,j)}})},stop:function(d,e){var a=f(this).data("draggable"),c=f.extend({},e,{item:a.element});f.each(a.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;a.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;a.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=
false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,e){var a=f(this).data("draggable"),c=this;f.each(a.sortables,function(){this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=f(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);
this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return e.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=a.offset.click.top;this.instance.offset.click.left=a.offset.click.left;this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top;
a._trigger("toSortable",d);a.dropped=this.instance.element;a.currentItem=a.element;this.instance.fromOutside=a}this.instance.currentItem&&this.instance._mouseDrag(d)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&
this.instance.placeholder.remove();a._trigger("fromSortable",d);a.dropped=false}})}});f.ui.plugin.add("draggable","cursor",{start:function(){var d=f("body"),e=f(this).data("draggable").options;if(d.css("cursor"))e._cursor=d.css("cursor");d.css("cursor",e.cursor)},stop:function(){var d=f(this).data("draggable").options;d._cursor&&f("body").css("cursor",d._cursor)}});f.ui.plugin.add("draggable","opacity",{start:function(d,e){d=f(e.helper);e=f(this).data("draggable").options;if(d.css("opacity"))e._opacity=
d.css("opacity");d.css("opacity",e.opacity)},stop:function(d,e){d=f(this).data("draggable").options;d._opacity&&f(e.helper).css("opacity",d._opacity)}});f.ui.plugin.add("draggable","scroll",{start:function(){var d=f(this).data("draggable");if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML")d.overflowOffset=d.scrollParent.offset()},drag:function(d){var e=f(this).data("draggable"),a=e.options,c=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!a.axis||a.axis!=
"x")if(e.overflowOffset.top+e.scrollParent[0].offsetHeight-d.pageY<a.scrollSensitivity)e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop+a.scrollSpeed;else if(d.pageY-e.overflowOffset.top<a.scrollSensitivity)e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop-a.scrollSpeed;if(!a.axis||a.axis!="y")if(e.overflowOffset.left+e.scrollParent[0].offsetWidth-d.pageX<a.scrollSensitivity)e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft+a.scrollSpeed;else if(d.pageX-e.overflowOffset.left<
a.scrollSensitivity)e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft-a.scrollSpeed}else{if(!a.axis||a.axis!="x")if(d.pageY-f(document).scrollTop()<a.scrollSensitivity)c=f(document).scrollTop(f(document).scrollTop()-a.scrollSpeed);else if(f(window).height()-(d.pageY-f(document).scrollTop())<a.scrollSensitivity)c=f(document).scrollTop(f(document).scrollTop()+a.scrollSpeed);if(!a.axis||a.axis!="y")if(d.pageX-f(document).scrollLeft()<a.scrollSensitivity)c=f(document).scrollLeft(f(document).scrollLeft()-
a.scrollSpeed);else if(f(window).width()-(d.pageX-f(document).scrollLeft())<a.scrollSensitivity)c=f(document).scrollLeft(f(document).scrollLeft()+a.scrollSpeed)}c!==false&&f.ui.ddmanager&&!a.dropBehaviour&&f.ui.ddmanager.prepareOffsets(e,d)}});f.ui.plugin.add("draggable","snap",{start:function(){var d=f(this).data("draggable"),e=d.options;d.snapElements=[];f(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var a=f(this),c=a.offset();this!=d.element[0]&&d.snapElements.push({item:this,
width:a.outerWidth(),height:a.outerHeight(),top:c.top,left:c.left})})},drag:function(d,e){for(var a=f(this).data("draggable"),c=a.options,j=c.snapTolerance,n=e.offset.left,h=n+a.helperProportions.width,q=e.offset.top,o=q+a.helperProportions.height,v=a.snapElements.length-1;v>=0;v--){var x=a.snapElements[v].left,B=x+a.snapElements[v].width,J=a.snapElements[v].top,L=J+a.snapElements[v].height;if(x-j<n&&n<B+j&&J-j<q&&q<L+j||x-j<n&&n<B+j&&J-j<o&&o<L+j||x-j<h&&h<B+j&&J-j<q&&q<L+j||x-j<h&&h<B+j&&J-j<o&&
o<L+j){if(c.snapMode!="inner"){var D=Math.abs(J-o)<=j,G=Math.abs(L-q)<=j,A=Math.abs(x-h)<=j,C=Math.abs(B-n)<=j;if(D)e.position.top=a._convertPositionTo("relative",{top:J-a.helperProportions.height,left:0}).top-a.margins.top;if(G)e.position.top=a._convertPositionTo("relative",{top:L,left:0}).top-a.margins.top;if(A)e.position.left=a._convertPositionTo("relative",{top:0,left:x-a.helperProportions.width}).left-a.margins.left;if(C)e.position.left=a._convertPositionTo("relative",{top:0,left:B}).left-a.margins.left}var t=
D||G||A||C;if(c.snapMode!="outer"){D=Math.abs(J-q)<=j;G=Math.abs(L-o)<=j;A=Math.abs(x-n)<=j;C=Math.abs(B-h)<=j;if(D)e.position.top=a._convertPositionTo("relative",{top:J,left:0}).top-a.margins.top;if(G)e.position.top=a._convertPositionTo("relative",{top:L-a.helperProportions.height,left:0}).top-a.margins.top;if(A)e.position.left=a._convertPositionTo("relative",{top:0,left:x}).left-a.margins.left;if(C)e.position.left=a._convertPositionTo("relative",{top:0,left:B-a.helperProportions.width}).left-a.margins.left}if(!a.snapElements[v].snapping&&
(D||G||A||C||t))a.options.snap.snap&&a.options.snap.snap.call(a.element,d,f.extend(a._uiHash(),{snapItem:a.snapElements[v].item}));a.snapElements[v].snapping=D||G||A||C||t}else{a.snapElements[v].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,d,f.extend(a._uiHash(),{snapItem:a.snapElements[v].item}));a.snapElements[v].snapping=false}}}});f.ui.plugin.add("draggable","stack",{start:function(){var d=f(this).data("draggable").options;d=f.makeArray(f(d.stack)).sort(function(a,c){return(parseInt(f(a).css("zIndex"),
10)||0)-(parseInt(f(c).css("zIndex"),10)||0)});if(d.length){var e=parseInt(d[0].style.zIndex)||0;f(d).each(function(a){this.style.zIndex=e+a});this[0].style.zIndex=e+d.length}}});f.ui.plugin.add("draggable","zIndex",{start:function(d,e){d=f(e.helper);e=f(this).data("draggable").options;if(d.css("zIndex"))e._zIndex=d.css("zIndex");d.css("zIndex",e.zIndex)},stop:function(d,e){d=f(this).data("draggable").options;d._zIndex&&f(e.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(f){f.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,e=d.accept;this.isover=0;this.isout=1;this.accept=f.isFunction(e)?e:function(a){return a.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};f.ui.ddmanager.droppables[d.scope]=f.ui.ddmanager.droppables[d.scope]||[];f.ui.ddmanager.droppables[d.scope].push(this);
d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=f.ui.ddmanager.droppables[this.options.scope],e=0;e<d.length;e++)d[e]==this&&d.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,e){if(d=="accept")this.accept=f.isFunction(e)?e:function(a){return a.is(e)};f.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var e=f.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);e&&this._trigger("activate",d,this.ui(e))},_deactivate:function(d){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",d,this.ui(e))},_over:function(d){var e=f.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",d,this.ui(e))}},_out:function(d){var e=f.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(e))}},_drop:function(d,e){var a=e||f.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0])return false;var c=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var j=
f.data(this,"droppable");if(j.options.greedy&&!j.options.disabled&&j.options.scope==a.options.scope&&j.accept.call(j.element[0],a.currentItem||a.element)&&f.ui.intersect(a,f.extend(j,{offset:j.element.offset()}),j.options.tolerance)){c=true;return false}});if(c)return false;if(this.accept.call(this.element[0],a.currentItem||a.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
d,this.ui(a));return this.element}return false},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});f.extend(f.ui.droppable,{version:"1.8.16"});f.ui.intersect=function(d,e,a){if(!e.offset)return false;var c=(d.positionAbs||d.position.absolute).left,j=c+d.helperProportions.width,n=(d.positionAbs||d.position.absolute).top,h=n+d.helperProportions.height,q=e.offset.left,o=q+e.proportions.width,v=e.offset.top,x=v+e.proportions.height;switch(a){case "fit":return q<=
c&&j<=o&&v<=n&&h<=x;case "intersect":return q<c+d.helperProportions.width/2&&j-d.helperProportions.width/2<o&&v<n+d.helperProportions.height/2&&h-d.helperProportions.height/2<x;case "pointer":return f.ui.isOver((d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,v,q,e.proportions.height,e.proportions.width);case "touch":return(n>=v&&n<=x||h>=v&&h<=x||n<v&&h>x)&&(c>=q&&c<=o||j>=q&&j<=o||c<q&&j>o);
default:return false}};f.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(d,e){var a=f.ui.ddmanager.droppables[d.options.scope]||[],c=e?e.type:null,j=(d.currentItem||d.element).find(":data(droppable)").andSelf(),n=0;a:for(;n<a.length;n++)if(!(a[n].options.disabled||d&&!a[n].accept.call(a[n].element[0],d.currentItem||d.element))){for(var h=0;h<j.length;h++)if(j[h]==a[n].element[0]){a[n].proportions.height=0;continue a}a[n].visible=a[n].element.css("display")!="none";if(a[n].visible){c==
"mousedown"&&a[n]._activate.call(a[n],e);a[n].offset=a[n].element.offset();a[n].proportions={width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}}}},drop:function(d,e){var a=false;f.each(f.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&f.ui.intersect(d,this,this.options.tolerance))a=a||this._drop.call(this,e);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,e)}}});return a},dragStart:function(d,e){d.element.parents(":not(body,html)").bind("scroll.droppable",function(){d.options.refreshPositions||f.ui.ddmanager.prepareOffsets(d,e)})},drag:function(d,e){d.options.refreshPositions&&f.ui.ddmanager.prepareOffsets(d,e);f.each(f.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var a=f.ui.intersect(d,this,this.options.tolerance);if(a=!a&&this.isover==
1?"isout":a&&this.isover==0?"isover":null){var c;if(this.options.greedy){var j=this.element.parents(":data(droppable):eq(0)");if(j.length){c=f.data(j[0],"droppable");c.greedyChild=a=="isover"?1:0}}if(c&&a=="isover"){c.isover=0;c.isout=1;c._out.call(c,e)}this[a]=1;this[a=="isout"?"isover":"isout"]=0;this[a=="isover"?"_over":"_out"].call(this,e);if(c&&a=="isout"){c.isout=0;c.isover=1;c._over.call(c,e)}}}})},dragStop:function(d,e){d.element.parents(":not(body,html)").unbind("scroll.droppable");d.options.refreshPositions||
f.ui.ddmanager.prepareOffsets(d,e)}}})(jQuery);
(function(f){f.widget("ui.sortable",f.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?d.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--)this.items[d].item.removeData("sortable-item");return this},_setOption:function(d,e){if(d===
"disabled"){this.options[d]=e;this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")}else f.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,e){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(d);var a=null,c=this;f(d.target).parents().each(function(){if(f.data(this,"sortable-item")==c){a=f(this);return false}});if(f.data(d.target,"sortable-item")==c)a=f(d.target);if(!a)return false;if(this.options.handle&&
!e){var j=false;f(this.options.handle,a).find("*").andSelf().each(function(){if(this==d.target)j=true});if(!j)return false}this.currentItem=a;this._removeCurrentsFromItems();return true},_mouseStart:function(d,e,a){e=this.options;var c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(d);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,
left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");f.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();if(e.cursor){if(f("body").css("cursor"))this._storedCursor=f("body").css("cursor");f("body").css("cursor",e.cursor)}if(e.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",e.opacity)}if(e.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",e.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",d,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!a)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",d,c._uiHash(this));if(f.ui.ddmanager)f.ui.ddmanager.current=this;f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,d);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(d);
return true},_mouseDrag:function(d){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var e=this.options,a=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-d.pageY<e.scrollSensitivity)this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+e.scrollSpeed;else if(d.pageY-this.overflowOffset.top<
e.scrollSensitivity)this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-e.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-d.pageX<e.scrollSensitivity)this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+e.scrollSpeed;else if(d.pageX-this.overflowOffset.left<e.scrollSensitivity)this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(d.pageY-f(document).scrollTop()<e.scrollSensitivity)a=f(document).scrollTop(f(document).scrollTop()-
e.scrollSpeed);else if(f(window).height()-(d.pageY-f(document).scrollTop())<e.scrollSensitivity)a=f(document).scrollTop(f(document).scrollTop()+e.scrollSpeed);if(d.pageX-f(document).scrollLeft()<e.scrollSensitivity)a=f(document).scrollLeft(f(document).scrollLeft()-e.scrollSpeed);else if(f(window).width()-(d.pageX-f(document).scrollLeft())<e.scrollSensitivity)a=f(document).scrollLeft(f(document).scrollLeft()+e.scrollSpeed)}a!==false&&f.ui.ddmanager&&!e.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,
d)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(e=this.items.length-1;e>=0;e--){a=this.items[e];var c=a.item[0],j=this._intersectsWithPointer(a);if(j)if(c!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=c&&!f.ui.contains(this.placeholder[0],c)&&(this.options.type=="semi-dynamic"?!f.ui.contains(this.element[0],
c):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(a))this._rearrange(d,a);else break;this._trigger("change",d,this._uiHash());break}}this._contactContainers(d);f.ui.ddmanager&&f.ui.ddmanager.drag(this,d);this._trigger("sort",d,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(d){f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,d);if(this.options.revert){var a=this;e=a.placeholder.offset();
a.reverting=true;f(this.helper).animate({left:e.left-this.offset.parent.left-a.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-a.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){a._clear(d)})}else this._clear(d,e);return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,d._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,d._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();f.extend(this,{helper:null,
dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(d){var e=this._getItemsAsjQuery(d&&d.connected),a=[];d=d||{};f(e).each(function(){var c=(f(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[-=_](.+)/);if(c)a.push((d.key||c[1]+"[]")+"="+(d.key&&d.expression?c[1]:c[2]))});!a.length&&d.key&&a.push(d.key+"=");return a.join("&")},
toArray:function(d){var e=this._getItemsAsjQuery(d&&d.connected),a=[];d=d||{};e.each(function(){a.push(f(d.item||this).attr(d.attribute||"id")||"")});return a},_intersectsWith:function(d){var e=this.positionAbs.left,a=e+this.helperProportions.width,c=this.positionAbs.top,j=c+this.helperProportions.height,n=d.left,h=n+d.width,q=d.top,o=q+d.height,v=this.offset.click.top,x=this.offset.click.left;v=c+v>q&&c+v<o&&e+x>n&&e+x<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||
this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>d[this.floating?"width":"height"]?v:n<e+this.helperProportions.width/2&&a-this.helperProportions.width/2<h&&q<c+this.helperProportions.height/2&&j-this.helperProportions.height/2<o},_intersectsWithPointer:function(d){var e=f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height);d=f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width);e=e&&d;d=this._getDragVerticalDirection();
var a=this._getDragHorizontalDirection();if(!e)return false;return this.floating?a&&a=="right"||d=="down"?2:1:d&&(d=="down"?2:1)},_intersectsWithSides:function(d){var e=f.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top+d.height/2,d.height);d=f.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left+d.width/2,d.width);var a=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?c=="right"&&d||c=="left"&&!d:a&&(a=="down"&&e||a=="up"&&!e)},
_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")},refresh:function(d){this._refreshItems(d);this.refreshPositions();return this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(d){var e=[],a=[],c=this._connectWith();
if(c&&d)for(d=c.length-1;d>=0;d--)for(var j=f(c[d]),n=j.length-1;n>=0;n--){var h=f.data(j[n],"sortable");if(h&&h!=this&&!h.options.disabled)a.push([f.isFunction(h.options.items)?h.options.items.call(h.element):f(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(d=a.length-1;d>=0;d--)a[d][0].each(function(){e.push(this)});return f(e)},_removeCurrentsFromItems:function(){for(var d=this.currentItem.find(":data(sortable-item)"),e=0;e<this.items.length;e++)for(var a=0;a<d.length;a++)d[a]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(d){this.items=[];this.containers=[this];var e=this.items,a=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):f(this.options.items,this.element),
this]],c=this._connectWith();if(c)for(var j=c.length-1;j>=0;j--)for(var n=f(c[j]),h=n.length-1;h>=0;h--){var q=f.data(n[h],"sortable");if(q&&q!=this&&!q.options.disabled){a.push([f.isFunction(q.options.items)?q.options.items.call(q.element[0],d,{item:this.currentItem}):f(q.options.items,q.element),q]);this.containers.push(q)}}for(j=a.length-1;j>=0;j--){d=a[j][1];c=a[j][0];h=0;for(n=c.length;h<n;h++){q=f(c[h]);q.data("sortable-item",d);e.push({item:q,instance:d,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var e=this.items.length-1;e>=0;e--){var a=this.items[e];if(!(a.instance!=this.currentContainer&&this.currentContainer&&a.item[0]!=this.currentItem[0])){var c=this.options.toleranceElement?f(this.options.toleranceElement,a.item):a.item;if(!d){a.width=c.outerWidth();a.height=c.outerHeight()}c=c.offset();a.left=c.left;a.top=c.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=
this.containers.length-1;e>=0;e--){c=this.containers[e].element.offset();this.containers[e].containerCache.left=c.left;this.containers[e].containerCache.top=c.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(d){var e=d||this,a=e.options;if(!a.placeholder||a.placeholder.constructor==String){var c=a.placeholder;a.placeholder={element:function(){var j=
f(document.createElement(e.currentItem[0].nodeName)).addClass(c||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c)j.style.visibility="hidden";return j},update:function(j,n){if(!(c&&!a.forcePlaceholderSize)){n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||
0,10))}}}}e.placeholder=f(a.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);a.placeholder.update(e,e.placeholder)},_contactContainers:function(d){for(var e=null,a=null,c=this.containers.length-1;c>=0;c--)if(!f.ui.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(!(e&&f.ui.contains(this.containers[c].element[0],e.element[0]))){e=this.containers[c];a=c}}else if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",
d,this._uiHash(this));this.containers[c].containerCache.over=0}if(e)if(this.containers.length===1){this.containers[a]._trigger("over",d,this._uiHash(this));this.containers[a].containerCache.over=1}else if(this.currentContainer!=this.containers[a]){e=1E4;c=null;for(var j=this.positionAbs[this.containers[a].floating?"left":"top"],n=this.items.length-1;n>=0;n--)if(f.ui.contains(this.containers[a].element[0],this.items[n].item[0])){var h=this.items[n][this.containers[a].floating?"left":"top"];if(Math.abs(h-
j)<e){e=Math.abs(h-j);c=this.items[n]}}if(c||this.options.dropOnEmpty){this.currentContainer=this.containers[a];c?this._rearrange(d,c,null,true):this._rearrange(d,null,this.containers[a].element,true);this._trigger("change",d,this._uiHash());this.containers[a]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[a]._trigger("over",d,this._uiHash(this));this.containers[a].containerCache.over=1}}},_createHelper:function(d){var e=
this.options;d=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[d,this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||f(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(d[0].style.width==
""||e.forceHelperSize)d.width(this.currentItem.width());if(d[0].style.height==""||e.forceHelperSize)d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(f.isArray(d))d={left:+d[0],top:+d[1]||0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=
this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&f.browser.msie)d=
{top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,f(d.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(f(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)){var e=f(d.containment)[0];d=f(d.containment).offset();var a=f(e).css("overflow")!="hidden";this.containment=[d.left+(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(f(e).css("borderTopWidth"),
10)||0)+(parseInt(f(e).css("paddingTop"),10)||0)-this.margins.top,d.left+(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(a?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,e){if(!e)e=
this.position;d=d=="absolute"?1:-1;var a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName);return{top:e.top+this.offset.relative.top*d+this.offset.parent.top*d-(f.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(f.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&f.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(a[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var j=d.pageX,n=d.pageY;if(this.originalPosition){if(this.containment){if(d.pageX-this.offset.click.left<this.containment[0])j=this.containment[0]+this.offset.click.left;if(d.pageY-this.offset.click.top<this.containment[1])n=this.containment[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>this.containment[2])j=this.containment[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>this.containment[3])n=this.containment[3]+this.offset.click.top}if(e.grid){n=this.originalPageY+Math.round((n-
this.originalPageY)/e.grid[1])*e.grid[1];n=this.containment?!(n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3])?n:!(n-this.offset.click.top<this.containment[1])?n-e.grid[1]:n+e.grid[1]:n;j=this.originalPageX+Math.round((j-this.originalPageX)/e.grid[0])*e.grid[0];j=this.containment?!(j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2])?j:!(j-this.offset.click.left<this.containment[0])?j-e.grid[0]:j+e.grid[0]:j}}return{top:n-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(f.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(f.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_rearrange:function(d,e,a,c){a?a[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var j=this,n=this.counter;window.setTimeout(function(){n==j.counter&&j.refreshPositions(!c)},0)},_clear:function(d,e){this.reverting=false;var a=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS)if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static")this._storedCSS[c]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&a.push(function(j){this._trigger("receive",j,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e)a.push(function(j){this._trigger("update",j,this._uiHash())});if(!f.ui.contains(this.element[0],this.currentItem[0])){e||a.push(function(j){this._trigger("remove",
j,this._uiHash())});for(c=this.containers.length-1;c>=0;c--)if(f.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e){a.push(function(j){return function(n){j._trigger("receive",n,this._uiHash(this))}}.call(this,this.containers[c]));a.push(function(j){return function(n){j._trigger("update",n,this._uiHash(this))}}.call(this,this.containers[c]))}}for(c=this.containers.length-1;c>=0;c--){e||a.push(function(j){return function(n){j._trigger("deactivate",n,this._uiHash(this))}}.call(this,
this.containers[c]));if(this.containers[c].containerCache.over){a.push(function(j){return function(n){j._trigger("out",n,this._uiHash(this))}}.call(this,this.containers[c]));this.containers[c].containerCache.over=0}}this._storedCursor&&f("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",
d,this._uiHash());for(c=0;c<a.length;c++)a[c].call(this,d);this._trigger("stop",d,this._uiHash())}return false}e||this._trigger("beforeStop",d,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(c=0;c<a.length;c++)a[c].call(this,d);this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){f.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(d){var e=d||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:d?d.element:null}}});f.extend(f.ui.sortable,{version:"1.8.16"})})(jQuery);steal.loaded("webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js");var mejs=mejs||{};mejs.version="2.8.1";mejs.meIndex=0;
mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};
mejs.Utility={encodeUrl:function(f){return encodeURIComponent(f)},escapeHTML:function(f){return f.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(f){var d=document.createElement("div");d.innerHTML='<a href="'+this.escapeHTML(f)+'">x</a>';return d.firstChild.href},getScriptPath:function(f){for(var d=0,e,a="",c="",j,n=document.getElementsByTagName("script"),h=n.length,q=f.length;d<h;d++){j=n[d].src;for(e=0;e<q;e++){c=f[e];if(j.indexOf(c)>
-1){a=j.substring(0,j.indexOf(c));break}}if(a!=="")break}return a},secondsToTimeCode:function(f,d,e,a){if(typeof e=="undefined")e=false;else if(typeof a=="undefined")a=25;var c=Math.floor(f/3600)%24,j=Math.floor(f/60)%60,n=Math.floor(f%60);f=Math.floor((f%1*a).toFixed(3));return(d||c>0?(c<10?"0"+c:c)+":":"")+(j<10?"0"+j:j)+":"+(n<10?"0"+n:n)+(e?":"+(f<10?"0"+f:f):"")},timeCodeToSeconds:function(f,d,e,a){if(typeof e=="undefined")e=false;else if(typeof a=="undefined")a=25;f=f.split(":");d=parseInt(f[0],
10);var c=parseInt(f[1],10),j=parseInt(f[2],10),n=0,h=0;if(e)n=parseInt(f[3])/a;return h=d*3600+c*60+j+n},removeSwf:function(f){var d=document.getElementById(f);if(d&&d.nodeName=="OBJECT")if(mejs.MediaFeatures.isIE){d.style.display="none";(function(){d.readyState==4?mejs.Utility.removeObjectInIE(f):setTimeout(arguments.callee,10)})()}else d.parentNode.removeChild(d)},removeObjectInIE:function(f){if(f=document.getElementById(f)){for(var d in f)if(typeof f[d]=="function")f[d]=null;f.parentNode.removeChild(f)}}};
mejs.PluginDetector={hasPluginVersion:function(f,d){f=this.plugins[f];d[1]=d[1]||0;d[2]=d[2]||0;return f[0]>d[0]||f[0]==d[0]&&f[1]>d[1]||f[0]==d[0]&&f[1]==d[1]&&f[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(f,d,e,a,c){this.plugins[f]=this.detectPlugin(d,e,a,c)},detectPlugin:function(f,d,e,a){var c=[0,0,0],j;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[f]=="object"){if((e=this.nav.plugins[f].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[d]&&!this.nav.mimeTypes[d].enabledPlugin)){c=e.replace(f,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(f=0;f<c.length;f++)c[f]=parseInt(c[f].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(j=new ActiveXObject(e))c=a(j)}catch(n){}return c}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(f){var d=[];if(f=f.GetVariable("$version")){f=f.split(" ")[1].split(",");d=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)]}return d});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(f){var d=[0,0,0,0],e=function(a,c,j,n){for(;a.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[j]+=n;c[j]-=n};e(f,d,0,1);e(f,d,1,1);e(f,d,2,1E4);e(f,d,2,1E3);e(f,d,2,100);e(f,d,2,10);e(f,d,2,1);e(f,d,3,1);return d});
mejs.MediaFeatures={init:function(){var f=this,d=document,e=mejs.PluginDetector.nav,a=mejs.PluginDetector.ua.toLowerCase(),c,j=["source","track","audio","video"];f.isiPad=a.match(/ipad/i)!==null;f.isiPhone=a.match(/iphone/i)!==null;f.isiOS=f.isiPhone||f.isiPad;f.isAndroid=a.match(/android/i)!==null;f.isBustedAndroid=a.match(/android 2\.[12]/)!==null;f.isIE=e.appName.toLowerCase().indexOf("microsoft")!=-1;f.isChrome=a.match(/chrome/gi)!==null;f.isFirefox=a.match(/firefox/gi)!==null;f.isWebkit=a.match(/webkit/gi)!==
null;f.isGecko=a.match(/gecko/gi)!==null&&!f.isWebkit;f.isOpera=a.match(/opera/gi)!==null;f.hasTouch="ontouchstart"in window;for(e=0;e<j.length;e++)c=document.createElement(j[e]);f.supportsMediaTag=typeof c.canPlayType!=="undefined"||f.isBustedAndroid;f.hasSemiNativeFullScreen=typeof c.webkitEnterFullscreen!=="undefined";f.hasWebkitNativeFullScreen=typeof c.webkitRequestFullScreen!=="undefined";f.hasMozNativeFullScreen=typeof c.mozRequestFullScreen!=="undefined";f.hasTrueNativeFullScreen=f.hasWebkitNativeFullScreen||
f.hasMozNativeFullScreen;f.nativeFullScreenEnabled=f.hasTrueNativeFullScreen;if(f.hasMozNativeFullScreen)f.nativeFullScreenEnabled=c.mozFullScreenEnabled;if(this.isChrome)f.hasSemiNativeFullScreen=false;if(f.hasTrueNativeFullScreen){f.fullScreenEventName=f.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";f.isFullScreen=function(){if(c.mozRequestFullScreen)return d.mozFullScreen;else if(c.webkitRequestFullScreen)return d.webkitIsFullScreen};f.requestFullScreen=function(n){if(f.hasWebkitNativeFullScreen)n.webkitRequestFullScreen();
else f.hasMozNativeFullScreen&&n.mozRequestFullScreen()};f.cancelFullScreen=function(){if(f.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else f.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}if(f.hasSemiNativeFullScreen&&a.match(/mac os x 10_5/i)){f.hasNativeFullScreen=false;f.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(f){this.currentTime=f},setMuted:function(f){this.muted=f},setVolume:function(f){this.volume=f},stop:function(){this.pause()},setSrc:function(f){for(var d=this.getElementsByTagName("source");d.length>0;)this.removeChild(d[0]);if(typeof f=="string")this.src=f;else{var e;for(d=0;d<f.length;d++){e=f[d];if(this.canPlayType(e.type))this.src=e.src}}},setVideoSize:function(f,d){this.width=f;this.height=d}};
mejs.PluginMediaElement=function(f,d,e){this.id=f;this.pluginType=d;this.src=e;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=
false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(f){var d,e,a,c=mejs.plugins[this.pluginType];for(d=0;d<c.length;d++){a=c[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version))for(e=0;e<a.types.length;e++)if(f==a.types[e])return true}return false},
positionFullscreenButton:function(f,d,e){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(f,d,e)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(f){if(typeof f=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(f));this.src=mejs.Utility.absolutizeUrl(f)}else{var d,e;for(d=0;d<f.length;d++){e=f[d];if(this.canPlayType(e.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e.src));
this.src=mejs.Utility.absolutizeUrl(f)}}}},setCurrentTime:function(f){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(f):this.pluginApi.setCurrentTime(f);this.currentTime=f}},setVolume:function(f){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(f*100):this.pluginApi.setVolume(f);this.volume=f}},setMuted:function(f){if(this.pluginApi!=null){if(this.pluginType=="youtube"){f?this.pluginApi.mute():this.pluginApi.unMute();this.muted=f;this.dispatchEvent("volumechange")}else this.pluginApi.setMuted(f);
this.muted=f}},setVideoSize:function(f,d){if(this.pluginElement.style){this.pluginElement.style.width=f+"px";this.pluginElement.style.height=d+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(f,d)},setFullscreen:function(f){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(f)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&
this.setFullscreen(false)},addEventListener:function(f,d){this.events[f]=this.events[f]||[];this.events[f].push(d)},removeEventListener:function(f,d){if(!f){this.events={};return true}var e=this.events[f];if(!e)return true;if(!d){this.events[f]=[];return true}for(i=0;i<e.length;i++)if(e[i]===d){this.events[f].splice(i,1);return true}return false},dispatchEvent:function(f){var d,e,a=this.events[f];if(a){e=Array.prototype.slice.call(arguments,1);for(d=0;d<a.length;d++)a[d].apply(null,e)}},attributes:{},
hasAttribute:function(f){return f in this.attributes},removeAttribute:function(f){delete this.attributes[f]},getAttribute:function(f){if(this.hasAttribute(f))return this.attributes[f];return""},setAttribute:function(f,d){this.attributes[f]=d},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(f,d,e){this.pluginMediaElements[f]=d;this.htmlMediaElements[f]=e},initPlugin:function(f){var d=this.pluginMediaElements[f],e=this.htmlMediaElements[f];if(d){switch(d.pluginType){case "flash":d.pluginElement=d.pluginApi=document.getElementById(f);break;case "silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS;break}d.pluginApi!=null&&d.success&&
d.success(d,e)}},fireEvent:function(f,d,e){var a,c;f=this.pluginMediaElements[f];f.ended=false;f.paused=true;d={type:d,target:f};for(a in e){f[a]=e[a];d[a]=e[a]}c=e.bufferedTime||0;d.target.buffered=d.buffered={start:function(){return 0},end:function(){return c},length:1};f.dispatchEvent(d.type,d)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},
error:function(){}};mejs.MediaElement=function(f,d){return mejs.HtmlMediaElementShim.create(f,d)};
mejs.HtmlMediaElementShim={create:function(f,d){var e=mejs.MediaElementDefaults,a=typeof f=="string"?document.getElementById(f):f;f=a.tagName.toLowerCase();var c=f==="audio"||f==="video",j=c?a.getAttribute("src"):a.getAttribute("href");f=a.getAttribute("poster");var n=a.getAttribute("autoplay"),h=a.getAttribute("preload"),q=a.getAttribute("controls"),o;for(o in d)e[o]=d[o];j=typeof j=="undefined"||j===null||j==""?null:j;f=typeof f=="undefined"||f===null?"":f;h=typeof h=="undefined"||h===null||h===
"false"?"none":h;n=!(typeof n=="undefined"||n===null||n==="false");q=!(typeof q=="undefined"||q===null||q==="false");d=this.determinePlayback(a,e,mejs.MediaFeatures.supportsMediaTag,c,j);d.url=d.url!==null?mejs.Utility.absolutizeUrl(d.url):"";if(d.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){a.src=d.url;a.addEventListener("click",function(){a.play()},false)}return this.updateNative(d,e,n,h)}else if(d.method!=="")return this.createPlugin(d,e,f,n,h,q);else{this.createErrorMessage(d,e,f);
return this}},determinePlayback:function(f,d,e,a,c){var j=[],n,h,q={method:"",url:"",htmlMediaElement:f,isVideo:f.tagName.toLowerCase()!="audio"},o,v;if(typeof d.type!="undefined"&&d.type!=="")if(typeof d.type=="string")j.push({type:d.type,url:c});else for(n=0;n<d.type.length;n++)j.push({type:d.type[n],url:c});else if(c!==null){h=this.formatType(c,f.getAttribute("type"));j.push({type:h,url:c})}else for(n=0;n<f.childNodes.length;n++){h=f.childNodes[n];if(h.nodeType==1&&h.tagName.toLowerCase()=="source"){c=
h.getAttribute("src");h=this.formatType(c,h.getAttribute("type"));j.push({type:h,url:c})}}if(!a&&j.length>0&&j[0].url!==null&&this.getTypeFromFile(j[0].url).indexOf("audio")>-1)q.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)f.canPlayType=function(x){return x.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(e&&(d.mode==="auto"||d.mode==="native")){if(!a){n=document.createElement(q.isVideo?"video":"audio");f.parentNode.insertBefore(n,f);f.style.display="none";q.htmlMediaElement=f=n}for(n=0;n<
j.length;n++)if(f.canPlayType(j[n].type).replace(/no/,"")!==""||f.canPlayType(j[n].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){q.method="native";q.url=j[n].url;break}if(q.method==="native"){if(q.url!==null)f.src=q.url;return q}}if(d.mode==="auto"||d.mode==="shim")for(n=0;n<j.length;n++){h=j[n].type;for(f=0;f<d.plugins.length;f++){c=d.plugins[f];o=mejs.plugins[c];for(e=0;e<o.length;e++){v=o[e];if(v.version==null||mejs.PluginDetector.hasPluginVersion(c,v.version))for(a=0;a<v.types.length;a++)if(h==
v.types[a]){q.method=c;q.url=j[n].url;return q}}}}if(q.method===""&&j.length>0)q.url=j[0].url;return q},formatType:function(f,d){return f&&!d?this.getTypeFromFile(f):d&&~d.indexOf(";")?d.substr(0,d.indexOf(";")):d},getTypeFromFile:function(f){f=f.substring(f.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(f)?"video":"audio")+"/"+f},createErrorMessage:function(f,d,e){var a=f.htmlMediaElement,c=document.createElement("div");c.className="me-cannotplay";try{c.style.width=a.width+
"px";c.style.height=a.height+"px"}catch(j){}c.innerHTML=e!==""?'<a href="'+f.url+'"><img src="'+e+'" width="100%" height="100%" /></a>':'<a href="'+f.url+'"><span>Download File</span></a>';a.parentNode.insertBefore(c,a);a.style.display="none";d.error(a)},createPlugin:function(f,d,e,a,c,j){e=f.htmlMediaElement;var n=1,h=1,q="me_"+f.method+"_"+mejs.meIndex++,o=new mejs.PluginMediaElement(q,f.method,f.url),v=document.createElement("div"),x;o.tagName=e.tagName;for(x=0;x<e.attributes.length;x++){var B=
e.attributes[x];B.specified==true&&o.setAttribute(B.name,B.value)}for(x=e.parentNode;x!==null&&x.tagName.toLowerCase()!="body";){if(x.parentNode.tagName.toLowerCase()=="p"){x.parentNode.parentNode.insertBefore(x,x.parentNode);break}x=x.parentNode}if(f.isVideo){n=d.videoWidth>0?d.videoWidth:e.getAttribute("width")!==null?e.getAttribute("width"):d.defaultVideoWidth;h=d.videoHeight>0?d.videoHeight:e.getAttribute("height")!==null?e.getAttribute("height"):d.defaultVideoHeight;n=mejs.Utility.encodeUrl(n);
h=mejs.Utility.encodeUrl(h)}else if(d.enablePluginDebug){n=320;h=240}o.success=d.success;mejs.MediaPluginBridge.registerPluginElement(q,o,e);v.className="me-plugin";v.id=q+"_container";f.isVideo?e.parentNode.insertBefore(v,e):document.body.insertBefore(v,document.body.childNodes[0]);a=["id="+q,"isvideo="+(f.isVideo?"true":"false"),"autoplay="+(a?"true":"false"),"preload="+c,"width="+n,"startvolume="+d.startVolume,"timerrate="+d.timerRate,"height="+h];if(f.url!==null)f.method=="flash"?a.push("file="+
mejs.Utility.encodeUrl(f.url)):a.push("file="+f.url);d.enablePluginDebug&&a.push("debug=true");d.enablePluginSmoothing&&a.push("smoothing=true");j&&a.push("controls=true");if(d.pluginVars)a=a.concat(d.pluginVars);switch(f.method){case "silverlight":v.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+q+'" name="'+q+'" width="'+n+'" height="'+h+'"><param name="initParams" value="'+a.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
d.pluginPath+d.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){f=document.createElement("div");v.appendChild(f);f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+q+'" width="'+n+'" height="'+h+'"><param name="movie" value="'+d.pluginPath+d.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+a.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else v.innerHTML=
'<embed id="'+q+'" name="'+q+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+d.pluginPath+d.flashName+'" flashvars="'+a.join("&")+'" width="'+n+'" height="'+h+'"></embed>';break;case "youtube":d=f.url.substr(f.url.lastIndexOf("=")+1);youtubeSettings={container:v,containerId:v.id,pluginMediaElement:o,pluginId:q,videoId:d,
height:h,width:n};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case "vimeo":console.log("vimeoid");o.vimeoid=f.url.substr(f.url.lastIndexOf("/")+1);v.innerHTML='<object width="'+n+'" height="'+h+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+
o.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+o.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+n+'" height="'+h+'"></embed></object>';break}e.style.display=
"none";return o},updateNative:function(f,d){f=f.htmlMediaElement;var e;for(e in mejs.HtmlMediaElement)f[e]=mejs.HtmlMediaElement[e];d.success(f,f);return f}};
mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var f=document.createElement("script");f.src="http://www.youtube.com/player_api";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(f,d);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(f){if(this.isLoaded)this.createIframe(f);else{this.loadIframeApi();this.iframeQueue.push(f)}},createIframe:function(f){var d=f.pluginMediaElement,e=new YT.Player(f.containerId,
{height:f.height,width:f.width,videoId:f.videoId,playerVars:{controls:0},events:{onReady:function(){f.pluginMediaElement.pluginApi=e;mejs.MediaPluginBridge.initPlugin(f.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(e,d,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,e,d)}}})},createEvent:function(f,d,e){e={type:e,target:d};if(f&&f.getDuration){d.currentTime=e.currentTime=f.getCurrentTime();d.duration=e.duration=f.getDuration();e.paused=d.paused;
e.ended=d.ended;e.muted=f.isMuted();e.volume=f.getVolume()/100;e.bytesTotal=f.getVideoBytesTotal();e.bufferedBytes=f.getVideoBytesLoaded();var a=e.bufferedBytes/e.bytesTotal*e.duration;e.target.buffered=e.buffered={start:function(){return 0},end:function(){return a},length:1}}d.dispatchEvent(e.type,e)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(f){this.flashPlayers[f.pluginId]=
f;var d,e="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+f.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){d=document.createElement("div");f.container.appendChild(d);d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+f.pluginId+'" width="'+f.width+'" height="'+f.height+'"><param name="movie" value="'+e+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else f.container.innerHTML=
'<object type="application/x-shockwave-flash" id="'+f.pluginId+'" data="'+e+'" width="'+f.width+'" height="'+f.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(f){var d=this.flashPlayers[f],e=document.getElementById(f),a=d.pluginMediaElement;a.pluginApi=a.pluginElement=e;mejs.MediaPluginBridge.initPlugin(f);e.cueVideoById(d.videoId);f=d.containerId+"_callback";window[f]=function(c){mejs.YouTubeApi.handleStateChange(c,
e,a)};e.addEventListener("onStateChange",f);setInterval(function(){mejs.YouTubeApi.createEvent(e,a,"timeupdate")},250)},handleStateChange:function(f,d,e){switch(f){case -1:e.paused=true;e.ended=true;mejs.YouTubeApi.createEvent(d,e,"loadedmetadata");break;case 0:e.paused=false;e.ended=true;mejs.YouTubeApi.createEvent(d,e,"ended");break;case 1:e.paused=false;e.ended=false;mejs.YouTubeApi.createEvent(d,e,"play");mejs.YouTubeApi.createEvent(d,e,"playing");break;case 2:e.paused=true;e.ended=false;mejs.YouTubeApi.createEvent(d,
e,"pause");break;case 3:mejs.YouTubeApi.createEvent(d,e,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(f){mejs.YouTubeApi.flashReady(f)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(f){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks",
"volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(d,e){e.paused||e.ended?e.play():e.pause()}},{keys:[38],action:function(d,e){d=Math.min(e.volume+0.1,1);e.setVolume(d)}},{keys:[40],action:function(d,e){d=Math.max(e.volume-0.1,0);e.setVolume(d)}},{keys:[37,227],action:function(d,e){if(!isNaN(e.duration)&&e.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}d=Math.max(e.currentTime-e.duration*0.05,0);e.setCurrentTime(d)}}},
{keys:[39,228],action:function(d,e){if(!isNaN(e.duration)&&e.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}d=Math.min(e.currentTime+e.duration*0.05,e.duration);e.setCurrentTime(d)}}},{keys:[70],action:function(d){if(typeof d.enterFullScreen!="undefined")d.isFullScreen?d.exitFullScreen():d.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(d,e){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(d,e);var a=this;a.$media=
a.$node=f(d);a.node=a.media=a.$media[0];if(typeof a.node.player!="undefined")return a.node.player;else a.node.player=a;if(typeof e=="undefined")e=a.$node.data("mejsoptions");a.options=f.extend({},mejs.MepDefaults,e);mejs.players.push(a);a.init();return a};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var d=this,e=mejs.MediaFeatures,a=f.extend(true,{},d.options,{success:function(j,n){d.meReady(j,n)},error:function(j){d.handleError(j)}}),c=d.media.tagName.toLowerCase();
d.isDynamic=c!=="audio"&&c!=="video";d.isVideo=d.isDynamic?d.options.isVideo:c!=="audio"&&d.options.isVideo;if(e.isiPad&&d.options.iPadUseNativeControls||e.isiPhone&&d.options.iPhoneUseNativeControls){d.$media.attr("controls","controls");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else if(!(e.isAndroid&&d.AndroidUseNativeControls)){d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=f('<div id="'+d.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);
d.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(d.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){e=d.$media.clone();d.container.find(".mejs-mediaelement").append(e);d.$media.remove();d.$node=d.$media=e;d.node=d.media=e[0]}else d.container.find(".mejs-mediaelement").append(d.$media);d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");e=c.substring(0,1).toUpperCase()+c.substring(1);
d.width=d.options[c+"Width"]>0||d.options[c+"Width"].toString().indexOf("%")>-1?d.options[c+"Width"]:d.media.style.width!==""&&d.media.style.width!==null?d.media.style.width:d.media.getAttribute("width")!==null?d.$media.attr("width"):d.options["default"+e+"Width"];d.height=d.options[c+"Height"]>0||d.options[c+"Height"].toString().indexOf("%")>-1?d.options[c+"Height"]:d.media.style.height!==""&&d.media.style.height!==null?d.media.style.height:d.$media[0].getAttribute("height")!==null?d.$media.attr("height"):
d.options["default"+e+"Height"];d.setPlayerSize(d.width,d.height);a.pluginWidth=d.height;a.pluginHeight=d.width}mejs.MediaElement(d.$media[0],a)},showControls:function(d){var e=this;d=typeof d=="undefined"||d;if(!e.controlsAreVisible){if(d){e.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){e.controlsAreVisible=true});e.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){e.controlsAreVisible=true})}else{e.controls.css("visibility",
"visible").css("display","block");e.container.find(".mejs-control").css("visibility","visible").css("display","block");e.controlsAreVisible=true}e.setControlsSize()}},hideControls:function(d){var e=this;d=typeof d=="undefined"||d;if(e.controlsAreVisible)if(d){e.controls.stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display","block");e.controlsAreVisible=false});e.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display",
"block")})}else{e.controls.css("visibility","hidden").css("display","block");e.container.find(".mejs-control").css("visibility","hidden").css("display","block");e.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(d){var e=this;d=typeof d!="undefined"?d:1500;e.killControlsTimer("start");e.controlsTimer=setTimeout(function(){e.hideControls();e.killControlsTimer("hide")},d)},killControlsTimer:function(){var d=this;if(d.controlsTimer!==null){clearTimeout(d.controlsTimer);delete d.controlsTimer;
d.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var d=this;d.killControlsTimer();d.hideControls(false);this.controlsEnabled=false},enableControls:function(){var d=this;d.showControls(false);d.controlsEnabled=true},meReady:function(d,e){var a=this,c=mejs.MediaFeatures,j=e.getAttribute("autoplay");j=!(typeof j=="undefined"||j===null||j==="false");var n;if(!a.created){a.created=true;a.media=d;a.domNode=e;if(!(c.isAndroid&&a.options.AndroidUseNativeControls)&&!(c.isiPad&&a.options.iPadUseNativeControls)&&
!(c.isiPhone&&a.options.iPhoneUseNativeControls)){a.buildposter(a,a.controls,a.layers,a.media);a.buildkeyboard(a,a.controls,a.layers,a.media);a.buildoverlays(a,a.controls,a.layers,a.media);a.findTracks();for(n in a.options.features){e=a.options.features[n];if(a["build"+e])try{a["build"+e](a,a.controls,a.layers,a.media)}catch(h){}}a.container.trigger("controlsready");a.setPlayerSize(a.width,a.height);a.setControlsSize();if(a.isVideo){if(mejs.MediaFeatures.hasTouch)a.$media.bind("touchstart",function(){if(a.controlsAreVisible)a.hideControls(false);
else a.controlsEnabled&&a.showControls(false)});else{(a.media.pluginType=="native"?a.$media:f(a.media.pluginElement)).click(function(){d.paused?d.play():d.pause()});a.container.bind("mouseenter mouseover",function(){if(a.controlsEnabled)if(!a.options.alwaysShowControls){a.killControlsTimer("enter");a.showControls();a.startControlsTimer(2500)}}).bind("mousemove",function(){if(a.controlsEnabled){a.controlsAreVisible||a.showControls();a.options.alwaysShowControls||a.startControlsTimer(2500)}}).bind("mouseleave",
function(){a.controlsEnabled&&!a.media.paused&&!a.options.alwaysShowControls&&a.startControlsTimer(1E3)})}j&&!a.options.alwaysShowControls&&a.hideControls();a.options.enableAutosize&&a.media.addEventListener("loadedmetadata",function(q){if(a.options.videoHeight<=0&&a.domNode.getAttribute("height")===null&&!isNaN(q.target.videoHeight)){a.setPlayerSize(q.target.videoWidth,q.target.videoHeight);a.setControlsSize();a.media.setVideoSize(q.target.videoWidth,q.target.videoHeight)}},false)}d.addEventListener("play",
function(){for(var q=0,o=mejs.players.length;q<o;q++){var v=mejs.players[q];v.id!=a.id&&a.options.pauseOtherPlayers&&!v.paused&&!v.ended&&v.pause();v.hasFocus=false}a.hasFocus=true},false);a.media.addEventListener("ended",function(){try{a.media.setCurrentTime(0)}catch(q){}a.media.pause();a.setProgressRail&&a.setProgressRail();a.setCurrentRail&&a.setCurrentRail();if(a.options.loop)a.media.play();else!a.options.alwaysShowControls&&a.controlsEnabled&&a.showControls()},false);a.media.addEventListener("loadedmetadata",
function(){a.updateDuration&&a.updateDuration();a.updateCurrent&&a.updateCurrent();if(!a.isFullScreen){a.setPlayerSize(a.width,a.height);a.setControlsSize()}},false);setTimeout(function(){a.setPlayerSize(a.width,a.height);a.setControlsSize()},50);f(window).resize(function(){a.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||a.setPlayerSize(a.width,a.height);a.setControlsSize()});a.media.pluginType=="youtube"&&a.container.find(".mejs-overlay-play").hide()}if(j&&
d.pluginType=="native"){d.load();d.play()}if(a.options.success)typeof a.options.success=="string"?window[a.options.success](a.media,a.domNode,a):a.options.success(a.media,a.domNode,a)}},handleError:function(d){var e=this;e.controls.hide();e.options.error&&e.options.error(d)},setPlayerSize:function(d,e){var a=this;if(typeof d!="undefined")a.width=d;if(typeof e!="undefined")a.height=e;if(a.height.toString().indexOf("%")>0){e=a.media.videoWidth&&a.media.videoWidth>0?a.media.videoWidth:a.options.defaultVideoWidth;
var c=a.media.videoHeight&&a.media.videoHeight>0?a.media.videoHeight:a.options.defaultVideoHeight;d=a.container.parent().width();e=parseInt(d*c/e,10);if(a.container.parent()[0].tagName.toLowerCase()==="body"){d=f(window).width();e=f(window).height()}a.container.width(d).height(e);a.$media.width("100%").height("100%");a.container.find("object, embed, iframe").width("100%").height("100%");a.media.setVideoSize&&a.media.setVideoSize(d,e);a.layers.children(".mejs-layer").width("100%").height("100%")}else{a.container.width(a.width).height(a.height);
a.layers.children(".mejs-layer").width(a.width).height(a.height)}},setControlsSize:function(){var d=this,e=0,a=0,c=d.controls.find(".mejs-time-rail"),j=d.controls.find(".mejs-time-total");d.controls.find(".mejs-time-current");d.controls.find(".mejs-time-loaded");var n=c.siblings();if(d.options&&!d.options.autosizeProgress)a=parseInt(c.css("width"));if(a===0||!a){n.each(function(){if(f(this).css("position")!="absolute")e+=f(this).outerWidth(true)});a=d.controls.width()-e-(c.outerWidth(true)-c.outerWidth(false))}c.width(a);
j.width(a-(j.outerWidth(true)-j.width()));d.setProgressRail&&d.setProgressRail();d.setCurrentRail&&d.setCurrentRail()},buildposter:function(d,e,a,c){e=this;var j=f('<div class="mejs-poster mejs-layer"></div>').appendTo(a);a=d.$media.attr("poster");if(d.options.poster!=="")a=d.options.poster;a!==""&&a!=null?e.setPoster(a):j.hide();c.addEventListener("play",function(){j.hide()},false)},setPoster:function(d){var e=this.container.find(".mejs-poster"),a=e.find("img");if(a.length==0)a=f('<img width="100%" height="100%" />').appendTo(e);
a.attr("src",d)},buildoverlays:function(d,e,a,c){if(d.isVideo){var j=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(a),n=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(a),h=f('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(a).click(function(){c.paused?c.play():c.pause()});c.addEventListener("play",function(){h.hide();
j.hide();n.hide()},false);c.addEventListener("playing",function(){h.hide();j.hide();n.hide()},false);c.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||h.show()},false);c.addEventListener("waiting",function(){j.show()},false);c.addEventListener("loadeddata",function(){j.show()},false);c.addEventListener("canplay",function(){j.hide()},false);c.addEventListener("error",function(){j.hide();n.show();n.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(d,
e,a,c){f(document).keydown(function(j){if(d.hasFocus&&d.options.enableKeyboard)for(var n=0,h=d.options.keyActions.length;n<h;n++)for(var q=d.options.keyActions[n],o=0,v=q.keys.length;o<v;o++)if(j.keyCode==q.keys[o]){j.preventDefault();q.action(d,c);return false}return true});f(document).click(function(j){if(f(j.target).closest(".mejs-container").length==0)d.hasFocus=false})},findTracks:function(){var d=this,e=d.$media.find("track");d.tracks=[];e.each(function(a,c){c=f(c);d.tracks.push({srclang:c.attr("srclang").toLowerCase(),
src:c.attr("src"),kind:c.attr("kind"),label:c.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(d){this.container[0].className="mejs-container "+d;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(d){this.media.setMuted(d)},setCurrentTime:function(d){this.media.setCurrentTime(d)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(d){this.media.setVolume(d)},
getVolume:function(){return this.media.volume},setSrc:function(d){this.media.setSrc(d)},remove:function(){var d=this;if(d.media.pluginType=="flash")d.media.remove();else d.media.pluginType=="native"&&d.media.prop("controls",true);d.isDynamic||d.$node.insertBefore(d.container);d.container.remove()}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(d){return this.each(function(){new mejs.MediaElementPlayer(this,d)})};f(document).ready(function(){f(".mejs-player").mediaelementplayer()});
window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});f.extend(MediaElementPlayer.prototype,{buildplaypause:function(d,e,a,c){d=this;var j=f('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+d.id+'" title="'+d.options.playpauseText+'"></button></div>').appendTo(e).click(function(n){n.preventDefault();c.paused?c.play():c.pause();return false});c.addEventListener("play",function(){j.removeClass("mejs-play").addClass("mejs-pause")},false);
c.addEventListener("playing",function(){j.removeClass("mejs-play").addClass("mejs-pause")},false);c.addEventListener("pause",function(){j.removeClass("mejs-pause").addClass("mejs-play")},false);c.addEventListener("paused",function(){j.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{stopText:"Stop"});f.extend(MediaElementPlayer.prototype,{buildstop:function(d,e,a,c){d=this;f('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+d.id+'" title="'+d.options.stopText+'"></button></div>').appendTo(e).click(function(){c.paused||c.pause();if(c.currentTime>0){c.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));
e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));a.find(".mejs-poster").show()}})}})})(mejs.$);
(function(f){f.extend(MediaElementPlayer.prototype,{buildprogress:function(d,e,a,c){f('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(e);a=this;var j=e.find(".mejs-time-total"),n=e.find(".mejs-time-loaded"),h=e.find(".mejs-time-current"),
q=e.find(".mejs-time-handle"),o=e.find(".mejs-time-float"),v=e.find(".mejs-time-float-current"),x=function(L){L=L.pageX;var D=j.offset(),G=j.outerWidth(),A=0;A=0;var C=L-D.left;if(L>D.left&&L<=G+D.left&&c.duration){A=(L-D.left)/G;A=A<=0.02?0:A*c.duration;B&&c.setCurrentTime(A);if(!mejs.MediaFeatures.hasTouch){o.css("left",C);v.html(mejs.Utility.secondsToTimeCode(A));o.show()}}},B=false,J=false;j.bind("mousedown",function(L){if(L.which===1){B=true;x(L);return false}});e.find(".mejs-time-total").bind("mouseenter",
function(){J=true;mejs.MediaFeatures.hasTouch||o.show()}).bind("mouseleave",function(){J=false;o.hide()});f(document).bind("mouseup",function(){B=false;o.hide()}).bind("mousemove",function(L){if(B||J)x(L)});c.addEventListener("progress",function(L){d.setProgressRail(L);d.setCurrentRail(L)},false);c.addEventListener("timeupdate",function(L){d.setProgressRail(L);d.setCurrentRail(L)},false);a.loaded=n;a.total=j;a.current=h;a.handle=q},setProgressRail:function(d){var e=this,a=d!=undefined?d.target:e.media,
c=null;if(a&&a.buffered&&a.buffered.length>0&&a.buffered.end&&a.duration)c=a.buffered.end(0)/a.duration;else if(a&&a.bytesTotal!=undefined&&a.bytesTotal>0&&a.bufferedBytes!=undefined)c=a.bufferedBytes/a.bytesTotal;else if(d&&d.lengthComputable&&d.total!=0)c=d.loaded/d.total;if(c!==null){c=Math.min(1,Math.max(0,c));e.loaded&&e.total&&e.loaded.width(e.total.width()*c)}},setCurrentRail:function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration)if(d.total&&d.handle){var e=d.total.width()*
d.media.currentTime/d.media.duration,a=e-d.handle.outerWidth(true)/2;d.current.width(e);d.handle.css("left",a)}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});f.extend(MediaElementPlayer.prototype,{buildcurrent:function(d,e,a,c){a=this;f('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(e);a.currenttime=a.controls.find(".mejs-currenttime");c.addEventListener("timeupdate",function(){d.updateCurrent()},false)},buildduration:function(d,
e,a,c){a=this;if(e.children().last().find(".mejs-currenttime").length>0)f(a.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(e.find(".mejs-time"));else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");
f('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(e)}a.durationD=a.controls.find(".mejs-duration");c.addEventListener("timeupdate",function(){d.updateDuration()},false)},
updateCurrent:function(){var d=this;if(d.currenttime)d.currenttime.html(mejs.Utility.secondsToTimeCode(d.media.currentTime,d.options.alwaysShowHours||d.media.duration>3600,d.options.showTimecodeFrameCount,d.options.framesPerSecond||25))},updateDuration:function(){var d=this;if(d.media.duration&&d.durationD)d.durationD.html(mejs.Utility.secondsToTimeCode(d.media.duration,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond||25))}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});f.extend(MediaElementPlayer.prototype,{buildvolume:function(d,e,a,c){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){a=this;var j=a.isVideo?a.options.videoVolume:a.options.audioVolume,n=j=="horizontal"?f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+
'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(e):f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(e),
h=a.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),q=a.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),o=a.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),v=a.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),x=function(D){if(h.is(":visible")){D=Math.max(0,D);D=Math.min(D,1);D==0?n.removeClass("mejs-mute").addClass("mejs-unmute"):n.removeClass("mejs-unmute").addClass("mejs-mute");if(j=="vertical"){var G=q.height(),
A=q.position();D=G-G*D;v.css("top",A.top+D-v.height()/2);o.height(G-D);o.css("top",A.top+D)}else{G=q.width();A=q.position();D=G*D;v.css("left",A.left+D-v.width()/2);o.width(D)}}else{h.show();x(D);h.hide()}},B=function(D){var G=null,A=q.offset();if(j=="vertical"){G=q.height();parseInt(q.css("top").replace(/px/,""),10);G=(G-(D.pageY-A.top))/G;if(A.top==0||A.left==0)return}else{G=q.width();G=(D.pageX-A.left)/G}G=Math.max(0,G);G=Math.min(G,1);x(G);G==0?c.setMuted(true):c.setMuted(false);c.setVolume(G)},
J=false,L=false;n.hover(function(){h.show();L=true},function(){L=false;!J&&j=="vertical"&&h.hide()});h.bind("mouseover",function(){L=true}).bind("mousedown",function(D){B(D);J=true;return false});f(document).bind("mouseup",function(){J=false;!L&&j=="vertical"&&h.hide()}).bind("mousemove",function(D){J&&B(D)});n.find("button").click(function(){c.setMuted(!c.muted)});c.addEventListener("volumechange",function(){if(!J)if(c.muted){x(0);n.removeClass("mejs-mute").addClass("mejs-unmute")}else{x(c.volume);
n.removeClass("mejs-unmute").addClass("mejs-mute")}},false);if(a.container.is(":visible")){x(d.options.startVolume);c.pluginType==="native"&&c.setVolume(d.options.startVolume)}}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});f.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(d,e,a,c){if(d.isVideo){d.isInIframe=window.location!=window.parent.location;mejs.MediaFeatures.hasTrueNativeFullScreen&&d.container.bind(mejs.MediaFeatures.fullScreenEventName,function(){if(mejs.MediaFeatures.isFullScreen()){d.isNativeFullScreen=
true;d.setControlsSize()}else{d.isNativeFullScreen=false;d.exitFullScreen()}});var j=this,n=f('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+j.id+'" title="'+j.options.fullscreenText+'"></button></div>').appendTo(e);if(j.media.pluginType==="native"||!j.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)n.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||d.isFullScreen?d.exitFullScreen():d.enterFullScreen()});
else{var h=null;if(document.documentElement.style.pointerEvents===""&&!mejs.MediaFeatures.isOpera){var q=false,o=function(){if(q){v.hide();x.hide();B.hide();n.css("pointer-events","");j.controls.css("pointer-events","");q=false}},v=f('<div class="mejs-fullscreen-hover" />').appendTo(j.container).mouseover(o),x=f('<div class="mejs-fullscreen-hover"  />').appendTo(j.container).mouseover(o),B=f('<div class="mejs-fullscreen-hover"  />').appendTo(j.container).mouseover(o),J=function(){var L={position:"absolute",
top:0,left:0};v.css(L);x.css(L);B.css(L);v.width(j.container.width()).height(j.container.height()-j.controls.height());L=n.offset().left-j.container.offset().left;fullScreenBtnWidth=n.outerWidth(true);x.width(L).height(j.controls.height()).css({top:j.container.height()-j.controls.height()});B.width(j.container.width()-L-fullScreenBtnWidth).height(j.controls.height()).css({top:j.container.height()-j.controls.height(),left:L+fullScreenBtnWidth})};f(document).resize(function(){J()});n.mouseover(function(){if(!j.isFullScreen){var L=
n.offset(),D=d.container.offset();c.positionFullscreenButton(L.left-D.left,L.top-D.top,false);n.css("pointer-events","none");j.controls.css("pointer-events","none");v.show();B.show();x.show();J();q=true}});c.addEventListener("fullscreenchange",function(){o()})}else n.mouseover(function(){if(h!==null){clearTimeout(h);delete h}var L=n.offset(),D=d.container.offset();c.positionFullscreenButton(L.left-D.left,L.top-D.top,true)}).mouseout(function(){if(h!==null){clearTimeout(h);delete h}h=setTimeout(function(){c.hideFullscreenButton()},
1500)})}d.fullscreenBtn=n;f(document).bind("keydown",function(L){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||j.isFullScreen)&&L.keyCode==27)d.exitFullScreen()})}},enterFullScreen:function(){var d=this;if(!(d.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||d.options.usePluginFullScreen))){docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=d.container.height();normalWidth=d.container.width();
if(d.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(d.container[0]);d.isInIframe&&setTimeout(function a(){if(d.isNativeFullScreen)f(window).width()!==screen.width?d.exitFullScreen():setTimeout(a,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){d.media.webkitEnterFullscreen();return}if(d.isInIframe){var e=d.options.newWindowCallback(this);if(e!=="")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!d.isNativeFullScreen){d.pause();
window.open(e,d.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250);else{d.pause();window.open(e,d.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}d.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){d.container.css({width:"100%",height:"100%"});d.setControlsSize()},500);if(d.pluginType===
"native")d.$media.width("100%").height("100%");else{d.container.find("object, embed, iframe").width("100%").height("100%");d.media.setVideoSize(f(window).width(),f(window).height())}d.layers.children("div").width("100%").height("100%");d.fullscreenBtn&&d.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");d.setControlsSize();d.isFullScreen=true}},exitFullScreen:function(){var d=this;if(d.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)d.media.setFullscreen(false);
else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||d.isFullScreen))mejs.MediaFeatures.cancelFullScreen();document.documentElement.style.overflow=docStyleOverflow;d.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(d.pluginType==="native")d.$media.width(normalWidth).height(normalHeight);else{d.container.find("object embed").width(normalWidth).height(normalHeight);d.media.setVideoSize(normalWidth,normalHeight)}d.layers.children("div").width(normalWidth).height(normalHeight);
d.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");d.setControlsSize();d.isFullScreen=false}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});f.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(d,e,a,c){if(d.isVideo)if(d.tracks.length!=0){var j=this,n;d.chapters=f('<div class="mejs-chapters mejs-layer"></div>').prependTo(a).hide();d.captions=f('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(a).hide();d.captionsText=d.captions.find(".mejs-captions-text");
d.captionsButton=f('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+j.id+'" title="'+j.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+d.id+'_captions" id="'+d.id+'_captions_none" value="none" checked="checked" /><label for="'+d.id+'_captions_none">None</label></li></ul></div></div>').appendTo(e).hover(function(){f(this).find(".mejs-captions-selector").css("visibility","visible")},function(){f(this).find(".mejs-captions-selector").css("visibility",
"hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")d.selectedTrack=null;else for(n=0;n<d.tracks.length;n++)if(d.tracks[n].srclang==lang){d.selectedTrack=d.tracks[n];d.captions.attr("lang",d.selectedTrack.srclang);d.displayCaptions();break}});d.options.alwaysShowControls?d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):d.container.bind("mouseenter",function(){d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",
function(){c.paused||d.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});d.trackToLoad=-1;d.selectedTrack=null;d.isLoadingTrack=false;for(n=0;n<d.tracks.length;n++)d.tracks[n].kind=="subtitles"&&d.addTrackButton(d.tracks[n].srclang,d.tracks[n].label);d.loadNextTrack();c.addEventListener("timeupdate",function(){d.displayCaptions()},false);c.addEventListener("loadedmetadata",function(){d.displayChapters()},false);d.container.hover(function(){if(d.hasChapters){d.chapters.css("visibility",
"visible");d.chapters.fadeIn(200)}},function(){d.hasChapters&&!c.paused&&d.chapters.fadeOut(200,function(){f(this).css("visibility","hidden");f(this).css("display","block")})});d.node.getAttribute("autoplay")!==null&&d.chapters.css("visibility","hidden")}},loadNextTrack:function(){var d=this;d.trackToLoad++;if(d.trackToLoad<d.tracks.length){d.isLoadingTrack=true;d.loadTrack(d.trackToLoad)}else d.isLoadingTrack=false},loadTrack:function(d){var e=this,a=e.tracks[d],c=function(){a.isLoaded=true;e.enableTrackButton(a.srclang,
a.label);e.loadNextTrack()};a.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,a.srclang,e.options.googleApiKey,function(j){a.entries=j;c()}):f.ajax({url:a.src,success:function(j){a.entries=mejs.TrackFormatParser.parse(j);c();a.kind=="chapters"&&e.media.duration>0&&e.drawChapters(a)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(d,e){var a=this;if(e==="")e=mejs.language.codes[d]||d;a.captionsButton.find("input[value="+d+"]").prop("disabled",
false).siblings("label").html(e);a.options.startLanguage==d&&f("#"+a.id+"_captions_"+d).click();a.adjustLanguageBox()},addTrackButton:function(d,e){var a=this;if(e==="")e=mejs.language.codes[d]||d;a.captionsButton.find("ul").append(f('<li><input type="radio" name="'+a.id+'_captions" id="'+a.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+a.id+"_captions_"+d+'">'+e+" (loading)</label></li>"));a.adjustLanguageBox();a.container.find(".mejs-captions-translations option[value="+
d+"]").remove()},adjustLanguageBox:function(){var d=this;d.captionsButton.find(".mejs-captions-selector").height(d.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+d.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d=this,e,a=d.selectedTrack;if(a!=null&&a.isLoaded)for(e=0;e<a.entries.times.length;e++)if(d.media.currentTime>=a.entries.times[e].start&&d.media.currentTime<=a.entries.times[e].stop){d.captionsText.html(a.entries.text[e]);
d.captions.show();return}d.captions.hide()}},displayChapters:function(){var d=this,e;for(e=0;e<d.tracks.length;e++)if(d.tracks[e].kind=="chapters"&&d.tracks[e].isLoaded){d.drawChapters(d.tracks[e]);d.hasChapters=true;break}},drawChapters:function(d){var e=this,a,c,j=c=0;e.chapters.empty();for(a=0;a<d.entries.times.length;a++){c=d.entries.times[a].stop-d.entries.times[a].start;c=Math.floor(c/e.media.duration*100);if(c+j>100||a==d.entries.times.length-1&&c+j<100)c=100-j;e.chapters.append(f('<div class="mejs-chapter" rel="'+
d.entries.times[a].start+'" style="left: '+j.toString()+"%;width: "+c.toString()+'%;"><div class="mejs-chapter-block'+(a==d.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+d.entries.text[a]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(d.entries.times[a].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(d.entries.times[a].stop)+"</span></div></div>"));j+=c}e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(f(this).attr("rel")));
e.media.paused&&e.media.play()});e.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,
split2:function(d,e){return d.split(e)},parse:function(d){var e=0;d=this.split2(d,/\r?\n/);for(var a={text:[],times:[]},c,j;e<d.length;e++)if(this.pattern_identifier.exec(d[e])){e++;if((c=this.pattern_timecode.exec(d[e]))&&e<d.length){e++;j=d[e];for(e++;d[e]!==""&&e<d.length;){j=j+"\n"+d[e];e++}a.text.push(j);a.times.push({start:mejs.Utility.timeCodeToSeconds(c[1]),stop:mejs.Utility.timeCodeToSeconds(c[3]),settings:c[5]})}}return a}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=
function(d,e){var a=[],c="",j;for(j=0;j<d.length;j++){c+=d.substring(j,j+1);if(e.test(c)){a.push(c.replace(e,""));c=""}}a.push(c);return a}})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(d){if(typeof d.enterFullScreen=="undefined")return null;return d.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(d){d.isFullScreen?d.exitFullScreen():d.enterFullScreen()}},{render:function(d){return d.media.muted?"Unmute":"Mute"},click:function(d){d.media.muted?d.setMuted(false):d.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(d){window.location.href=d.media.currentSrc}}]});
f.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(d){d.contextMenu=f('<div class="mejs-contextmenu"></div>').appendTo(f("body")).hide();d.container.bind("contextmenu",function(e){if(d.isContextMenuEnabled){e.preventDefault();d.renderContextMenu(e.clientX-1,e.clientY-1);return false}});d.container.bind("click",function(){d.contextMenu.hide()});d.contextMenu.bind("mouseleave",function(){d.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=
true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var d=this;d.killContextMenuTimer();d.contextMenuTimer=setTimeout(function(){d.hideContextMenu();d.killContextMenuTimer()},750)},killContextMenuTimer:function(){var d=this.contextMenuTimer;if(d!=null){clearTimeout(d);delete d}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(d,e){for(var a=this,c="",j=a.options.contextMenuItems,n=0,h=j.length;n<
h;n++)if(j[n].isSeparator)c+='<div class="mejs-contextmenu-separator"></div>';else{var q=j[n].render(a);if(q!=null)c+='<div class="mejs-contextmenu-item" data-itemindex="'+n+'" id="element-'+Math.random()*1E6+'">'+q+"</div>"}a.contextMenu.empty().append(f(c)).css({top:e,left:d}).show();a.contextMenu.find(".mejs-contextmenu-item").each(function(){var o=f(this),v=parseInt(o.data("itemindex"),10),x=a.options.contextMenuItems[v];typeof x.show!="undefined"&&x.show(o,a);o.click(function(){typeof x.click!=
"undefined"&&x.click(a);a.contextMenu.hide()})});setTimeout(function(){a.killControlsTimer("rev3")},100)}})})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(f){var d={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},e={init:function(a){a&&f.extend(d,a)},showToast:function(a){var c={};f.extend(c,d,a);var j,n;a=!f(".toast-container").length?f("<div></div>").addClass("toast-container").addClass("toast-position-"+c.position).appendTo("body"):f(".toast-container");j=f("<div></div>").addClass("toast-item-wrapper");n=f("<div></div>").hide().addClass("toast-item toast-type-"+
c.type).appendTo(a).html("<p>"+c.text+"</p>").animate(c.inEffect,c.inEffectDuration).wrap(j);f("<div></div>").addClass("toast-item-close").prependTo(n).html(c.closeText).click(function(){f().toastmessage("removeToast",n,c)});f("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+c.type).prependTo(n);navigator.userAgent.match(/MSIE 6/i)&&a.css({top:document.documentElement.scrollTop});c.sticky||setTimeout(function(){f().toastmessage("removeToast",n,c)},c.stayTime);return n},showNoticeToast:function(a){a=
{text:a,type:"notice"};return f().toastmessage("showToast",a)},showSuccessToast:function(a){a={text:a,type:"success"};return f().toastmessage("showToast",a)},showErrorToast:function(a){a={text:a,type:"error"};return f().toastmessage("showToast",a)},showWarningToast:function(a){a={text:a,type:"warning"};return f().toastmessage("showToast",a)},removeToast:function(a,c){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){a.parent().remove()})});c&&c.close!==null&&
c.close()}};f.fn.toastmessage=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return e.init.apply(this,arguments);else f.error("Method "+a+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(f){f.prompt=function(d,e){e=f.extend({},f.prompt.defaults,e);f.prompt.currentPrefix=e.prefix;var a=f.browser.msie&&f.browser.version<7,c=f(document.body),j=f(window);e.classes=f.trim(e.classes);if(e.classes!="")e.classes=" "+e.classes;var n='<div class="'+e.prefix+"box"+e.classes+'" id="'+e.prefix+'box">';if(e.useiframe&&(f("object, applet").length>0||a))n+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+e.prefix+'fade" id="'+e.prefix+'fade"></iframe>';
else{a&&f("select").css("visibility","hidden");n+='<div class="'+e.prefix+'fade" id="'+e.prefix+'fade"></div>'}n+='<div class="'+e.prefix+'" id="'+e.prefix+'"><div class="'+e.prefix+'container"><div class="';n+=e.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+e.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
n+="</div></div></div>";var h=f(n).appendTo(c),q=h.children("#"+e.prefix),o=h.children("#"+e.prefix+"fade");if(d.constructor==String)d={state0:{html:d,buttons:e.buttons,focus:e.focus,submit:e.submit}};var v="";f.each(d,function(G,A){A=f.extend({},f.prompt.defaults.state,A);d[G]=A;v+='<div id="'+e.prefix+"_state_"+G+'" class="'+e.prefix+'_state" style="display:none;"><div class="'+e.prefix+'message">'+A.html+'</div><div class="'+e.prefix+'buttons">';f.each(A.buttons,function(C,t){v+=typeof t=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+G+"_button"+t.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+e.prefix+"_"+G+"_button"+t.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+t.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+t.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+G+"_button"+C+'" id="'+e.prefix+"_"+G+"_button"+C+'" value="'+
t+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+C+"</span></span></button>"});v+="</div></div>"});q.find("#"+e.prefix+"states").html(v).children("."+e.prefix+"_state:first").css("display","block");q.find("."+e.prefix+"buttons:empty").css("display","none");f.each(d,function(G,A){var C=q.find("#"+e.prefix+"_state_"+G);C.children("."+e.prefix+"buttons").children("button").click(function(){var t=C.children("."+e.prefix+"message"),r=A.buttons[f(this).text()];if(r==undefined)for(var F in A.buttons)if(A.buttons[F].title==
f(this).text())r=A.buttons[F].value;if(typeof r=="object")r=r.value;var H={};f.each(q.find("#"+e.prefix+"states :input").serializeArray(),function(E,O){if(H[O.name]===undefined)H[O.name]=O.value;else if(typeof H[O.name]==Array||typeof H[O.name]=="object")H[O.name].push(O.value);else H[O.name]=[H[O.name],O.value]});F=A.submit(r,t,H);if(F===undefined||F)D(true,r,t,H)});C.find("."+e.prefix+"buttons button:eq("+A.focus+")").addClass(e.prefix+"defaultbutton")});var x=function(){h.css({top:j.scrollTop()})},
B=function(){if(e.persistent){var G=0;h.addClass(e.prefix+"warning");var A=setInterval(function(){h.toggleClass(e.prefix+"warning");if(G++>1){clearInterval(A);h.removeClass(e.prefix+"warning")}},100)}else D()},J=function(G){var A=window.event?event.keyCode:G.keyCode;A==27&&B();if(A==9){var C=f(":input:enabled:visible",h),t=G.shiftKey&&G.target==C[0];if(!G.shiftKey&&G.target==C[C.length-1]||t){setTimeout(function(){if(C){var r=C[t===true?C.length-1:0];r&&r.focus()}},10);return false}}},L=function(){h.css({position:a?
"absolute":"fixed",height:j.height(),width:"100%",top:a?j.scrollTop():0,left:0,right:0,bottom:0});o.css({position:"absolute",height:j.height(),width:"100%",top:0,left:0,right:0,bottom:0});q.css({position:"absolute",top:e.top,left:"50%",marginLeft:q.outerWidth()/2*-1})},D=function(G,A,C,t){q.remove();a&&c.unbind("scroll",x);j.unbind("resize",L);o.fadeOut(e.overlayspeed,function(){o.unbind("click",B);o.remove();G&&e.callback(A,C,t);h.unbind("keypress",J);h.remove();a&&!e.useiframe&&f("select").css("visibility",
"visible")})};L();(function(){o.css({zIndex:e.zIndex,display:"none",opacity:e.opacity});q.css({zIndex:e.zIndex+1,display:"none"});h.css({zIndex:e.zIndex})})();a&&j.scroll(x);o.click(B);j.resize(L);h.bind("keydown keypress",J);q.find("."+e.prefix+"close").click(D);o.fadeIn(e.overlayspeed);q[e.show](e.promptspeed,e.loaded);q.find("#"+e.prefix+"states ."+e.prefix+"_state:first ."+e.prefix+"defaultbutton").focus();e.timeout>0&&setTimeout(f.prompt.close,e.timeout);return h};f.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};f.prompt.currentPrefix=f.prompt.defaults.prefix;f.prompt.setDefaults=function(d){f.prompt.defaults=f.extend({},f.prompt.defaults,d)};f.prompt.setStateDefaults=function(d){f.prompt.defaults.state=f.extend({},f.prompt.defaults.state,
d)};f.prompt.getStateContent=function(d){return f("#"+f.prompt.currentPrefix+"_state_"+d)};f.prompt.getCurrentState=function(){return f("."+f.prompt.currentPrefix+"_state:visible")};f.prompt.getCurrentStateName=function(){return f.prompt.getCurrentState().attr("id").replace(f.prompt.currentPrefix+"_state_","")};f.prompt.goToState=function(d,e){f("."+f.prompt.currentPrefix+"_state").slideUp("slow");f("#"+f.prompt.currentPrefix+"_state_"+d).slideDown("slow",function(){f(this).find("."+f.prompt.currentPrefix+
"defaultbutton").focus();typeof e=="function"&&e()})};f.prompt.nextState=function(d){var e=f("."+f.prompt.currentPrefix+"_state:visible").next();f("."+f.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+f.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};f.prompt.prevState=function(d){var e=f("."+f.prompt.currentPrefix+"_state:visible").prev();f("."+f.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+
f.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};f.prompt.close=function(){f("#"+f.prompt.currentPrefix+"box").fadeOut("fast",function(){f(this).remove()})};f.fn.prompt=function(d){if(d==undefined)d={};if(d.withDataAndEvents==undefined)d.withDataAndEvents=false;f.prompt(f(this).clone(d.withDataAndEvents).html(),d)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
(function(){var f=Math,d=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,a="ontouchstart"in window,c=d+"Transform"in document.documentElement.style,j=/android/gi.test(navigator.appVersion),n=/iphone|ipad/gi.test(navigator.appVersion),h=/playbook/gi.test(navigator.appVersion),q=n||h,o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),v=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),x="onorientationchange"in window?"orientationchange":"resize",B=a?"touchstart":"mousedown",J=a?"touchmove":"mousemove",L=a?"touchend":"mouseup",D=a?"touchcancel":"mouseup",
G=d=="Moz"?"DOMMouseScroll":"mousewheel",A="translate"+(e?"3d(":"("),C=e?",0)":")";h=function(t,r){var F=this,H=document,E;F.wrapper=typeof t=="object"?t:H.getElementById(t);F.wrapper.style.overflow="hidden";F.scroller=F.wrapper.children[0];F.options={hScroll:true,vScroll:true,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:j,hideScrollbar:n,fadeScrollbar:n&&e,scrollbarClass:"",
zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(O){O.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(E in r)F.options[E]=r[E];F.options.useTransform=c?F.options.useTransform:false;F.options.hScrollbar=F.options.hScroll&&F.options.hScrollbar;F.options.vScrollbar=
F.options.vScroll&&F.options.vScrollbar;F.options.zoom=F.options.useTransform&&F.options.zoom;F.options.useTransition=q&&F.options.useTransition;F.scroller.style[d+"TransitionProperty"]=F.options.useTransform?"-"+d.toLowerCase()+"-transform":"top left";F.scroller.style[d+"TransitionDuration"]="0";F.scroller.style[d+"TransformOrigin"]="0 0";if(F.options.useTransition)F.scroller.style[d+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";if(F.options.useTransform)F.scroller.style[d+"Transform"]=
A+"0,0"+C;else F.scroller.style.cssText+=";position:absolute;top:0;left:0";if(F.options.useTransition)F.options.fixedScrollbar=true;F.refresh();F._bind(x,window);F._bind(B);if(!a){F._bind("mouseout",F.wrapper);F._bind(G)}if(F.options.checkDOMChanges)F.checkDOMTime=setInterval(function(){F._checkDOMChanges()},500)};h.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var r=this;switch(t.type){case B:if(!a&&
t.button!==0)return;r._start(t);break;case J:r._move(t);break;case L:case D:r._end(t);break;case x:r._resize();break;case G:r._wheel(t);break;case "mouseout":r._mouseout(t);break;case "webkitTransitionEnd":r._transitionEnd(t);break}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var r=this,F=document,H;if(r[t+"Scrollbar"]){if(!r[t+
"ScrollbarWrapper"]){H=F.createElement("div");if(r.options.scrollbarClass)H.className=r.options.scrollbarClass+t.toUpperCase();else H.style.cssText="position:absolute;z-index:100;"+(t=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px");H.style.cssText+=";pointer-events:none;-"+d+"-transition-property:opacity;-"+d+"-transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?
"0":"1");r.wrapper.appendChild(H);r[t+"ScrollbarWrapper"]=H;H=F.createElement("div");if(!r.options.scrollbarClass)H.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+d+"-background-clip:padding-box;-"+d+"-box-sizing:border-box;"+(t=="h"?"height:100%":"width:100%")+";-"+d+"-border-radius:3px;border-radius:3px";H.style.cssText+=";pointer-events:none;-"+d+"-transition-property:-"+d+"-transform;-"+d+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+
d+"-transition-duration:0;-"+d+"-transform:"+A+"0,0"+C;if(r.options.useTransition)H.style.cssText+=";-"+d+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";r[t+"ScrollbarWrapper"].appendChild(H);r[t+"ScrollbarIndicator"]=H}if(t=="h"){r.hScrollbarSize=r.hScrollbarWrapper.clientWidth;r.hScrollbarIndicatorSize=f.max(f.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8);r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px";r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize;
r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX}else{r.vScrollbarSize=r.vScrollbarWrapper.clientHeight;r.vScrollbarIndicatorSize=f.max(f.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8);r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px";r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize;r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY}r._scrollbarPos(t,true)}else if(r[t+"ScrollbarWrapper"]){if(c)r[t+"ScrollbarIndicator"].style[d+"Transform"]="";r[t+"ScrollbarWrapper"].parentNode.removeChild(r[t+
"ScrollbarWrapper"]);r[t+"ScrollbarWrapper"]=null;r[t+"ScrollbarIndicator"]=null}},_resize:function(){var t=this;setTimeout(function(){t.refresh()},j?200:0)},_pos:function(t,r){t=this.hScroll?t:0;r=this.vScroll?r:0;if(this.options.useTransform)this.scroller.style[d+"Transform"]=A+t+"px,"+r+"px"+C+" scale("+this.scale+")";else{t=f.round(t);r=f.round(r);this.scroller.style.left=t+"px";this.scroller.style.top=r+"px"}this.x=t;this.y=r;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(t,
r){var F=this,H=t=="h"?F.x:F.y;if(F[t+"Scrollbar"]){H=F[t+"ScrollbarProp"]*H;if(H<0){if(!F.options.fixedScrollbar){H=F[t+"ScrollbarIndicatorSize"]+f.round(H*3);if(H<8)H=8;F[t+"ScrollbarIndicator"].style[t=="h"?"width":"height"]=H+"px"}H=0}else if(H>F[t+"ScrollbarMaxScroll"])if(F.options.fixedScrollbar)H=F[t+"ScrollbarMaxScroll"];else{H=F[t+"ScrollbarIndicatorSize"]-f.round((H-F[t+"ScrollbarMaxScroll"])*3);if(H<8)H=8;F[t+"ScrollbarIndicator"].style[t=="h"?"width":"height"]=H+"px";H=F[t+"ScrollbarMaxScroll"]+
(F[t+"ScrollbarIndicatorSize"]-H)}F[t+"ScrollbarWrapper"].style[d+"TransitionDelay"]="0";F[t+"ScrollbarWrapper"].style.opacity=r&&F.options.hideScrollbar?"0":"1";F[t+"ScrollbarIndicator"].style[d+"Transform"]=A+(t=="h"?H+"px,0":"0,"+H+"px")+C}},_start:function(t){var r=this,F=a?t.touches[0]:t,H,E;if(r.enabled){r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t);if(r.options.useTransition||r.options.zoom)r._transitionTime(0);r.moved=false;r.animating=false;r.zoomed=false;r.distX=
0;r.distY=0;r.absDistX=0;r.absDistY=0;r.dirX=0;r.dirY=0;if(r.options.zoom&&a&&t.touches.length>1){E=f.abs(t.touches[0].pageX-t.touches[1].pageX);H=f.abs(t.touches[0].pageY-t.touches[1].pageY);r.touchesDistStart=f.sqrt(E*E+H*H);r.originX=f.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x;r.originY=f.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y;r.options.onZoomStart&&r.options.onZoomStart.call(r,t)}if(r.options.momentum){if(r.options.useTransform){H=getComputedStyle(r.scroller,
null)[d+"Transform"].replace(/[^0-9-.,]/g,"").split(",");E=H[4]*1;H=H[5]*1}else{E=getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,"")*1;H=getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(E!=r.x||H!=r.y){r.options.useTransition?r._unbind("webkitTransitionEnd"):v(r.aniTime);r.steps=[];r._pos(E,H)}}r.absStartX=r.x;r.absStartY=r.y;r.startX=r.x;r.startY=r.y;r.pointX=F.pageX;r.pointY=F.pageY;r.startTime=t.timeStamp||(new Date).getTime();r.options.onScrollStart&&r.options.onScrollStart.call(r,
t);r._bind(J);r._bind(L);r._bind(D)}},_move:function(t){var r=this,F=a?t.touches[0]:t,H=F.pageX-r.pointX,E=F.pageY-r.pointY,O=r.x+H,V=r.y+E,Y=t.timeStamp||(new Date).getTime();r.options.onBeforeScrollMove&&r.options.onBeforeScrollMove.call(r,t);if(r.options.zoom&&a&&t.touches.length>1){O=f.abs(t.touches[0].pageX-t.touches[1].pageX);V=f.abs(t.touches[0].pageY-t.touches[1].pageY);r.touchesDist=f.sqrt(O*O+V*V);r.zoomed=true;F=1/r.touchesDistStart*r.touchesDist*this.scale;if(F<r.options.zoomMin)F=0.5*
r.options.zoomMin*Math.pow(2,F/r.options.zoomMin);else if(F>r.options.zoomMax)F=2*r.options.zoomMax*Math.pow(0.5,r.options.zoomMax/F);r.lastScale=F/this.scale;O=this.originX-this.originX*r.lastScale+this.x;V=this.originY-this.originY*r.lastScale+this.y;this.scroller.style[d+"Transform"]=A+O+"px,"+V+"px"+C+" scale("+F+")";r.options.onZoom&&r.options.onZoom.call(r,t)}else{r.pointX=F.pageX;r.pointY=F.pageY;if(O>0||O<r.maxScrollX)O=r.options.bounce?r.x+H/2:O>=0||r.maxScrollX>=0?0:r.maxScrollX;if(V>r.minScrollY||
V<r.maxScrollY)V=r.options.bounce?r.y+E/2:V>=r.minScrollY||r.maxScrollY>=0?r.minScrollY:r.maxScrollY;if(r.absDistX<6&&r.absDistY<6){r.distX+=H;r.distY+=E;r.absDistX=f.abs(r.distX);r.absDistY=f.abs(r.distY)}else{if(r.options.lockDirection)if(r.absDistX>r.absDistY+5){V=r.y;E=0}else if(r.absDistY>r.absDistX+5){O=r.x;H=0}r.moved=true;r._pos(O,V);r.dirX=H>0?-1:H<0?1:0;r.dirY=E>0?-1:E<0?1:0;if(Y-r.startTime>300){r.startTime=Y;r.startX=r.x;r.startY=r.y}r.options.onScrollMove&&r.options.onScrollMove.call(r,
t)}}},_end:function(t){if(!(a&&t.touches.length!=0)){var r=this,F=a?t.changedTouches[0]:t,H,E,O={dist:0,time:0},V={dist:0,time:0},Y=(t.timeStamp||(new Date).getTime())-r.startTime,ka=r.x,na=r.y;r._unbind(J);r._unbind(L);r._unbind(D);r.options.onBeforeScrollEnd&&r.options.onBeforeScrollEnd.call(r,t);if(r.zoomed){ka=r.scale*r.lastScale;ka=Math.max(r.options.zoomMin,ka);ka=Math.min(r.options.zoomMax,ka);r.lastScale=ka/r.scale;r.scale=ka;r.x=r.originX-r.originX*r.lastScale+r.x;r.y=r.originY-r.originY*
r.lastScale+r.y;r.scroller.style[d+"TransitionDuration"]="200ms";r.scroller.style[d+"Transform"]=A+r.x+"px,"+r.y+"px"+C+" scale("+r.scale+")";r.zoomed=false;r.refresh();r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)}else{if(r.moved){if(Y<300&&r.options.momentum){O=ka?r._momentum(ka-r.startX,Y,-r.x,r.scrollerW-r.wrapperW+r.x,r.options.bounce?r.wrapperW:0):O;V=na?r._momentum(na-r.startY,Y,-r.y,r.maxScrollY<0?r.scrollerH-r.wrapperH+r.y-r.minScrollY:0,r.options.bounce?r.wrapperH:0):V;ka=r.x+O.dist;
na=r.y+V.dist;if(r.x>0&&ka>0||r.x<r.maxScrollX&&ka<r.maxScrollX)O={dist:0,time:0};if(r.y>r.minScrollY&&na>r.minScrollY||r.y<r.maxScrollY&&na<r.maxScrollY)V={dist:0,time:0}}if(O.dist||V.dist){Y=f.max(f.max(O.time,V.time),10);if(r.options.snap){O=ka-r.absStartX;V=na-r.absStartY;if(f.abs(O)<r.options.snapThreshold&&f.abs(V)<r.options.snapThreshold)r.scrollTo(r.absStartX,r.absStartY,200);else{snap=r._snap(ka,na);ka=snap.x;na=snap.y;Y=f.max(snap.time,Y)}}r.scrollTo(ka,na,Y)}else if(r.options.snap){O=ka-
r.absStartX;V=na-r.absStartY;if(f.abs(O)<r.options.snapThreshold&&f.abs(V)<r.options.snapThreshold)r.scrollTo(r.absStartX,r.absStartY,200);else{snap=r._snap(r.x,r.y);if(snap.x!=r.x||snap.y!=r.y)r.scrollTo(snap.x,snap.y,snap.time)}}else r._resetPos(200)}else{if(a)if(r.doubleTapTimer&&r.options.zoom){clearTimeout(r.doubleTapTimer);r.doubleTapTimer=null;r.options.onZoomStart&&r.options.onZoomStart.call(r,t);r.zoom(r.pointX,r.pointY,r.scale==1?r.options.doubleTapZoom:1);r.options.onZoomEnd&&setTimeout(function(){r.options.onZoomEnd.call(r,
t)},200)}else r.doubleTapTimer=setTimeout(function(){r.doubleTapTimer=null;for(H=F.target;H.nodeType!=1;)H=H.parentNode;if(H.tagName!="SELECT"&&H.tagName!="INPUT"&&H.tagName!="TEXTAREA"){E=document.createEvent("MouseEvents");E.initMouseEvent("click",true,true,t.view,1,F.screenX,F.screenY,F.clientX,F.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null);E._fake=true;H.dispatchEvent(E)}},r.options.zoom?250:0);r._resetPos(200)}r.options.onTouchEnd&&r.options.onTouchEnd.call(r,t)}}},_resetPos:function(t){var r=
this,F=r.x>=0?0:r.x<r.maxScrollX?r.maxScrollX:r.x,H=r.y>=r.minScrollY||r.maxScrollY>0?r.minScrollY:r.y<r.maxScrollY?r.maxScrollY:r.y;if(F==r.x&&H==r.y){if(r.moved){r.moved=false;r.options.onScrollEnd&&r.options.onScrollEnd.call(r)}if(r.hScrollbar&&r.options.hideScrollbar){if(d=="webkit")r.hScrollbarWrapper.style[d+"TransitionDelay"]="300ms";r.hScrollbarWrapper.style.opacity="0"}if(r.vScrollbar&&r.options.hideScrollbar){if(d=="webkit")r.vScrollbarWrapper.style[d+"TransitionDelay"]="300ms";r.vScrollbarWrapper.style.opacity=
"0"}}else r.scrollTo(F,H,t||0)},_wheel:function(t){var r=this,F,H;if("wheelDeltaX"in t){F=t.wheelDeltaX/12;H=t.wheelDeltaY/12}else F="detail"in t?(H=-t.detail*3):(H=-t.wheelDelta);if(r.options.wheelAction=="zoom"){H=r.scale*Math.pow(2,1/3*(H?H/Math.abs(H):0));if(H<r.options.zoomMin)H=r.options.zoomMin;if(H>r.options.zoomMax)H=r.options.zoomMax;if(H!=r.scale){!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,t);r.wheelZoomCount++;r.zoom(t.pageX,t.pageY,H,400);setTimeout(function(){r.wheelZoomCount--;
!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)},400)}}else{F=r.x+F;H=r.y+H;if(F>0)F=0;else if(F<r.maxScrollX)F=r.maxScrollX;if(H>r.minScrollY)H=r.minScrollY;else if(H<r.maxScrollY)H=r.maxScrollY;r.scrollTo(F,H,0)}},_mouseout:function(t){var r=t.relatedTarget;if(r)for(;r=r.parentNode;)if(r==this.wrapper)return;this._end(t)},_transitionEnd:function(t){var r=this;if(t.target==r.scroller){r._unbind("webkitTransitionEnd");r._startAni()}},_startAni:function(){var t=this,r=t.x,F=t.y,
H=(new Date).getTime(),E,O;if(!t.animating)if(t.steps.length){E=t.steps.shift();if(E.x==r&&E.y==F)E.time=0;t.animating=true;t.moved=true;if(t.options.useTransition){t._transitionTime(E.time);t._pos(E.x,E.y);t.animating=false;E.time?t._bind("webkitTransitionEnd"):t._resetPos(0)}else(function V(){var Y=(new Date).getTime();if(Y>=H+E.time){t._pos(E.x,E.y);t.animating=false;t.options.onAnimationEnd&&t.options.onAnimationEnd.call(t);t._startAni()}else{Y=(Y-H)/E.time-1;O=f.sqrt(1-Y*Y);Y=(E.x-r)*O+r;t._pos(Y,
(E.y-F)*O+F);if(t.animating)t.aniTime=o(V)}})()}else t._resetPos(400)},_transitionTime:function(t){t+="ms";this.scroller.style[d+"TransitionDuration"]=t;if(this.hScrollbar)this.hScrollbarIndicator.style[d+"TransitionDuration"]=t;if(this.vScrollbar)this.vScrollbarIndicator.style[d+"TransitionDuration"]=t},_momentum:function(t,r,F,H,E){r=f.abs(t)/r;var O=r*r/0.0012,V=0;V=0;if(t>0&&O>F){V=E/(6/(O/r*6.0E-4));F+=V;r=r*F/O;O=F}else if(t<0&&O>H){V=E/(6/(O/r*6.0E-4));H+=V;r=r*H/O;O=H}O*=t<0?-1:1;V=r/6.0E-4;
return{dist:O,time:f.round(V)}},_offset:function(t){for(var r=-t.offsetLeft,F=-t.offsetTop;t=t.offsetParent;){r-=t.offsetLeft;F-=t.offsetTop}if(t!=this.wrapper){r*=this.scale;F*=this.scale}return{left:r,top:F}},_snap:function(t,r){var F=this,H,E,O;O=F.pagesX.length-1;H=0;for(E=F.pagesX.length;H<E;H++)if(t>=F.pagesX[H]){O=H;break}O==F.currPageX&&O>0&&F.dirX<0&&O--;t=F.pagesX[O];E=(E=f.abs(t-F.pagesX[F.currPageX]))?f.abs(F.x-t)/E*500:0;F.currPageX=O;O=F.pagesY.length-1;for(H=0;H<O;H++)if(r>=F.pagesY[H]){O=
H;break}O==F.currPageY&&O>0&&F.dirY<0&&O--;r=F.pagesY[O];H=(H=f.abs(r-F.pagesY[F.currPageY]))?f.abs(F.y-r)/H*500:0;F.currPageY=O;F=f.round(f.max(E,H))||200;return{x:t,y:r,time:F}},_bind:function(t,r,F){(r||this.scroller).addEventListener(t,this,!!F)},_unbind:function(t,r,F){(r||this.scroller).removeEventListener(t,this,!!F)},destroy:function(){var t=this;t.scroller.style[d+"Transform"]="";t.hScrollbar=false;t.vScrollbar=false;t._scrollbar("h");t._scrollbar("v");t._unbind(x,window);t._unbind(B);t._unbind(J);
t._unbind(L);t._unbind(D);if(t.options.hasTouch){t._unbind("mouseout",t.wrapper);t._unbind(G)}t.options.useTransition&&t._unbind("webkitTransitionEnd");t.options.checkDOMChanges&&clearInterval(t.checkDOMTime);t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var t=this,r,F=0,H=0;if(t.scale<t.options.zoomMin)t.scale=t.options.zoomMin;t.wrapperW=t.wrapper.clientWidth||1;t.wrapperH=t.wrapper.clientHeight||1;t.minScrollY=-t.options.topOffset||0;t.scrollerW=f.round(t.scroller.offsetWidth*
t.scale);t.scrollerH=f.round((t.scroller.offsetHeight+t.minScrollY)*t.scale);t.maxScrollX=t.wrapperW-t.scrollerW;t.maxScrollY=t.wrapperH-t.scrollerH+t.minScrollY;t.dirX=0;t.dirY=0;t.options.onRefresh&&t.options.onRefresh.call(t);t.hScroll=t.options.hScroll&&t.maxScrollX<0;t.vScroll=t.options.vScroll&&(!t.options.bounceLock&&!t.hScroll||t.scrollerH>t.wrapperH);t.hScrollbar=t.hScroll&&t.options.hScrollbar;t.vScrollbar=t.vScroll&&t.options.vScrollbar&&t.scrollerH>t.wrapperH;r=t._offset(t.wrapper);t.wrapperOffsetLeft=
-r.left;t.wrapperOffsetTop=-r.top;if(typeof t.options.snap=="string"){t.pagesX=[];t.pagesY=[];els=t.scroller.querySelectorAll(t.options.snap);i=0;for(l=els.length;i<l;i++){F=t._offset(els[i]);F.left+=t.wrapperOffsetLeft;F.top+=t.wrapperOffsetTop;t.pagesX[i]=F.left<t.maxScrollX?t.maxScrollX:F.left*t.scale;t.pagesY[i]=F.top<t.maxScrollY?t.maxScrollY:F.top*t.scale}}else if(t.options.snap){for(t.pagesX=[];F>=t.maxScrollX;){t.pagesX[H]=F;F-=t.wrapperW;H++}if(t.maxScrollX%t.wrapperW)t.pagesX[t.pagesX.length]=
t.maxScrollX-t.pagesX[t.pagesX.length-1]+t.pagesX[t.pagesX.length-1];H=F=0;for(t.pagesY=[];F>=t.maxScrollY;){t.pagesY[H]=F;F-=t.wrapperH;H++}if(t.maxScrollY%t.wrapperH)t.pagesY[t.pagesY.length]=t.maxScrollY-t.pagesY[t.pagesY.length-1]+t.pagesY[t.pagesY.length-1]}t._scrollbar("h");t._scrollbar("v");if(!t.zoomed){t.scroller.style[d+"TransitionDuration"]="0";t._resetPos(200)}},scrollTo:function(t,r,F,H){var E=this,O=t;E.stop();O.length||(O=[{x:t,y:r,time:F,relative:H}]);t=0;for(r=O.length;t<r;t++){if(O[t].relative){O[t].x=
E.x-O[t].x;O[t].y=E.y-O[t].y}E.steps.push({x:O[t].x,y:O[t].y,time:O[t].time||0})}E._startAni()},scrollToElement:function(t,r){var F=this;if(t=t.nodeType?t:F.scroller.querySelector(t)){t=F._offset(t);t.left+=F.wrapperOffsetLeft;t.top+=F.wrapperOffsetTop;t.left=t.left>0?0:t.left<F.maxScrollX?F.maxScrollX:t.left;t.top=t.top>F.minScrollY?F.minScrollY:t.top<F.maxScrollY?F.maxScrollY:t.top;r=r===undefined?f.max(f.abs(t.left)*2,f.abs(t.top)*2):r;F.scrollTo(t.left,t.top,r)}},scrollToPage:function(t,r,F){var H=
this;if(H.options.snap){t=t=="next"?H.currPageX+1:t=="prev"?H.currPageX-1:t;r=r=="next"?H.currPageY+1:r=="prev"?H.currPageY-1:r;t=t<0?0:t>H.pagesX.length-1?H.pagesX.length-1:t;r=r<0?0:r>H.pagesY.length-1?H.pagesY.length-1:r;H.currPageX=t;H.currPageY=r;t=H.pagesX[t];r=H.pagesY[r]}else{t=-H.wrapperW*t;r=-H.wrapperH*r;if(t<H.maxScrollX)t=H.maxScrollX;if(r<H.maxScrollY)r=H.maxScrollY}H.scrollTo(t,r,F||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(J);this._unbind(L);
this._unbind(D)},enable:function(){this.enabled=true},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):v(this.aniTime);this.steps=[];this.animating=this.moved=false},zoom:function(t,r,F,H){var E=this,O=F/E.scale;if(E.options.useTransform){E.zoomed=true;H=H===undefined?200:H;t=t-E.wrapperOffsetLeft-E.x;r=r-E.wrapperOffsetTop-E.y;E.x=t-t*O+E.x;E.y=r-r*O+E.y;E.scale=F;E.refresh();E.x=E.x>0?0:E.x<E.maxScrollX?E.maxScrollX:E.x;E.y=E.y>E.minScrollY?E.minScrollY:E.y<E.maxScrollY?
E.maxScrollY:E.y;E.scroller.style[d+"TransitionDuration"]=H+"ms";E.scroller.style[d+"Transform"]=A+E.x+"px,"+E.y+"px"+C+" scale("+F+")";E.zoomed=false}},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined")exports.iScroll=h;else window.iScroll=h})();steal.loaded("webapp/lib/iscroll.js");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_desktop_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="desktop" data-role="page">   ');if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(a):blankState))c.push('   <div id="blank-state-overlay"></div>   ');c.push('      <div data-role="header">    ');if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||
user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public)){c.push('     <div id="signin-actions" data-role="controlgroup" data-type="horizontal">      <a id="login-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="b">Login</a>      <a id="signup-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="a">Register</a>      ');if(typeof!tablet!=="undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(a):
!tablet))c.push('       <a id="find-company-button" data-role="button" data-theme="a">Lookup a Company</a>      ');c.push("     </div>    ")}c.push('        <div class="desktop-title">     <h1>FastND</h1>       ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){c.push('      <p id="welcome-message">Hi, <strong>');if(typeof user.full_name!=="undefined"&&user.full_name!=
null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(a):user.full_name));c.push("</strong></p>     ")}c.push("    </div>        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public)){c.push('     <div id="header-buttons">          ');if(typeof tablet!=="undefined"&&tablet!=null&&(typeof tablet==="function"?tablet.call(a):tablet))c.push('       <a ontouchstart="" class="add-company-button">Profile</a>      ');
c.push('            <a ontouchstart="" id="profile-button" data-tooltip="User Profile">Profile</a>      <a ontouchstart="" id="manage-button" data-tooltip="Manage Columns" class="disabled">Manage Columns</a>      <a ontouchstart="" class="help-button" data-tooltip="Get Help">Help</a>      <a ontouchstart="" class="logout-button" data-tooltip="Log out of Finfore">Logout</a>     </div>    ')}else{c.push('     <div id="public-account-selectors">      ');if(typeof tablet!=="undefined"&&tablet!=null&&
(typeof tablet==="function"?tablet.call(a):tablet))c.push('       <a id="find-company-button" data-role="button" data-icon="search">Lookup a Company</a>      ');c.push("            ");if(typeof!tablet!=="undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(a):!tablet)){c.push('       <p>Try out some of our public accounts by selecting your areas of focus</p>       <form>        <div data-role="fieldcontain">         <label for="profession">');if(typeof focus.professional.title!==
"undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>         <select name="user[profession]" id="profession">          ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,h){with(this){c.push("           ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('           <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):
selectedFocus.professional,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>          ")}});c.push('         </select>        </div>        <div data-role="fieldcontain">         <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>         <select name="user[industry]" id="industry">          ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,h){with(this){c.push("           ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('           <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):
selectedFocus.industrial,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>          ")}});c.push('         </select>        </div>        <div data-role="fieldcontain">         <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>         <select name="user[geographic]" id="geographic">          ');if(typeof(isSelected=false)!=="undefined"&&(isSelected=false)!=null)c.push(e.encode(typeof(isSelected=false)==="function"?(isSelected=false).call(a):(isSelected=false)));c.push("          ");if(typeof focus.geographic.profiles!==
"undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,h){with(this){c.push("           ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('           <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id===
"function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):selectedFocus.geographic,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId)){c.push(' selected="selected" ');if(typeof(isSelected=
true)!=="undefined"&&(isSelected=true)!=null)c.push(e.encode(typeof(isSelected=true)==="function"?(isSelected=true).call(a):(isSelected=true)));c.push(" ")}c.push(" ")}});c.push(" ");if(typeof(isSelected==false&&h.title=="USA & Canada")!=="undefined"&&(isSelected==false&&h.title=="USA & Canada")!=null&&(typeof(isSelected==false&&h.title=="USA & Canada")==="function"?(isSelected==false&&h.title=="USA & Canada").call(a):isSelected==false&&h.title=="USA & Canada"))c.push(' selected="selected" ');c.push(">");
if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>          ")}});c.push('         </select>        </div>       </form>       <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Try account</button>      ')}else c.push('       <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Use a Public Account</button>      ');c.push("     </div>    ")}c.push("            ");if(typeof!tablet!==
"undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(a):!tablet)){c.push('    <div id="tabs-container">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" title="Scroll left" id="tab-scroll-left">Scroll left</a>     <div id="tab-bar">      <ul></ul>     </div>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" title="Scroll right" id="tab-scroll-right">Scroll right</a>     ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=
null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(a):user&&!user.is_public))c.push('      <a id="add-tab-button" data-icon="plus" data-iconpos="notext" data-tooltip="Add a new company" data-role="button" class="tooltip-top add-company-button">Add a new company</a>     ');c.push('    </div>        <select name="tab-list-selector" id="tab-list-selector" data-iconpos="notext" data-native-menu="false" data-theme="a"></select>    ')}c.push("       </div>      ");if(typeof tablet!==
"undefined"&&tablet!=null&&(typeof tablet==="function"?tablet.call(a):tablet)){c.push('    <div class="tablet-tab-selector" id="tablet-tabs">     <div class="tablet-selector-wrapper">      <div class="tablet-tab-list">       ');if(typeof(user&&!user.is_public&&1===2)!=="undefined"&&(user&&!user.is_public&&1===2)!=null&&(typeof(user&&!user.is_public&&1===2)==="function"?(user&&!user.is_public&&1===2).call(a):user&&!user.is_public&&1===2))c.push('        <a data-icon="plus" data-role="button" class="add-company-button" data-theme="a">Add a new company</a>       ');
c.push("      </div>     </div>    </div>   ")}c.push('      <div id="desktop-content" data-role="content"></div>   <div data-role="footer">    <div class="scrolling-ticker"></div>     </div>  </div>    ');if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(a):blankState))c.push('  <div id="blank-state" class="ui-body-c ui-corner-all">   <div class="ui-bar-a ui-corner-top"><h1>Welcome to <strong>FastND</strong></h1></div>   <div class="ui-content">      <p>Please try out some of our public profiles, by selecting different focus areas from these selectors. </p>    <p>If you like our service, please register for an account, using the button on the top left, after closing this message. </p>    <form>     <label>      <input type="checkbox" name="show-blank-state" id="show-blank-state" />      Don\'t show this message again     </label>     <a data-role="button" data-icon="delete" data-inline="true" data-theme="a" id="blank-state-close-btn">Close popup</a>    </form>   </div>  </div>  ');
c.push("    ");if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(a):!user||user.is_public)){c.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c" class="small-dialog">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,h){with(this){c.push("        ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):
selectedFocus.professional,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,h){with(this){c.push("        ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):
selectedFocus.industrial,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,h){with(this){c.push("        ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):
selectedFocus.geographic,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>       ")}});c.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}c.push("")}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/desktop.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_tab-button_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<li data-company-id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(a):tab.id));c.push('">   <a href="#');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(a):tab.id));c.push('">');if(typeof tab.title!=="undefined"&&tab.title!=null)c.push(e.encode(typeof tab.title===
"function"?tab.title.call(a):tab.title));c.push("</a>   ");if(typeof tab.closable!=="undefined"&&tab.closable!=null&&(typeof tab.closable==="function"?tab.closable.call(a):tab.closable))c.push('    <span class="ui-icon ui-icon-shadow ui-icon-delete tab-close-button"></span>   ');c.push("  </li>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-button.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_tab-view_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(a):tab.id));c.push('" class="tab">   <div class="tab-scroller"></div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-view.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_tab-option_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<option value="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(a):tab.id));c.push('-tab">   ');if(typeof tab.title!=="undefined"&&tab.title!=null)c.push(e.encode(typeof tab.title==="function"?tab.title.call(a):tab.title));c.push("  </option>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/tab-option.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_login_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen)?c.push("      Sign-In     "):c.push("      Welcome to       <strong>FastND</strong>     ");c.push('    </h1>   </div>   <div data-role="content">        ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');c.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');c.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):
smallScreen))c.push("      </div>     ");c.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');c.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_profile_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="profile-page" data-role="dialog" class="small-dialog ');if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(a):updateProfile))c.push(" update-profile");c.push('">   <div data-role="header">    <h1>Professional Account Information</h1>   </div>   <div data-role="content" data-theme="c">         ');
if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(a):updateProfile))c.push('    <div class="social-signin">     <p>Connect your FastND account with your social networking accounts</p>          <div data-role="controlgroup" data-type="horizontal">          <a class="google-profile-connect" data-type="google" data-role="button" data-icon="google" data-inline="true">Google</a>      <a class="twitter-profile-connect" data-type="twitter" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>      <a class="linkedin-profile-connect" data-type="linkedin" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>     </div>    </div>         <em>Since this is your first time using FastND, please take a moment to update your profile. </em>    ');
c.push('       <form>     <div data-role="fieldcontain">      <label for="full_name">Full Name</label>      <input type="text" name="full_name" id="full_name" value="');if(typeof user.full_name!=="undefined"&&user.full_name!=null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(a):user.full_name));c.push('" required>     </div>          ');if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(a):!updateProfile)){c.push('     <div data-role="fieldcontain">      <label for="email_work">Work Email:</label>      <input type="email" name="email_work" id="email_work" value="');
if(typeof user.email_work!=="undefined"&&user.email_work!=null)c.push(e.encode(typeof user.email_work==="function"?user.email_work.call(a):user.email_work));c.push('" required>     </div>     ')}c.push("          ");if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(a):!updateProfile))c.push('      <div data-role="fieldcontain">       <label for="password">New Password:</label>       <input type="password" name="password" id="password" value=""  />      </div>            <div data-role="fieldcontain">       <label for="password_confirmation">Confirm Password:</label>       <input type="password" name="password_confirmation" id="password_confirmation" value="" />      </div>     ');
c.push('          <div data-role="fieldcontain">       <label for="user_geographic">');if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>      <select id="user_geographic" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=
null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,h){with(this){c.push("        ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');
if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(a):selectedFocus.geographic,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&
h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>       ")}});c.push('      </select>         </div>          <div data-role="fieldcontain">      <label for="user_profession">');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>      <select id="user_profession" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,h){with(this){c.push("        ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&
h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(a):selectedFocus.professional,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>       ")}});c.push('      </select>     </div>          <div data-role="fieldcontain">      <label for="user_industry">');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>      <select id="user_industry" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,h){with(this){c.push("        ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(a):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=
null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(a):selectedFocus.industrial,function(q,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(a):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>       ")}});c.push('      </select>     </div>                 <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Save Changes</button>          </div>    </form>      </div>     </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/profile.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_panel_controlgroup_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push('<div data-role="controlgroup" data-type="horizontal">   <a data-role="button" data-icon="refresh" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-refresh">Refresh</a>   ');if(typeof editable!=="undefined"&&editable!=null&&(typeof editable==="function"?editable.call(a):editable))e.push('    <a data-role="button" data-icon="grid" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-manage">Edit</a>    <a data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-remove">Remove</a>   ');
e.push("  </div>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/panel.controlgroup.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="manage-page" data-role="dialog" class="ui-page">   <div data-role="header">    <h1>Finfore Management</h1>     </div>   <div data-role="content" data-theme="b">    <div id="management-tabs">     <ul>      ');if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(a):modules,function(n,h){with(this){c.push("            ");
if(typeof("management"in h)!=="undefined"&&"management"in h!=null&&(typeof("management"in h)==="function"?("management"in h).call(a):"management"in h)){c.push('        <li><a href="#management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" rel="external" class="ui-btn ui-btn-up-a">');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push("</a></li>            ")}c.push("      ")}});c.push("     </ul>     ");
if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(a):modules,function(n){with(this){c.push('      <div id="management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-category="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="management-tab-panel"></div>     ')}});c.push("    </div>   </div>   </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/manage.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_feed-infos_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push("");if(typeof feeds!=="undefined"&&feeds!=null)e.each(typeof feeds==="function"?feeds.call(a):feeds,function(n,h){with(this){c.push('   <input type="radio" name="');if(typeof type!=="undefined"&&type!=null)c.push(e.encode(typeof type==="function"?type.call(a):type));c.push('-preset-sources" id="source-');if(typeof h._id!=="undefined"&&h._id!=
null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" data-address="');if(typeof h.address!=="undefined"&&h.address!=null)c.push(e.encode(typeof h.address==="function"?h.address.call(a):h.address));c.push('" class="preset-source" value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" data-role="none">   <label for="source-');if(typeof name!=="undefined"&&name!=null)c.push(e.encode(typeof name==="function"?
name.call(a):name));c.push("-");if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</label>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.feed-infos.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_panels_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<input type="radio" data-native="true" class="mtab" id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" name="');if(typeof category!==
"undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push('-panels" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" data-role="none">  <label for="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?
index.call(a):index));c.push('" class="mtab-selector">   ');if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(a):panel.name));c.push('  </label>    <div id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-tab-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" class="mtab-content ui-body-c">   <div class="mtab-title ui-bar-a">    ');
if(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=="undefined"&&(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=null&&(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")==="function"?(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin").call(a):category!=="portfolio"&&category!=="keyword"&&category!=="linkedin"))c.push('     <div data-role="controlgroup" data-type="horizontal" class="source-list-controls ui-btn-right">      <a href="#" data-role="button" data-icon="plus" data-iconpos="notext" data-theme="a" data-inline="true" class="add-custom-source">Add Custom Source</a>      <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="remove-source">Remove Source</a>     </div>    ');
c.push("    <span>     ");if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(a):panel.name));c.push("    </span>        ");if(typeof(category==="twitter"&&false)!=="undefined"&&(category==="twitter"&&false)!=null&&(typeof(category==="twitter"&&false)==="function"?(category==="twitter"&&false).call(a):category==="twitter"&&false)){c.push('     <a href="http://twitter.com/');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account===
"function"?panel.account.call(a):panel.account));c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account==="function"?panel.account.call(a):panel.account));c.push("</a>    ")}c.push("       </div>         ");if(typeof(category==="portfolio")!=="undefined"&&category==="portfolio"!=null&&(typeof(category==="portfolio")==="function"?(category==="portfolio").call(a):category===
"portfolio"))c.push('    <em class="extra-details">The list of Portfolios available in your Google Account will be visible here, <strong>after you reload the application. </strong></em>   ');else if(typeof(category=="keyword")!=="undefined"&&category=="keyword"!=null&&(typeof(category=="keyword")==="function"?(category=="keyword").call(a):category=="keyword")){c.push('    <div class="keyword-panel-settings">        <div data-role="fieldcontain">      <label for="keyword-text-');if(typeof index!==
"undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('">Keyword</label>             <input type="text" class="keyword-text" id="keyword-text-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" value="');if(typeof panel.keyword_column.keyword!=="undefined"&&panel.keyword_column.keyword!=null)c.push(e.encode(typeof panel.keyword_column.keyword==="function"?panel.keyword_column.keyword.call(a):
panel.keyword_column.keyword));c.push('"/>     </div>          <!--      <div data-role="fieldcontain">       <label for="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('">Number of followers</label>       <select class="keyword-followers" id="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('">        <option value="0" ');if(typeof(panel.keyword_column.follower==
0)!=="undefined"&&panel.keyword_column.follower==0!=null&&(typeof(panel.keyword_column.follower==0)==="function"?(panel.keyword_column.follower==0).call(a):panel.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>        <option value="100" ');if(typeof(panel.keyword_column.follower==100)!=="undefined"&&panel.keyword_column.follower==100!=null&&(typeof(panel.keyword_column.follower==100)==="function"?(panel.keyword_column.follower==100).call(a):panel.keyword_column.follower==
100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>        <option value="1000" ');if(typeof(panel.keyword_column.follower==1E3)!=="undefined"&&panel.keyword_column.follower==1E3!=null&&(typeof(panel.keyword_column.follower==1E3)==="function"?(panel.keyword_column.follower==1E3).call(a):panel.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>       </select>      </div>            <div data-role="fieldcontain">            <fieldset data-role="controlgroup">        <legend>&nbsp;</legend>        <input type="checkbox" id="keyword-aggregate-');
if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" class="keyword-aggregate" ');if(typeof panel.keyword_column.is_aggregate!=="undefined"&&panel.keyword_column.is_aggregate!=null&&(typeof panel.keyword_column.is_aggregate==="function"?panel.keyword_column.is_aggregate.call(a):panel.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>        <label for="keyword-aggregate-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index===
"function"?index.call(a):index));c.push('">Is aggregate</label>       </fieldset>            </div>     --\>          <div data-role="fieldcontain" class="keyword-save-container">      <button class="keyword-save">Save Column</button>     </div>       </div>    ')}else{c.push('    <div class="list-view">    ');if(typeof panel.user_feeds!=="undefined"&&panel.user_feeds!=null)e.each(typeof panel.user_feeds==="function"?panel.user_feeds.call(a):panel.user_feeds,function(n,h){with(this){c.push('     <input type="radio" data-native="true" name="');
if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-sources-");if(typeof h.feed_account_id!=="undefined"&&h.feed_account_id!=null)c.push(e.encode(typeof h.feed_account_id==="function"?h.feed_account_id.call(a):h.feed_account_id));c.push('" id="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)===
"function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-role="none" />     <label for="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</label>    ")}});c.push("    </div>   ")}c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.panels.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_manage_source_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<input type="radio" data-native="true" name="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(a):category));c.push("-sources-");if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
c.push('" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(a):index));c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));c.push('" data-id="');if(typeof source._id!==
"undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));c.push('" data-role="none">  <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(a):source._id));c.push('">  ');if(typeof source.feed_info.title!==
"undefined"&&source.feed_info.title!=null&&(typeof source.feed_info.title==="function"?source.feed_info.title.call(a):source.feed_info.title)){c.push(" ");if(typeof source.feed_info.title!=="undefined"&&source.feed_info.title!=null)c.push(e.encode(typeof source.feed_info.title==="function"?source.feed_info.title.call(a):source.feed_info.title))}else{c.push(" ");if(typeof source.name!=="undefined"&&source.name!=null)c.push(e.encode(typeof source.name==="function"?source.name.call(a):source.name))}c.push(" ");
c.push("  </label>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.source.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_signup_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(a):!smallScreen)){c.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));
c.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}c.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(a):smallScreen)){c.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(a):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(a):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}c.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(a):focus.geographic.title));c.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(a):focus.geographic.profiles,function(n,h){with(this){c.push('         <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(a):focus.professional.title));c.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(a):focus.professional.profiles,function(n,h){with(this){c.push('         <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(a):focus.industrial.title));c.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(a):focus.industrial.profiles,function(n,h){with(this){c.push('         <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(a):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("</option>        ")}});c.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_addcompany_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div id="add-company-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Add a new company</h1>     </div>   <div data-role="content" data-theme="c">    <ul data-role="listview" data-filter="true" class="companies-list">     ');if(typeof companies!=="undefined"&&companies!=null)e.each(typeof companies==="function"?
companies.call(a):companies,function(n,h){with(this){c.push('     <li data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">      <span class="ui-icon ui-icon-plus"></span>      ');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(a):h.title));c.push("      ");if(typeof h.profiles!=="undefined"&&h.profiles!=null)e.each(typeof h.profiles==="function"?h.profiles.call(a):h.profiles,function(q,
o){with(this){c.push('       <span class="ui-li-count">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(a):o.title));c.push("</span>           ")}});c.push("     </li>    ")}});c.push("    </ul>   </div>  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/addcompany.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_help_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<div data-role="dialog" class="small-dialog help-page">   <div data-role="header">    <h1>Help</h1>   </div>      <div data-role="content" data-theme="c">       <form>       <div data-role="fieldcontain">      <label for="subject">Subject:</label>      <input type="text" name="form[subject]" id="subject" value="" required>     </div>       <div data-role="fieldcontain">      <label for="message">Message:</label>      <textarea id="message" name="form[message]" required></textarea>     </div>          <div data-role="fieldcontain">      <label for="name">Name:</label>      <input type="text" name="form[name]" id="name" value="" required>     </div>          <div data-role="fieldcontain">      <label for="phone">Phone:</label>      <input type="tel" name="form[phone]" id="phone" value="">     </div>          <div data-role="fieldcontain">      <label for="email">Email:</label>      <input type="email" name="form[email]" id="email" value="" required>     </div>          <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Send Message</button>     </div>    </form>      </div>   </div>');return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/help.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;
var finfore=function(){var f={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},d=Storage.getItem("user");if(d){d=JSON.parse(d);if(d.error)d=false}var e=Storage.getItem("updateProfile");
if(e)e=e=="true";var a=document.documentElement.clientWidth>1024,c=Storage.getItem("blankState")?false:true,j={user:d,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:c,updateProfile:e},n=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},h=function(){var G=Storage.getItem("selectedFocus");
(G=G&&finfore.data.user.is_public?JSON.parse(G):finfore.data.user.profiles)||(G=[]);$.each(G,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},q=function(G){Loader.show();var A=Storage.getItem("focus"),C=new Date,t=false;if(A){A=JSON.parse(A);A.storageDate=new Date(A.storageDate);if(parseInt((C-
A.storageDate)/1E3)<3600)t=true}if(t){finfore.data.focus=A;G()}else WebService.focus({complete:function(r){finfore.data.focus={};$.each(r,function(F,H){if(H.title=="Profession")finfore.data.focus.professional=H;else if(H.title=="Geography")finfore.data.focus.geographic=H;else if(H.title=="Industry")finfore.data.focus.industrial=H});finfore.storeData({focus:finfore.data.focus});G()}})},o={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(G){finfore.data.ticker.news.push(G);finfore.desktop.ticker.updateNews(G)},
updatePrices:function(G){finfore.data.ticker.prices.push(G);finfore.desktop.ticker.updatePrices(G)},cleanTicker:function(){o.date=new Date;o.shortDate=new Date;o.date.setMinutes(o.date.getMinutes()-15);o.shortDate.setMinutes(o.shortDate.getMinutes()-15);var G=j.ticker.news.slice(0);$.each(j.ticker.news,function(A,C){if(C.from_user)new Date(C.created_at)<=o.shortDate&&G.splice(A,1);else new Date(C.publishedDate)<=o.date&&G.splice(A,1)});j.ticker.news=G.slice(0);empty(finfore.desktop.ticker.$node[0]);
$.each(j.ticker.news,function(A){finfore.desktop.ticker.updateNews(A)})}};o.date.setMinutes(o.date.getMinutes()-15);o.shortDate.setMinutes(o.shortDate.getMinutes()-15);window.setInterval(o.cleanTicker,9E5);var v=function(G,A){if(G.position>A.position)return 1;if(G.position<A.position)return-1;return 0},x={create:function(G){finfore.data.portfolios.push({feed_account:G});var A=finfore.data.portfolios.length-1;return $.ajax({url:f.portfolioList,data:{feed_account_id:G._id},success:function(C){x.createPanels(C,
A)}})},createPanels:function(G,A){G.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!G.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(G.rss.chanel.item))G.rss.chanel.item=[G.rss.chanel.item];finfore.data.portfolios[A].list=G.rss.chanel.item;$.each(finfore.data.portfolios[A].list,function(){var C=this,t=/[0-9]*$/.exec(this.id);if(t!=null)this.id_bare=t[0];setTimeout(function(){$.ajax({url:f.portfolioOverviews,
type:"GET",data:{feed_account_id:finfore.data.portfolios[A].feed_account._id,portfolio_id:C.id_bare},success:function(r){C.overview=r;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[A],portfolio:C}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[A],portfolio:C}});finfore.panels.create({type:"feed",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[A],
portfolio:C}})}})},50)})},remove:function(G){var A=G.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===A&&finfore.desktop.panels.remove({options:{panel:this}})})})}},B={create:function(G){if(G.options.company){finfore.data.panels.companies[G.options.company.feed_info.id]||(finfore.data.panels.companies[G.options.company.feed_info.id]={});finfore.data.panels.companies[G.options.company.feed_info.id][G.type]||(finfore.data.panels.companies[G.options.company.feed_info.id][G.type]=
[]);finfore.data.panels.companies[G.options.company.feed_info.id][G.type].push(G.options)}else if(G.options.portfolio){finfore.data.panels.portfolio[G.type]||(finfore.data.panels.portfolio[G.type]=[]);finfore.data.panels.portfolio[G.type].push(G.options)}else{finfore.data.panels.main[G.type]||(finfore.data.panels.main[G.type]=[]);finfore.data.panels.main[G.type].push(G.options)}setTimeout(function(){finfore.desktop.panels.create(G)},50)},remove:function(G){finfore.data.panels.main[G.type].splice(G.options.index,
1);finfore.desktop.panels.remove(G)}},J={add:function(G,A){finfore.data.companies=finfore.data.companies.concat(G);$.each(G,function(){var C=this,t=this._id;finfore.desktop.tabs.add({id:t,title:this.feed_info.title,closable:!finfore.data.user.is_public});var r=$("#"+t),F;setTimeout(function(){finfore.panels.create({type:"prices",tab:r,options:{company:C}})},10);setTimeout(function(){finfore.panels.create({type:"feed",tab:r,options:{company:C}})},10);setTimeout(function(){finfore.panels.create({type:"feed",
tab:r,options:{company:C,blogsearch:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",tab:r,options:{company:C}})},10);setTimeout(function(){finfore.panels.create({type:"feed",tab:r,options:{company:C,bingsearch:true}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:r,options:{company:C}})},10);setTimeout(function(){finfore.panels.create({type:"agenda",tab:r,options:{company:C,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"twitter",
tab:r,options:{company:C,competitor:true}})},10);setTimeout(function(){finfore.panels.create({type:"blinkx",tab:r,options:{company:C}})},10);if(A){F=a?$("li:last",finfore.desktop.nodes.$tabList):$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);setTimeout(function(){finfore.tablet?F.trigger("expand"):finfore.desktop.tabs.select(F)},100)}})},remove:function(){var G=$(this).parent("li"),A=$("a",G).attr("href").substr(1),C="<h2>Are you sure you sure you want to remove <em>"+$("a",G).text()+
"</em>?</h2>";$.prompt(C,{callback:function(t){if(t){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+A+".json",type:"DELETE",data:{feed_account_id:A},success:function(){$.each(finfore.data.companies,function(r,F){if(F._id==A){finfore.data.companies.splice(r,1);return false}})}});finfore.desktop.tabs.remove(G)}},buttons:{Cancel:false,"Remove Column":true}});return false}},L=function(){finfore.manage={};finfore.profile={}},D=function(){h();finfore.desktop.init();finfore.data.user.is_public&&L()};return{init:function(){$.ajaxSetup({dataType:"json"});
d&&n();q(function(){if(d)WebService.refreshUser({complete:D});else{var G;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="USA & Canada")G=this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+G+","+finfore.data.focus.professional.profiles[0]._id},D)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=false;finforeNative&&$(document).on("click",'a[target="_blank"]',function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),
{showLocationBar:true});return false})},panels:B,portfolios:x,modules:{},companies:J,ticker:o,nodes:{},url:f,data:j,storeData:function(G){if(G.user){finfore.data.user=G.user;Storage.setItem("user",JSON.stringify(G.user));n()}if(G.focus){G.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(G.focus))}G.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(G.selectedFocus))},populate:function(){var G=[];(function(A){$.each(A,function(C,t){if(t.position==null)t.position=999});A.sort(v);
$.each(A,function(){var C=this,t=C.category;if(t=="portfolio")G.push(x.create(C));else{if(t=="rss")t="feed";else if(t=="chart")t="prices";else if(t=="gmail"||t=="facebook")return;t=="keyword"&&!C.keyword_column||B.create({type:t,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:C}})}});$.when(G).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,function(A,C){if(C.position==null)C.position=
999});finfore.data.user.user_company_tabs.sort(v);J.add(finfore.data.user.user_company_tabs)},tablet:false,smallScreen:smallScreen,$body:$("body"),publicLogin:function(G,A){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:f.publicLogin,type:"POST",data:{pids:G.ids},success:function(C){if(C.user){Storage.removeItem("selectedFocus");var t=$.extend({},C.user);finfore.storeData({user:t});finfore.storeData({selectedFocus:C.selecteds})}else{$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");
Loader.hide();return false}A&&A(t)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(f,d){if(d.prevPage.attr("data-role")=="page")lastActivePage=d.prevPage});
$.mobile.dialog.prototype._create=function(){var f=this.element,d=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");f.addClass("ui-overlay-"+this.options.overlayTheme);f.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");d.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});f.bind("vclick submit",function(e){e=$(e.target).closest(e.type==="vclick"?"a":"form");var a;if(e.length&&!e.jqmData("transition")){a=$.mobile.urlHistory.getActive()||{};e.attr("data-"+$.mobile.ns+"transition",a.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var f={$page:[],tabs:{tabIndex:0}},d=document.documentElement.clientWidth<=1024,e=false;finfore.tablet=d;var a=0,c=$(document).width()-150,j=0,n=0,h={scroll:{}};h.add=function(A){var C,t=A.id!=="main"&&A.id!=="portfolio",r=$($.View("//webapp/views/tab-view.tmpl",{tab:A}));f.$desktopContent.append(r);if(d){if(t){C=$('<div data-role="collapsible" data-collapsed="true" class="collapsible-company" data-theme="b"><h3>'+A.title+"</h3><ul></ul></div>");f.$tabletTabs.append(C);
C.collapsible();C.bind("collapse expand",function(){f.tabletTabsScroller.refresh()});C.bind("expand",function(){h.select(C)});$("ul",C).listview()}else{C=$('<ul data-role="listview" data-inset="true" class="panel-list"><li data-role="list-divider">'+A.title+"</li></ul>");f.$tabletTabs.append(C);C.listview()}var F=new iScroll(A.id,{vScroll:false,snap:".panel",useTransition:true,lockDirection:true});r.bind("refreshScroll",function(){F.refresh();return F});f.tabletTabsScroller.refresh()}else{C=$($.View("//webapp/views/tab-button.tmpl",
{tab:A}));$("ul",f.$tabBar).append(C);a+=200;$("ul",f.$tabBar).width(a);var H=f.tabs.tabIndex;f.tabs.tabIndex++;f.$tabBar.hasClass("ui-navbar")?$("a",C).buttonMarkup({corners:false,shadow:false}):f.$tabBar.navbar();$(".tab-close-button",C).click(finfore.companies.remove);C.click(function(){$("#tab-list-selector-menu li").eq(H).trigger("click");return false});A=$($.View("//webapp/views/tab-option.tmpl",{tab:A}));A.data("target",C);f.$tabListSelector.append(A);f.$tabListSelector.selectmenu("refresh");
h.refresh()}$.data(r[0],"selector",C);$.data(C[0],"tabView",r);return C};h.select=function(A,C){var t=$.data(A[0],"tabView");if(!d){$(".ui-btn-active",f.$tabBar).removeClass("ui-btn-active");$("a",A).addClass("ui-btn-active");var r=A.position().left,F=r+f.$tabList.position().left;A.outerWidth();if(F<0){n=0-r;f.$tabList.css({left:n})}else if(F>c-200){n=c-200-r;f.$tabList.css({left:n})}}$(".active-tab",f.$page).removeClass("active-tab");t.addClass("active-tab");if(d){var H;t.trigger("refreshScroll");
t.bind("refreshScroll",function(E){H=E.result;C&&H.scrollToElement(C[0],100)});t.find(".panel").trigger("refreshScroll");f.tabletTabsScroller.scrollToElement(A[0],100)}h.loadColumns(t)};h.loadColumns=function(A){var C,t;$(".panel",A).each(function(){C=$(this);t=C.hasClass("column-loaded");if(!t){C.trigger("refresh",[true]);C.addClass("column-loaded")}})};h.remove=function(A){var C=$("a",A).attr("href").substr(1),t=$("#"+C),r=A.prev("li"),F=$("a",r).attr("href").substr(1);$("#"+F+"-tab");$("a",A).hasClass("ui-btn-active")&&
h.select(r);A.remove();t.remove();$("option[value="+C+"-tab]",f.$tabListSelector).remove();f.$tabListSelector.selectmenu("refresh");a-=200;f.$tabList.width(a);h.refresh();if(parseInt(f.$tabList.css("left"))!=0){A=parseInt(f.$tabList.css("left"))+200;f.$tabList.css({left:A})}};h.init=function(){if(d)$("a:first",f.$tabletTabs).trigger("click");else{$("a:first",f.$tabBar).trigger("click");f.$tabListSelector=$("#tab-list-selector");f.$tabListSelector.change(function(){var A=$(this).find("option:selected").data("target");
h.select(A)});$("#tab-list-selector-button").attr("data-tooltip","Tab List").removeAttr("title").addClass("tooltip-top");h.scroll.init()}};h.sort=function(A,C){var t,r=$(C.item).attr("data-company-id");A=C.item.parent().find("li");var F=[];if(r!=="main"&&r!=="portfolio"){A.each(function(H,E){r=$(E).attr("data-company-id");if(r!=="main"&&r!=="portfolio"){t=$(E).index();F.push({_id:r,position:t})}});WebService.updateCompanies({userCompanyTabs:F})}};var q,o;h.scroll.init=function(){q=$("#tab-scroll-right");
o=$("#tab-scroll-left");f.$tabBar.css("max-width",c);f.$tabList=$("ul",f.$tabBar);q.click(function(){if(n<=j+200)n=j;else n-=200;f.$tabList.css({left:n});return false});o.click(function(){if(n>=-200)n=0;else n+=200;f.$tabList.css({left:n});return false})};h.refresh=function(){j=f.$tabBar.width()-a;if(j<0){f.$tabBar.removeClass("no-scroll");o.show();q.show()}else{f.$tabBar.addClass("no-scroll");o&&o.hide();q&&q.hide();f.$tabList.css({left:"0px"})}};var v={};v.create=function(A){var C=$('<div class="'+
A.type+' panel" id="'+(A.options.feed_account?A.options.feed_account._id:"")+'"></div>');A.options.$node=C;$.data(C[0],"data",A.options);$.data(C[0],"type",A.type);A.options.$tab=$(".tab-scroller",A.tab);C.appendTo(A.options.$tab);if(d){var t=$(".panel",A.options.$tab),r=C.first().width();t=t.length*parseInt(r);A.options.$tab.width(t);var F;if(A.options.feed_account)F=A.options.feed_account.name;t=$.data(A.tab[0],"selector");if(A.options.company){F=A.options.company.feed_info.title;if(A.type==="feed"){F=
"Company News";if(A.options.bingsearch)F="Additional News";if(A.options.blogsearch)F="News From Blogs"}if(A.type==="podcast")F="Podcasts";if(A.type==="prices")F="Prices";if(A.type==="agenda"&&!A.options.competitor)F="Calendar";if(A.type==="agenda"&&A.options.competitor)F="Competitors Calendar";if(A.type==="twitter"&&!A.options.competitor)F="Breaking News";if(A.type==="twitter"&&A.options.competitor)F="Competitors News";if(A.type==="blinkx")F="Broadcast News";t=$("ul",t)}if(A.options.portfolio){F=
A.options.portfolio.title;if(A.type==="agenda")F+=" Agenda";if(A.type==="portfolio")F+=" Stocks";if(A.type==="feed")F+=" News"}F=$("<li><a>"+F+"</a></li>");t.append(F);t.listview("refresh");var H;H=A.options.company?t.parents(".ui-collapsible:first"):t;F.click(function(){h.select(H,C)});setTimeout(function(){A.tab.trigger("refreshScroll");f.tabletTabsScroller.refresh()},100);C.bind("init",function(){var E=C.find("[data-role=content]");if(!e){var O=f.$desktopContent.height()-43,V=document.styleSheets[document.styleSheets.length-
1];V.insertRule(".panel-content-wrap { height: "+O+"px !important; }",V.cssRules.length);e=true}E.wrap('<div class="panel-content-wrap"></div>');O=C.find(".panel-content-wrap");var Y=new iScroll(O[0],{hScroll:false,hideScrollbar:true,lockDirection:true}),ka;E[0].addEventListener("DOMSubtreeModified",function(){ka&&clearTimeout(ka);ka=setTimeout(function(){Y.refresh()},1500)},false);C.bind("refreshScroll",function(){Y.refresh()})})}else C.bind("init",function(){finfore.data.user.is_public||v.sliders(C);
v.controlgroup(A)});finfore.modules[A.type].init(C,A.options);A.options.$tab.parent(".tab").hasClass("active-tab")&&h.loadColumns(A.options.$tab)};v.remove=function(A){A.options.panel.$node.remove()};v.controlgroup=function(A){var C=$("[data-role=header]:first",A.options.$node),t=A.tab.attr("id")=="main";if(finfore.data.user.is_public)t=false;t=$.View("//webapp/views/panel.controlgroup.tmpl",{editable:t});C.append(t);C.trigger("create");A.options.$node.bind("manage",function(){finfore.manage.init({target:{type:$.data(A.options.$node[0],
"type"),data:$.data(A.options.$node[0],"data")}})})};v.sliders=function(A){var C=$('<div class="panel-slider-controls"></div>'),t=$('<button data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="d">Slide Panel Left</button>'),r=$('<button data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="d">Slide Panel Right</button>');C.append(t,r);t.button();r.button();t.click(x);r.click(x);C.appendTo(A)};var x=function(){var A=$(this).parents(".panel").first(),C=A.next(".panel"),
t=A.prev(".panel"),r=A.width();if($(this).attr("data-icon")==="arrow-r"){if(C.length){C.animate({left:"-="+r},300,function(){C.css("left","auto")});A.css("z-index","99").animate({left:"+="+r},300,function(){A.css({left:"auto","z-index":"0"});A.insertAfter(C);v.sort({},{item:A})})}}else if(t.length){t.animate({left:"+="+r},300,function(){t.css("left","auto")});A.css("z-index","99").animate({left:"-="+r},300,function(){A.css({left:"auto","z-index":"0"});A.insertBefore(t);v.sort({},{item:A})})}return false};
v.sort=function(A,C){var t=[],r;C.item.parent().find(".panel").each(function(F,H){columnId=$.data(H,"data").feed_account._id;r=$(H).index();t.push({_id:columnId,position:r})});WebService.updateColumns({columns:t})};var B=function(){f.$publicSelectors=$("#public-account-selectors");f.$publicAccountSelectorBtn=$("button",f.$publicSelectors);if(d){f.$publicPage=$("#public-account-selector");f.$publicPage.page();f.$professionSelector=$("#profession",f.$publicPage);f.$geoSelector=$("#geographic",f.$publicPage);
f.$industrySelector=$("#industry",f.$publicPage);$(".public-account-selector-btn",f.$publicPage).click(function(){var A=f.$industrySelector.val()+","+f.$geoSelector.val()+","+f.$professionSelector.val();finfore.publicLogin({ids:A},function(){window.location.reload()});return false});f.$publicAccountSelectorBtn.click(function(){$.mobile.changePage(f.$publicPage,{transition:"slidedown"});return false})}else{f.$professionSelector=$("#profession",f.$publicSelectors);f.$geoSelector=$("#geographic",f.$publicSelectors);
f.$industrySelector=$("#industry",f.$publicSelectors);f.$publicAccountSelectorBtn.click(function(){var A=f.$industrySelector.val()+","+f.$geoSelector.val()+","+f.$professionSelector.val();finfore.publicLogin({ids:A},function(){window.location.reload()})})}},J=function(){var A=$("#blank-state-overlay"),C=$("#blank-state");$(".ui-header",f.$page).css("z-index","auto");$("[data-role=button]",C).button();$("form input[type=checkbox]",C).change(function(){$(this).is(":checked")?Storage.setItem("blankState",
false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",C).click(function(){C.remove();A.remove();$(".ui-header",f.$page).css("z-index","2")})},L=function(){var A=$("#main");finfore.$body.delegate(".panel-refresh","click",function(){$(this).parents(".panel:first").trigger("refresh")});A.delegate(".panel-manage","click",function(){$(this).parents(".panel:first").trigger("manage")});A.delegate(".panel-remove","click",function(){var C=$(this).parents(".panel:first"),t=$.data(C[0],"type"),
r=$("#manage-page");if(!r.length){finfore.manage.init({silentInit:true});r=$("#manage-page")}r=$("#management-tab-"+t,r);r=$(".mtabs-container",r);r=$(".mtab",r);var F=$.data(C[0],"data"),H,E;r.each(function(){E=$(this);H=$.data(E[0],"data");if(F===H){E.attr("checked","checked").trigger("change");return false}});finfore.manage.panels.remove({$node:E,category:t})})},D={$node:"",$ghost:$('<marquee scrollamount="2"></marquee>'),updateNews:function(A){if(A.screen_name){var C="http://twitter.com/"+A.from_user;
if(A.text){var t=A.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);if(t)C=t[0]}A='<a href="'+C+'" target="_blank" class="twitter-update" title="'+A.text+'">'+A.text+"</a>"}else if(A.elt||A.lt){C=A.e+":"+A.t;t="";var r=A.cp;if(r<0)t="-";else if(r>0)t="+";t=C+": "+A.l+" "+t+" "+Math.abs(r)+"%";A='<a href="http://www.google.com/finance?q='+C+'" target="_blank" class="prices-update" title="'+A.name+'">'+t+"</a>"}else A='<a href="'+A.link+'" target="_blank" class="feed-update" title="'+
A.title+'">'+(A.title||"")+"</a>";empty(D.$node[0]);D.$ghost.removeData();D.$ghost.append(A);D.$ghost.clone().appendTo(D.$node)}};D.updatePrices=D.updateNews;var G=function(){$(window).bind("orientationchange resize",function(){var A=f.$desktopContent.height()-43,C=document.styleSheets[document.styleSheets.length-1];C.insertRule(".panel-content-wrap { height: "+A+"px !important; }",C.cssRules.length);A=$(".active-tab",f.$page);C=$(".panel",A);A.trigger("refreshScroll");C.trigger("refreshScroll");
f.tabletTabsScroller.refresh()})};return{init:function(){var A=$.View("//webapp/views/desktop.tmpl",{user:finfore.data.user,focus:finfore.data.focus,blankState:finfore.data.blankState,selectedFocus:finfore.data.selectedFocus,tablet:d});$(A).appendTo(finfore.$body);f.$page=$("#desktop");$.mobile.changePage(f.$page,{changeHash:false});if(finfore.data.user){f.$tabBar=$("#tab-bar");f.$tabList=$("ul",f.$tabBar);f.$desktopContent=$("#desktop-content");if(d){f.$tabletTabsContainer=$(".tablet-tab-selector",
f.$page);f.tabletTabsScroller=new iScroll("tablet-tabs",{hScroll:false,hScrollbar:false,vScrollbar:false,useTransition:true});f.$tabletTabs=$(".tablet-tab-list",f.$tabletTabsContainer);G()}h.init();var C=h.add({id:"main",title:"Main",closable:false});f.tabs.$main=$("#main");h.add({id:"portfolio",title:"Portfolio",closable:false});f.tabs.$portfolio=$("#portfolio");f.tabs.$main.add(f.tabs.$portfolio);D.$node=$(".scrolling-ticker",f.$page);D.$node.delegate("marquee","mouseover",function(){$("marquee",
D.$node)[0].stop()});D.$node.delegate("marquee","mouseout",function(){$("marquee",D.$node)[0].start()});if(!finfore.data.user.is_public){finfore.$body.addClass("registered-user");if(!finfore.data.user.is_public&&!d){f.$panelsSortable=$("#main .tab-scroller");f.$panelsSortable.sortable({helper:"clone",handle:'[data-role="header"]',stop:v.sort});f.$tabsSortable=$("ul:first-child",f.$tabBar);f.$tabsSortable.sortable({containment:"parent",revert:true,tolerance:"pointer",stop:h.sort})}$(".logout-button",
f.$page).bind("click",function(){Storage.removeItem("user");Storage.removeItem("updateProfile");window.location.reload();return false});$("#manage-button",f.$page).click(function(){finfore.manage.init();return false});$("#profile-button",f.$page).bind("click",function(){finfore.profile.init();return false});$(".help-button",f.$page).bind("click",function(){finfore.help.init();return false});$(".add-company-button",f.$page).click(finfore.addcompany.init)}finfore.populate();setTimeout(function(){h.select(C)},
10)}if(!finfore.data.user||finfore.data.user.is_public){$("#login-button").click(function(){finfore.login.init();return false});$("#signup-button").click(function(){finfore.signup.init();return false});$("#find-company-button").click(function(){finfore.addcompany.init();return false});B()}finfore.data.blankState&&J();if(!d){$(window).bind("resize",function(){c=$(document).width()-150;f.$tabBar.css("max-width",c);h.refresh()});L()}finfore.data.updateProfile&&finfore.profile.init();if(finfore.tablet){var t=
false;f.$desktopContent.delegate('a[target="_blank"]',"click",function(){if(t)return false;else{t=true;setTimeout(function(){t=false},500);return true}})}},nodes:f,tabs:h,panels:v,ticker:D,enableManagement:function(){$("#manage-button",f.$page).removeClass("disabled")}}}();steal.loaded("webapp/core/desktop.js");
finfore.manage=function(){var f,d,e,a={saveColumn:"Successfully saved new column. ",errorSaveColumn:"Couldn't save new column. ",updateColumn:"Successfully updated the column. ",errorUpdateColumn:"Couldn't update column. Please try again later.",deleteColumn:"Successfully removed column. ",errorDeleteColumn:"Couldn't remove column. ",saveSource:"Successfully saved new source. ",errorSaveSource:"Couldn't save new source. ",deleteSource:"Successfully removed source. ",errorDeleteSource:"Couldn't removed source. ",
errorGetFriends:"Your authorization token has expired. Please revalidate your account. ",saveUser:"Successfully added new user. ",errorSaveUser:"Couldn't add new user. ",deleteUser:"Successfully unfollowed user. ",errorDeleteUser:"Couldn't unfollow user. "},c=function(o){var v=$(o.$container).find("> input[data-index]");$.each(v,function(){var x=$(this),B=parseInt(x.attr("data-index"));o.category=="portfolio"?$.data(x[0],"data",finfore.data.portfolios[B]):$.data(x[0],"data",finfore.data.panels.main[o.category][B]);
x.removeAttr("data-index");if(o.category=="twitter")h.getFriends({$node:x,category:"twitter"});else{x=x.next().next();j({$container:x,category:o.category,index:B})}})},j=function(o){var v=$("input[data-index]",o.$container);$.each(v,function(){var x=$(this),B=parseInt(x.attr("data-index"));o.category=="portfolio"?$.data(x[0],"data",finfore.data.portfolios[o.index].list[B]):$.data(x[0],"data",finfore.data.panels.main[o.category][o.index].feed_account.user_feeds[B]);x.removeAttr("data-index")})},n=
{create:function(o){var v;if(o.category=="twitter"||o.category=="linkedin"||o.category=="portfolio"){v=o.category=="portfolio"?finfore.data.portfolios.length:finfore.data.panels.main[o.category].length;window.open(finforeBaseUrl+"/feed_accounts/"+(o.category=="portfolio"?"google":o.category+"")+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+"&callback="+(finforeAppUrl+"authorize.html"),"_blank","resizable=yes,scrollbars=yes,status=yes");
window.addEventListener("message",authorized=function(B){n.authorizeListner(B,o,v)},false)}else{v=finfore.data.panels.main[o.category].length;function x(B,J,L){if(B&&L.columnTitle){$.mobile.showPageLoadingMsg();var D={name:L.columnTitle};D.category=o.category;if(o.category=="feed")D.category="rss";if(o.category=="prices")D.category="chart";if(o.category=="keyword")D.keyword_column_attributes={is_aggregate:false,follower:0,keyword:L.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts.json",type:"POST",
data:{feed_account:D,dependency:"false"},success:function(G){G={feed_account:G};if(o.category=="keyword")G.feed_account.keyword_column=D.keyword_column_attributes;n.createSuccess(o,v,G)},error:function(){$().toastmessage("showErrorToast",a.errorSaveColumn)},complete:function(){$.mobile.hidePageLoadingMsg()}})}}$.prompt('<h2>Create Column</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Column name.."></label>',
{callback:x,buttons:{Cancel:false,"Create Column":true}})}},createSuccess:function(o,v,x){$().toastmessage("showSuccessToast",a.saveColumn);x=x.feed_account;x.user_feeds=[];v=$.View("//webapp/views/manage.panels.tmpl",{panel:x,index:v,category:o.category});o.$node.append(v);o.$node.trigger("create");var B=$("input:last",o.$node);B.attr("checked","checked").trigger("change");v=B.next().next();v.find("[data-role=controlgroup] a").button();v.find("[data-role=controlgroup]").controlgroup();var J=o.$node.parents(".management-tab-panel").find(".preset-tabs");
$(".mtab-content:last",o.$node).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:B,$presets:J,category:o.category})}});o.category==="portfolio"?finfore.portfolios.create(x):finfore.panels.create({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:x}});c({$container:o.$node,category:o.category})},authorizeListner:function(o,v,x){if(finforeAppUrl.indexOf(o.origin)!=-1){o=o.data;$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+
"/feed_accounts/"+o+".json",type:"GET",success:function(B){B={feed_account:B};n.createSuccess(v,x,B)},complete:function(){$.mobile.hidePageLoadingMsg()}});window.removeEventListener("message",authorized)}},revalidate:function(o){var v,x;if(o.category=="twitter"||o.category=="linkedin"){v=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));x=finfore.data.panels.main[o.category][v];x=x.feed_account._id;window.open(finforeBaseUrl+"/feed_accounts/"+o.category+"/auth?auth_token="+finfore.data.user.single_access_token+
"&auth_secret="+finfore.data.user.persistence_token+"&feed_account_id="+x+"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(B){n.authorizeListner(B,o,v)},false)}},edit:function(o){function v(J,L,D){if(J&&D.columnTitle){J={_id:B.feed_account._id,name:D.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+J._id+".json",type:"PUT",data:{feed_account:J},success:function(G){$().toastmessage("showSuccessToast",
a.updateColumn);B.feed_account=G.feed_account},error:function(){$().toastmessage("showErrorToast",a.errorUpdateColumn)}});D=o.category==="portfolio"?D.columnUsername:D.columnTitle;$(".ui-header .ui-title",o.$node).text(D);$(".mtab-title > span",o.$node.next().next()).text(D);o.$node.next().text(D)}}var x,B;if(o.category==="portfolio"){x=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));B=finfore.data.portfolios[x]}else{x=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));
B=finfore.data.panels.main[o.category][x]}$.prompt('<h2>Edit Column Title</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="'+B.feed_account.name+'" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:v,buttons:{Cancel:false,"Update Column":true}})},remove:function(o){function v(J){if(J){$.ajax({url:finforeBaseUrl+"/feed_accounts/"+B.feed_account._id+".json",type:"DELETE",success:function(){$().toastmessage("showSuccessToast",
a.deleteColumn)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteColumn)}});o.$node.prevAll("input:first").attr("checked","checked").trigger("change");o.$node.next().remove().end().next().remove().end().remove();o.category==="portfolio"?finfore.portfolios.remove(B):finfore.panels.remove({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{panel:B,index:x}})}}var x,B;if(o.category==="portfolio"){x=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));B=finfore.data.portfolios[x]}else{x=
finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));B=finfore.data.panels.main[o.category][x]}$.prompt("<h2>Are you sure you sure you want to remove <em>"+B.feed_account.name+"</em>?</h2>",{callback:v,buttons:{Cancel:false,Remove:true}})}},h={getFriends:function(o){var v=$.data(o.$node[0],"data"),x=o.$node.next().next(),B=finfore.data.panels.main.twitter.indexOf(v);x.addClass("loading-content");$.ajax({url:finforeBaseUrl+"/tweetfores/friends.json",type:"GET",data:{feed_account_id:v.feed_account._id},
success:function(J){x.find(".list-view").empty();if(J.error){J='<div class="auth-error">'+a.errorGetFriends+'<a data-role="button" data-icon="refresh" data-inline="true" data-theme="b" class="revalidate-account">Revalidate Account</a></div>';x.find(".list-view").append(J);x.find(".list-view a").button().bind("click",function(){n.revalidate(o)});return false}v.friends=[];v.friends=$.map(J,function(L){return{_id:L.id,name:L.screen_name,feed_info:{title:L.screen_name},feed_account_id:v.feed_account._id}});
$.each(v.friends,function(L){var D=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:v.feed_account._id,source:finfore.data.panels.main.twitter[B].friends[L],index:L,category:"twitter"});x.find(".list-view").append(D);D=x.find(".list-view input:last");$.data(D[0],"data",finfore.data.panels.main.twitter[B].friends[L])})},complete:function(){x.removeClass("loading-content")}})},addCustom:function(o){function v(J,L,D){if(J&&D.sourceUsername){$.mobile.showPageLoadingMsg();D.sourceUsername=$.trim(D.sourceUsername);
$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:B,friend_id:D.sourceUsername},success:function(G){finfore.data.panels.main.twitter[x].friends.push({_id:G.id,name:G.screen_name,feed_account_id:B});var A=o.$node.nextAll("div:first");G=finfore.data.panels.main.twitter[x].friends.length-1;var C=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:B,source:finfore.data.panels.main.twitter[x].friends[G],index:G,category:"twitter"});A.find(".list-view").append(C);
finfore.data.panels.main.twitter[x].$node.trigger("reinit");A=A.find(".list-view input:last");$.data(A[0],"data",finfore.data.panels.main.twitter[x].friends[G]);$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveUser)},error:function(){$().toastmessage("showErrorToast",a.errorSaveUser)}})}}var x=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=finfore.data.panels.main[o.category][x].feed_account._id;$.prompt('<h2>Follow Twitter User</h2><label>Username <br> <input type="text" id="sourceUsername" name="sourceUsername" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',
{callback:v,buttons:{Cancel:false,"Follow User":true}})},remove:function(o){function v(G){if(G){J.attr("data-id");$.ajax({url:finforeBaseUrl+"/tweetfores/friend_remove.json",type:"POST",data:{feed_account_id:B,friend_id:D},success:function(){$().toastmessage("showSuccessToast",a.deleteUser)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteUser)}});J.prevAll("input:first").attr("checked","checked").trigger("change");J.next().remove().end().remove();finfore.data.panels.main[o.category][x].friends.splice(L,
1);finfore.data.panels.main[o.category][x].$node.trigger("reinit")}}var x=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=finfore.data.panels.main[o.category][x].feed_account._id,J=$("input:checked",o.$node.next().next()),L=finfore.data.panels.main[o.category][x].friends.indexOf($.data(J[0],"data")),D=finfore.data.panels.main[o.category][x].friends[L]._id;$.prompt("<h2>Are you sure you sure you want to stop following <em>"+finfore.data.panels.main[o.category][x].friends[L].name+
"</em>?</h2>",{callback:v,buttons:{Cancel:false,Unfollow:true}})},addPreset:function(o){var v=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),x=finfore.data.panels.main[o.category][v].feed_account._id,B=$(".preset-source:checked",o.$presets);B=$.trim(B.attr("data-address"));$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:x,friend_id:B},success:function(J){finfore.data.panels.main.twitter[v].friends.push({id:J._id,
name:J.screen_name,feed_account_id:x});var L=o.$node.nextAll("div:first");J=finfore.data.panels.main.twitter[v].friends.length-1;var D=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:x,source:finfore.data.panels.main.twitter[v].friends[J],index:J,category:"twitter"});L.find(".list-view").append(D);finfore.data.panels.main.twitter[v].$node.trigger("reinit");L=L.find(".list-view input:last");$.data(L[0],"data",finfore.data.panels.main.twitter[v].friends[J]);$().toastmessage("showSuccessToast",
a.saveUser)},error:function(){$().toastmessage("showErrorToast",a.errorSaveUser)},complete:function(){$.mobile.hidePageLoadingMsg()}})}},q=function(){$.each(finfore.modules,function(o){var v=$("#management-tab-"+o);finfore.modules[o].management&&finfore.modules[o].management(v)});d=$("#management-tabs");e=$("#management-tabs > ul");$("a",e).click(function(){var o=$(this),v=$(o.attr("href"),d);$(".management-tab-active",e).removeClass("management-tab-active");o.addClass("management-tab-active");$(".management-tab-panel-active",
d).hide().removeClass("management-tab-panel-active");v.show().addClass("management-tab-panel-active");return false});$("a:first",e).trigger("click")};return{init:function(o){Loader.show();o||(o={});if(!f){var v=$.View("//webapp/views/manage.tmpl",{modules:finfore.modules});$(v).appendTo(finfore.$body);f=$("#manage-page");q(o);f.delegate(".mtab, .preset-tab-radio","change",function(){var B=$(this).parent();$(".visible-tab",B).removeClass("visible-tab");$(this).next().next().addClass("visible-tab")});
$(".preset-tabs",f).delegate("label","click",function(){$(this).prev("input").prop("checked",true).trigger("change")});$(".preset-tabs",f).delegate("label","mousedown",function(){$(this).trigger("click")})}if(o.target&&o.target.type){$('a[href="#management-tab-'+o.target.type+'"]',e).trigger("click");v=$("#management-tab-"+o.target.type,f);v=$(".mtabs-container",v);if(o.target.data){var x;$(".mtab",v).each(function(){var B=$(this);x=$.data(B[0],"data");if(o.target.data===x){B.prop("checked",true).trigger("change");
return false}})}}o.silentInit||$.mobile.changePage(f,{transition:"slidedown"});Loader.hide()},panels:n,bindPanelData:c,sources:{addCustom:function(o){function v(J,L,D){if(J&&D.sourceTitle&&D.sourceURL){$.mobile.showPageLoadingMsg();J=o.category;if(o.category=="feed")J="rss";if(o.category=="prices")J="chart";$.ajax({url:finforeBaseUrl+"/feed_accounts/"+B+".json",type:"PUT",data:{feed_account:{_id:B,user_feeds_attributes:[{feed_info_attributes:{category:J,title:D.sourceTitle,address:D.sourceURL}}]}},
success:function(G){finfore.data.panels.main[o.category][x].feed_account=G;var A=G.user_feeds.length-1;G=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:G._id,source:finfore.data.panels.main[o.category][x].feed_account.user_feeds[A],index:A,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(G);finfore.data.panels.main[o.category][x].$node.trigger("reinit");j({$container:o.$node.parent(),category:o.category,index:x});$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",
a.saveSource)},error:function(){$().toastmessage("showErrorToast",a.errorSaveSource)}})}}var x=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=finfore.data.panels.main[o.category][x].feed_account._id;$.prompt(o.category==="twitter"?'<h2>Add Custom User</h2><input type="text" id="sourceTitle" name="sourceTitle" value="twitter" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" style="display: none"><label>Twitter Username <br> <input type="text" id="sourceURL" name="sourceURL" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>':
'<h2>Add Custom Source</h2><label>Source Title <br> <input type="text" id="sourceTitle" name="sourceTitle" value="" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label><label>Source URL <br> <input type="url" id="sourceURL" name="sourceURL" value="" placeholder="URL of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:v,buttons:{Cancel:false,"Save Source":true}})},remove:function(o){function v(D){if(D){D=
B.attr("data-id");$.ajax({url:finforeBaseUrl+"/user_feeds/"+D+".json",type:"DELETE",data:{feed_account_id:finfore.data.panels.main[o.category][x].feed_account._id},success:function(){$().toastmessage("showSuccessToast",a.deleteSource)},error:function(){$().toastmessage("showErrorToast",a.errorDeleteSource)}});B.prevAll("input:first").attr("checked","checked").trigger("change");B.next().remove().end().remove();finfore.data.panels.main[o.category][x].feed_account.user_feeds.splice(J,1);finfore.data.panels.main[o.category][x].$node.trigger("reinit")}}
var x=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=$("input:checked",o.$node.next().next()),J=finfore.data.panels.main[o.category][x].feed_account.user_feeds.indexOf($.data(B[0],"data")),L=finfore.data.panels.main[o.category][x].feed_account.user_feeds[J].feed_info.title;if(!L)L=finfore.data.panels.main[o.category][x].feed_account.user_feeds[J].name;$.prompt("<h2>Are you sure you sure you want to remove the <em>"+L+"</em> source?</h2>",{callback:v,buttons:{Cancel:false,
"Remove Source":true}})},addPreset:function(o){var v=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),x=finfore.data.panels.main[o.category][v].feed_account._id,B=$(".preset-source:checked",o.$presets);B.next("label").text();var J="";if(B.attr("data-address"))J=B.attr("data-address");$.mobile.showPageLoadingMsg();J=o.category;if(o.category=="feed")J="rss";if(o.category=="prices")J="chart";J=B.val();$.ajax({url:finforeBaseUrl+"/feed_accounts/"+x+".json",type:"PUT",data:{feed_account:{_id:x,
user_feeds_attributes:[{feed_info_id:J}]}},success:function(L){finfore.data.panels.main[o.category][v].feed_account=L;var D=L.user_feeds.length-1;L=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:L._id,source:finfore.data.panels.main[o.category][v].feed_account.user_feeds[D],index:D,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(L);finfore.data.panels.main[o.category][v].$node.trigger("reinit");j({$container:o.$node.parent(),category:o.category,index:v});
B.next().remove().end().remove();$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",a.saveSource)},error:function(){$().toastmessage("showErrorToast",a.errorSaveSource)}})}},twitter:h,messages:a,updateFeedInfos:function(o){$(o.$node).addClass("loading-content");$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",data:{category:o.category,per_page:50,page:o.count},success:function(v){finfore.data.feedInfos[o.category]=v;v=$.View("//webapp/views/manage.feed-infos.tmpl",{feeds:v,
name:o.category,type:o.type});$(".list-view",o.$node).append(v);$(o.$node).removeClass("loading-content");$(".list-view label",o.$node).draggable({revert:"invalid",helper:"clone",cursor:"move"})}})}}}();steal.loaded("webapp/core/manage.js");
finfore.login=function(){var f,d={},e=function(){var c=$(this),j=$("#login",c).val();c=$("#password",c).val();WebService.auth({username:j,password:c,complete:function(n){finfore.storeData({user:n});window.location.reload()}});return false},a=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',{callback:function(c,
j,n){c&&n.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:n.email},success:function(h){h.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},buttons:{Cancel:false,
"Send Request":true}})};return{init:function(){if($("#login-page").length){f=$("#login-page");$.mobile.changePage(f,{transition:"slidedown"})}else{var c=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(c);f=$("#login-page");$("#signup-button",f).click(finfore.signup.init);
finfore.smallScreen?$.mobile.changePage(f,{changeHash:false}):$.mobile.changePage(f,{transition:"slidedown"});f.find("form").bind("submit",e);$(".forgot-password",f).click(a);if(smallScreen){d.$publicPage=$("#public-account-selector");d.$publicPage.page();d.$professionSelector=$("#profession",d.$publicPage);d.$geoSelector=$("#geographic",d.$publicPage);d.$industrySelector=$("#industry",d.$publicPage);$(".public-account-selector-btn").click(function(){var j=d.$industrySelector.val()+","+d.$geoSelector.val()+
","+d.$professionSelector.val();finfore.publicLogin({ids:j},function(n){finfore.storeData({user:n});window.location.reload()})});$(".public-account-btn").click(function(){$.mobile.changePage(d.$publicPage,{transition:"slide"});return false})}if(finforeNative){$(".social-signin a",f).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(j){if(j.indexOf(finforeAppUrl+"socialcallback.html")==
0){window.location.href=j;window.plugins.childBrowser.close()}}}}}}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var f,d,e,a,c,j,n,h=function(v){finfore.data.user=v;Storage.setItem("user",JSON.stringify(finfore.data.user));e.hide();a.show();$.mobile.hidePageLoadingMsg()},q=function(){$.mobile.showPageLoadingMsg();var v=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:v,error:function(x){$.mobile.hidePageLoadingMsg();try{var B=JSON.parse(x.responseText)}catch(J){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}for(prop in B){x=prop;if(x=="email_work")x="Your email";if(x=="password")x="Your password";if(x!=="password_confirmation"&&x!=="login"){x="<strong>"+x+"</strong> "+B[prop][0];$().toastmessage("showToast",{text:x,sticky:true,type:"error"})}}},success:h});return false},o=function(){var v=$(this),x=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+x+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+
"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){v.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var v=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,smallScreen:finfore.smallScreen});$(v).appendTo(finfore.$body);
f=$("#signup-page");d=$("[data-role=content]",f);e=$("#signup-page1",d);a=$("#signup-page2",d);c=$(".twitter-connect-button",f);$linkedinAuthBtn=$(".linkedin-connect-button",f);j=$(".google-connect-button",f);n=$("#finish-btn");c.click(o);$linkedinAuthBtn.click(o);j.click(o);n.click(function(){window.location.reload()});$.mobile.changePage(f,{transition:"slidedown"});d.find("form").submit(q);if(finforeNative){$(".social-signin a",f).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),
{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(x){if(x.indexOf(finforeAppUrl+"socialcallback.html")==0){window.location.href=x;window.plugins.childBrowser.close()}}}}},authorizeService:o}}();steal.loaded("webapp/core/signup.js");
finfore.profile=function(){var f,d=function(){var e=$("#user_geographic",f),a=$("#user_profession",f),c=$("#user_industry",f);if(!(e.val()&&a.val()&&c.val())){$().toastmessage("showToast",{text:"Please select at least one interest in each focus area selector. ",sticky:true,position:"top-right",type:"error"});return false}Loader.show();e=$(this).serializeObject();e.id=finfore.data.user._id;WebService.updateUser({data:e,complete:function(){$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});
if(finfore.data.updateProfile){Storage.removeItem("updateProfile");window.location.reload()}$().toastmessage("showSuccessToast","Successfully updated your profile. ")}});return false};return{init:function(){if(!f){var e=$.View("//webapp/views/profile.tmpl",{user:finfore.data.user,updateProfile:finfore.data.updateProfile,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,panels:finfore.data.panels,portfolios:finfore.data.portfolios});$(e).appendTo(finfore.$body);
f=$("#profile-page");$("#close-account-btn");$("form",f).submit(d);e=$(".twitter-profile-connect",f);var a=$(".linkedin-profile-connect",f),c=$(".google-profile-connect",f);e.click(finfore.signup.authorizeService);a.click(finfore.signup.authorizeService);c.click(finfore.signup.authorizeService)}$.mobile.changePage(f)}}}();steal.loaded("webapp/core/profile.js");
finfore.addcompany=function(){var f,d,e,a=function(){var j=parseInt($(this).attr("data-index")),n=e[j]._id,h=false,q=finfore.smallScreen?finfore.desktop.nodes.$companiesPage:finfore.desktop.nodes.$page,o;$.each(finfore.data.companies,function(v,x){if(x.feed_info_id==n){o=v=$("#"+x._id,q);finfore.smallScreen||(o=$.data(v[0],"selector"));finfore.desktop.tabs.select(o);h=true;return false}});$.mobile.changePage(q,{transition:"slidedown",reverse:true});if(!h)if(finfore.data.user.is_public)finfore.companies.add([{feed_info:e[j],
_id:e[j]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:n,follower:"0",is_aggregate:true}},success:function(v){finfore.companies.add([v],true);Loader.hide()}})}},c=function(j,n){j=j.title.toLowerCase();n=n.title.toLowerCase();if(j<n)return-1;if(j>n)return 1;return 0};return{init:function(){Loader.show();f=$("#add-company-page");if(f.length){$.mobile.changePage(f,{transition:"slidedown"});Loader.hide()}else $.ajax({url:finforeBaseUrl+
"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(j){if(!f.length){j.sort(c);e=j;j=$.View("//webapp/views/addcompany.tmpl",{companies:j});$(j).appendTo(finfore.$body);f=$("#add-company-page");d=$("[data-role=content]",f)}$("ul li",d).click(a);$.mobile.changePage(f,{transition:"slidedown"});Loader.hide()}})}}}();steal.loaded("webapp/core/addcompany.js");
finfore.help=function(){var f,d={},e=function(){var a=d.$form.serialize(),c=finforeBaseUrl+"/users/contact_admin";a+="&auth_token="+finfore.data.user.single_access_token;if(!(d.$subjectField.val()&&d.$messageField.val()&&d.$nameField.val()&&d.$emailField.val())){$().toastmessage("showToast",{text:"Please fill in all the available fields. ",sticky:true,position:"top-right",type:"error"});return false}$.mobile.showPageLoadingMsg();$.ajax({url:c,type:"POST",data:a,complete:function(){$().toastmessage("showSuccessToast",
"Successfully sent message. ");$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});$.mobile.hidePageLoadingMsg()}});return false};return{init:function(){if(!f){var a=$.View("//webapp/views/help.tmpl",{});$(a).appendTo(finfore.$body);f=$(".help-page");d.$form=$("form",f);d.$subjectField=$("#subject",d.$form);d.$messageField=$("#message",d.$form);d.$nameField=$("#name",d.$form);d.$emailField=$("#email",d.$form);d.$form.submit(e)}$.mobile.changePage(f,{transition:"slidedown"})}}}();
steal.loaded("webapp/core/help.js");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('    <a data-role="button" data-icon="arrow-l" data-inline="true" class="ui-btn-left panel-back-button">Back</a>   ');c.push("   <h1>");if(typeof title!=="undefined"&&title!=null)c.push(e.encode(typeof title===
"function"?title.call(a):title));c.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))c.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
c.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)c.push(typeof content==="function"?content.call(a):content);c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_feed_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(a):smallScreen))e.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');e.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_feed_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>RSS News Management</strong>   <span>Create Rss Column, grab the hot news and filter them easily. </span>  </div>    <div class="manage-content">   <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,function(n,
h){with(this){c.push('        <input type="radio" data-role="none" class="mtab" id="feed-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="feed-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">     <label for="feed-panel-');if(typeof n!==
"undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('     </label>          <div id="feed-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&
n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=h.feed_account._id)!=="undefined"&&(feed_account_id=h.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=h.feed_account._id)==="function"?(feed_account_id=h.feed_account._id).call(a):(feed_account_id=
h.feed_account._id)));c.push("</span>       ");if(typeof h.feed_account.user_feeds!=="undefined"&&h.feed_account.user_feeds!=null)e.each(typeof h.feed_account.user_feeds==="function"?h.feed_account.user_feeds.call(a):h.feed_account.user_feeds,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="feed-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-index="');if(typeof q!=="undefined"&&q!=null)c.push(e.encode(typeof q===
"function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(a):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(a):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="feed-preset-all" name="feed-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none"/>    <label for="feed-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Feeds    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="feed-preset-suggested" name="feed-preset-tabs" class="preset-tab-radio" data-role="none"/>    <label for="feed-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Feeds    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_podcast_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_podcast_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>Podcast Management</strong>   <span>Manage your video, radio, and any multimedia regarding your business points. </span>  </div>    <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="podcast-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="podcast-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="podcast-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('     </label>          <div id="podcast-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=h.feed_account._id)!=="undefined"&&(feed_account_id=h.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=h.feed_account._id)==="function"?(feed_account_id=h.feed_account._id).call(a):(feed_account_id=
h.feed_account._id)));c.push("</span>       ");if(typeof h.feed_account.user_feeds!=="undefined"&&h.feed_account.user_feeds!=null)e.each(typeof h.feed_account.user_feeds==="function"?h.feed_account.user_feeds.call(a):h.feed_account.user_feeds,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="podcast-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-index="');if(typeof q!=="undefined"&&q!=null)c.push(e.encode(typeof q===
"function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(a):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(a):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-all" name="podcast-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="podcast-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Podcasts    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-suggested" name="podcast-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="podcast-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Podcasts    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.management.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))e.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');e.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(a):connected))e.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
e.push("")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_tweet_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push("");if(typeof tweets!=="undefined"&&tweets!=null)e.each(typeof tweets==="function"?tweets.call(a):tweets,function(n,h){with(this){c.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null&&(typeof h.screen_name==="function"?h.screen_name.call(a):
h.screen_name)){c.push("");if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(a):h.screen_name))}else{c.push("");if(typeof h.from_user!=="undefined"&&h.from_user!=null)c.push(e.encode(typeof h.from_user==="function"?h.from_user.call(a):h.from_user))}c.push("");c.push('" target="_blank">     <img src="');if(typeof h.profile_image_url!=="undefined"&&h.profile_image_url!=null)c.push(e.encode(typeof h.profile_image_url==="function"?
h.profile_image_url.call(a):h.profile_image_url));c.push('" height="48" width="48" alt="');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(a):h.screen_name));c.push('" title="');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(a):h.screen_name));c.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof h.html!=="undefined"&&
h.html!=null)c.push(typeof h.html==="function"?h.html.call(a):h.html);c.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(a):h.screen_name));c.push("/status/");if(typeof h.id_str!=="undefined"&&h.id_str!=null)c.push(e.encode(typeof h.id_str==="function"?h.id_str.call(a):h.id_str));c.push('" title="View tweet on Twitter" target="_blank">      ');
if(typeof h.created_at!=="undefined"&&h.created_at!=null)c.push(e.encode(typeof h.created_at==="function"?h.created_at.call(a):h.created_at));c.push("     </a>    </span>   </li>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_twitter_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>Twitters And Suggestions Management</strong>   <span>Manage your twitter accounts and suggestions list easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):
panels,function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="twitter-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="twitter-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="twitter-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('     </label>          <div id="twitter-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Follow Custom User</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Unfollow User</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push("</span>              ");if("boolean"!=="undefined"&&1&&("boolean"==="function"?false.call(a):false)){c.push('       <a href="http://twitter.com/');if(typeof h.feed_account.account!=="undefined"&&h.feed_account.account!=null)c.push(e.encode(typeof h.feed_account.account==="function"?h.feed_account.account.call(a):h.feed_account.account));
c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof h.feed_account.account!=="undefined"&&h.feed_account.account!=null)c.push(e.encode(typeof h.feed_account.account==="function"?h.feed_account.account.call(a):h.feed_account.account));c.push("</a>       ")}c.push('             </div>      <div class="list-view"></div>     </div>    ')}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset User</a>    </div>      <input type="radio" data-native="true" id="twitter-preset-all" name="twitter-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="twitter-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Users    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="twitter-preset-suggested" name="twitter-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="twitter-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Users    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_prices_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_prices_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>Prices Management</strong>   <span>Create Prices Column, grab the hot news and filter them easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,
function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="prices-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="prices-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="prices-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('     </label>          <div id="prices-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('</span>      </div>      <div class="list-view">       ');if(typeof h.feed_account.user_feeds!=="undefined"&&h.feed_account.user_feeds!=null)e.each(typeof h.feed_account.user_feeds==="function"?h.feed_account.user_feeds.call(a):h.feed_account.user_feeds,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="prices-sources-');
if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(a):o.feed_account_id));c.push('" id="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(a):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-id="');if(typeof o._id!==
"undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('" data-index="');if(typeof q!=="undefined"&&q!=null)c.push(e.encode(typeof q==="function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?
o.feed_account_id.call(a):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(a):o._id));c.push('">');if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null&&(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(a):o.feed_info.title))}else{c.push(" ");
if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?o.name.call(a):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="prices-preset-all" name="prices-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="prices-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Prices    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="prices-preset-suggested" name="prices-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="prices-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Prices    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_portfolio_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_portfolio_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>Portfolio Management</strong>   <span>Collections of positions that the user holds in various securities, plus metadata, using Google Finance </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof portfolios!=="undefined"&&portfolios!=null)e.each(typeof portfolios===
"function"?portfolios.call(a):portfolios,function(n,h){with(this){c.push('     <input type="radio" data-native="true" class="mtab" id="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="portfolio-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):
n));c.push('" data-role="none">     <label for="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('     </label>          <div id="portfolio-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?
n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">            <span>');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('</span>      </div>            <em class="extra-details">Portfolios available in your Google Account</em>            <span style="display: none">');
if(typeof(feed_account_id=h.feed_account._id)!=="undefined"&&(feed_account_id=h.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=h.feed_account._id)==="function"?(feed_account_id=h.feed_account._id).call(a):(feed_account_id=h.feed_account._id)));c.push('</span>      <div class="list-view">       ');if(typeof h.list!=="undefined"&&h.list!=null)e.each(typeof h.list==="function"?h.list.call(a):h.list,function(q,o){with(this){c.push('        <input type="radio" data-native="true" name="portfolio-sources-');
if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(a):feed_account_id));c.push('" id="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(a):o.id_bare));c.push('" data-id="');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(a):o.id_bare));c.push('" data-index="');if(typeof q!=="undefined"&&
q!=null)c.push(e.encode(typeof q==="function"?q.call(a):q));c.push('" ');if(typeof(q==0)!=="undefined"&&q==0!=null&&(typeof(q==0)==="function"?(q==0).call(a):q==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(a):o.id_bare));c.push('">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(a):o.title));
c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>      <div class="module-details">       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-portfolio">Add Portfolio</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-portfolio">Edit Portfolio</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-portfolio">Delete Portfolio</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_agenda_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<div class="events-months-container"></div>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_linkedin_tmpl",function(d){return function(e,a){e=[];var c=a.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(a):!connected))e.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');e.push("  <ul></ul>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_linkedin_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>LinkedIn Management</strong>   <span>Get the latest business news from LinkedIn and manage it. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,
function(n,h){with(this){c.push('       <input type="radio" data-native="true" class="mtab" id="linkedin-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="linkedin-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="linkedin-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push("     </label>       ")}});c.push('       </div>      <div class="linkedin-management-details ui-body-c">        <p>You can add a new <strong>LinkedIn</strong> column using the <strong>Add Column</strong> button in the left side of the footer. </p>     </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_blinkx_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_keyword_management_tmpl",function(d){return function(e,a){var c=[],j=a.data;with(j){c.push('<div class="ui-header ui-bar-b">   <strong>Keywords Management</strong>   <span>Manage your keywords. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(a):panels,function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="keyword-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" name="keyword-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" data-role="none">     <label for="keyword-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-selector">      ');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('     </label>          <div id="keyword-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(a):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(a):h.feed_account.name));c.push('</span>           </div>      <div class="keyword-panel-settings">              <div data-role="fieldcontain">        <label for="keyword-text-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">Keyword</label>               <input type="text" class="keyword-text" id="keyword-text-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" value="');if(typeof h.feed_account.keyword_column.keyword!=="undefined"&&h.feed_account.keyword_column.keyword!=null)c.push(e.encode(typeof h.feed_account.keyword_column.keyword==="function"?h.feed_account.keyword_column.keyword.call(a):h.feed_account.keyword_column.keyword));c.push('"/>       </div>                   <!--       <div data-role="fieldcontain">        <label for="keyword-followers-');if(typeof n!==
"undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">Number of followers</label>        <select class="keyword-followers" id="keyword-followers-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">         <option value="0" ');if(typeof(h.feed_account.keyword_column.follower==0)!=="undefined"&&h.feed_account.keyword_column.follower==0!=null&&(typeof(h.feed_account.keyword_column.follower==0)==="function"?(h.feed_account.keyword_column.follower==
0).call(a):h.feed_account.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>         <option value="100" ');if(typeof(h.feed_account.keyword_column.follower==100)!=="undefined"&&h.feed_account.keyword_column.follower==100!=null&&(typeof(h.feed_account.keyword_column.follower==100)==="function"?(h.feed_account.keyword_column.follower==100).call(a):h.feed_account.keyword_column.follower==100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>         <option value="1000" ');
if(typeof(h.feed_account.keyword_column.follower==1E3)!=="undefined"&&h.feed_account.keyword_column.follower==1E3!=null&&(typeof(h.feed_account.keyword_column.follower==1E3)==="function"?(h.feed_account.keyword_column.follower==1E3).call(a):h.feed_account.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>        </select>             </div>              <div data-role="fieldcontain">             <fieldset data-role="controlgroup">         <legend>&nbsp;</legend>         <input type="checkbox" id="keyword-aggregate-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('" class="keyword-aggregate" ');if(typeof h.feed_account.keyword_column.is_aggregate!=="undefined"&&h.feed_account.keyword_column.is_aggregate!=null&&(typeof h.feed_account.keyword_column.is_aggregate==="function"?h.feed_account.keyword_column.is_aggregate.call(a):h.feed_account.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>         <label for="keyword-aggregate-');if(typeof n!=="undefined"&&
n!=null)c.push(e.encode(typeof n==="function"?n.call(a):n));c.push('">Is aggregate</label>        </fieldset>             </div>       --\>              <div data-role="fieldcontain" class="keyword-save-container">        <button class="keyword-save">Save Column</button>       </div>              <div class="keyword-help">        <strong>Add Keyword Searches using Twitter.</strong>                      <div class="keyword-example">         <strong>Example:</strong>         <p>          <strong>HSBC shares</strong> will find tweets that contain <strong>both</strong> <em>HSBC</em> and <em>shares</em> <br>          <strong>"US economy"</strong> will find tweets containing the <strong>exact phrase</strong> <em>US economy</em> <br>          <strong>$AAPL OR $GOOG</strong> will find tweets containing <strong>either</strong> <em>$AAPL</em> or <em>$GOOG</em>         </p>        </div>       </div>             </div>     </div>    ')}});
c.push('       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.management.tmpl");steal("jquery/view/tmpl").then(function(f){f.View.preload("webapp_views_module_keyword_tmpl",function(d){return function(e,a){e=[];a=a.data;with(a)e.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var f=function(e){var a=e.sources.slice(0);if(e.bingsearch&&e.limit>15){a[0]+="&news.offset=";a[0]+=e.limit*1-14}feedReader.get({callbackId:e.callbackId,sources:a,limit:e.limit,complete:function(c){if(!e.bingsearch&&e.loadMore===true&&e.limit>15)c=c.slice(e.limit-15,e.limit);var j="",n=c.length-1;$.each(c,function(h){if(e.loadMore===true||this.pubDate>e.date){j+=h===n?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';if(finfore.smallScreen){j+=
"<a><abbr>"+this.source+"</abbr>";j+="<h3>"+this.title+"</h3>";j+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";j+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{j+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";j+="<h3>"+this.title+"</h3>";j+="<p>"+this.description+"</p>";j+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";j+="</a>"}j+="</li>";if(!e.company||!finfore.smallScreen)this.pubDate>finfore.ticker.date&&finfore.ticker.updateNews(this)}});
c=$(".load-more-entries",e.$container).parents("li").first();$(j).insertBefore(c);c=$("[data-role=content] ul",e.$container);c.jqmData("listview")?c.listview("refresh"):c.listview();e.$container.removeClass("panel-loading")}})},d=function(e,a){var c=0,j=[];if(a.company){var n;if(a.blogsearch)n="http://www.google.com/search?hl=en&q="+$.URLEncode(a.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(a.bingsearch){a.company.feed_info.company_competitor.bing_keyword=
a.company.feed_info.company_competitor.bing_keyword.replace(","," OR ");n="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(a.company.feed_info.company_competitor.bing_keyword)+"&news.count=15"}else n="http://www.google.com/finance/company_news?q="+a.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";j=[n]}if(a.portfolio&&a.portfolio.overview.rss.chanel.item)if($.isArray(a.portfolio.overview.rss.chanel.item))$.each(a.portfolio.overview.rss.chanel.item,
function(){j.push("http://www.google.com/finance/company_news?q="+this.google_ticker+"&authuser=0&output=rss")});else j=["http://www.google.com/finance/company_news?q="+a.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(a.feed_account&&!a.portfolio)j=$.map(a.feed_account.user_feeds,function(q){return q.feed_info.address});var h=function(q,o){e.addClass("panel-loading");if(o===true)c+=15;var v;if(a.feed_account)v=a.feed_account._id;else if(a.company){v=a.company._id;if(a.blogsearch)v+=
"blogsearch";if(a.bingsearch)v+="bingsearch"}f({sources:j,$container:e,date:new Date,loadMore:o,limit:c,blogsearch:a.blogsearch,bingsearch:a.bingsearch,callbackId:v})};(function(){$(document).height();if(a.feed_account)var q=a.feed_account.name;if(a.portfolio)q=a.portfolio.title;if(a.company){q="Company News";if(a.blogsearch)q="News from Blogs";if(a.bingsearch)q="Additional News"}var o=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});q=$.View("//webapp/views/module.tmpl",
{title:q,smallScreen:finfore.smallScreen,content:o});$(q).appendTo(e);e.bind("refresh",h);e.bind("reinit",function(){clearInterval(v);e.unbind();e.empty();e.jqmRemoveData();d(e,a)});$(".load-more-entries",e).click(function(x){e.trigger("refresh",[true]);x.preventDefault();return false});if(!finfore.smallScreen)var v=setInterval(h,3E5);e.page();e.trigger("init")})()};return{init:d,management:function(e){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var a=$.View("//webapp/views/module.feed.management.tmpl",
{panels:finfore.data.panels.main.feed});$(a).appendTo(e);var c=$(".mtabs-container",e);finfore.manage.bindPanelData({$container:c,category:"feed"});$(".edit-column-title",e).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",c),category:"feed"})});$(".add-column",e).click(function(){finfore.manage.panels.create({$node:c,category:"feed"})});$(".remove-column",e).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",c),category:"feed"})});$(".add-preset-source",e).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",c),$presets:$(".preset-tabs",e),category:"feed"})});$(".mtab-content",c).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
c),$presets:$(".preset-tabs",e),category:"feed"})}});var j=allCount=0,n=$(".preset-sources-suggested",e);a=$(".load-more",n);var h=$(".preset-sources-all",e),q=$(".load-more",h),o=function(){j++;finfore.manage.updateFeedInfos({$node:n,type:"feed",category:"rss",count:j});return false},v=function(){allCount++;finfore.manage.updateFeedInfos({$node:h,type:"feed",category:"all,rss",count:allCount});return false};a.click(o);q.click(v);o();v()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var f=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],d=function(a){feedReader.get({callbackId:a.callbackId,sources:a.sources,limit:a.limit,complete:function(c){if(a.loadMore===true&&a.limit>5)c=c.slice(a.limit-15,a.limit);var j="",n=c.length-1,h;$.each(c,function(v){h="";if(this.link)h=this.link;else if(this.enclosure)h=this.enclosure.url;if((a.loadMore===true||this.pubDate>a.date)&&h){j+=v===n?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';v=h.split(".").pop();j+="<abbr>"+this.source+"</abbr>";j+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";j+=$.inArray(v,f)===0?'<video src="'+h+'" width="270" height="150" controls="controls" type="video/'+v+'" preload="none"></video>':'<audio src="'+h+'" controls="controls" type="audio/'+v+'" preload="none"></audio>';j+="<p>"+this.description+"</p>";j+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";j+="</li>"}});c=$(".load-more-entries",a.$container).parents("li").first();
var q=$(j),o=$("[data-role=content] ul",a.$container);q.insertBefore(c);o.jqmData("listview")?o.listview("refresh"):o.listview();$("video, audio",q).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});a.$container.removeClass("panel-loading")}})},e=function(a,c){var j=0,n=[];n=$.map(c.feed_account.user_feeds,function(q){return q.feed_info.address});var h=function(q,o){a.addClass("panel-loading");if(o===true)j+=15;d({sources:n,$container:a,date:new Date,loadMore:o,limit:j,callbackId:c.feed_account._id})};
(function(){$(document).height();var q=$.View("//webapp/views/module.podcast.tmpl",{});q=$.View("//webapp/views/module.tmpl",{title:c.feed_account.name,smallScreen:finfore.smallScreen,content:q});$(q).appendTo(a);$(".load-more-entries",a).click(function(v){a.trigger("refresh",[true]);v.preventDefault();return false});a.bind("refresh",h);a.bind("reinit",function(){clearInterval(o);a.unbind();a.empty();a.jqmRemoveData();e(a,c)});if(!finfore.smallScreen)var o=setInterval(h,3E5);a.page();a.trigger("init")})()};
return{init:e,management:function(a){finfore.data.panels.main.podcast||(finfore.data.panels.main.podcast=[]);var c=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(c).appendTo(a);var j=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:j,category:"podcast"});finfore.manage.bindPanelData({$container:j,category:"podcast"});$(".edit-column-title",a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",j),category:"podcast"})});
$(".add-column",a).click(function(){finfore.manage.panels.create({$node:j,category:"podcast"})});$(".remove-column",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",j),category:"podcast"})});j.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",j),category:"podcast"})});j.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",j),category:"podcast"})});$(".add-preset-source",
a).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",j),$presets:$(".preset-tabs",a),category:"podcast"})});$(".mtab-content",j).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",j),$presets:$(".preset-tabs",a),category:"podcast"})}});var n=allCount=0,h=$(".preset-sources-suggested",a);c=$(".load-more",h);var q=$(".preset-sources-all",a),o=$(".load-more",q),v=function(){n++;finfore.manage.updateFeedInfos({$node:h,
type:"podcast",category:"podcast",count:n});return false},x=function(){allCount++;finfore.manage.updateFeedInfos({$node:q,type:"podcast",category:"all,podcast",count:allCount});return false};c.click(v);o.click(x);v();x()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var f=function(d,e){var a,c=20,j,n,h,q,o=function(B){empty(n[0]);d.removeClass("panel-loading");if(B.results)B=B.results;$.each(B,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});a=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:B});n.append(a);B&&$.each(B,function(){var J=new Date(this.created_at);e.company&&finfore.smallScreen||J>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},v=function(B){d.addClass("panel-loading");if(B===true)c+=5;n.removeData();if(e.company){n.unbind("load");B=e.competitor?e.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):e.company.feed_info.company_competitor.company_ticker+" OR "+e.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:B,rpp:c},success:o})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:e.feed_account._id,count:c},success:o})},x=function(){var B,J,L=false;if(e.company){J="Breaking News";if(e.competitor)J="Competitors News"}if(!e.company){J=e.feed_account.name;L=!e.feed_account.feed_token||!e.feed_account.feed_token.token}var D=$.View("//webapp/views/module.twitter.tmpl",{connected:!L});J=$.View("//webapp/views/module.tmpl",{title:J,smallScreen:finfore.smallScreen,
content:D});$(J).appendTo(d);j=$("[data-role=content]",d);n=$(".tweets",j);h=$(".load-more-tweets",j);q=$(".twitter-connect-button",d);d.addClass("panel-loading");if(L){v();var G=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+e.feed_account._id;q.click(function(){q.hide();d.addClass("panel-loading");var A=window.open(G,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),C=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:e.feed_account.id,user_id:e.feed_account.user_id}},success:function(t){if(t.feed_token&&t.feed_token.token){e.feed_account.feed_token=t.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();x()}else if(A.closed){q.show();d.removeClass("panel-loading")}else setTimeout(C,1E4)}})};C();return false})}else finfore.smallScreen||(B=setInterval(v,3E5));h.click(function(){d.trigger("refresh",[true])});d.page();d.bind("refresh",v);d.bind("reinit",function(){clearInterval(B);
d.unbind();d.empty();d.jqmRemoveData();f(d,e)});d.trigger("init")};x()};return{init:f,management:function(d){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var e=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"twitter"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"twitter"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"twitter"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",a),category:"twitter"})});a.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",a),category:"twitter"})});$(".add-preset-source",
d).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"twitter"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"twitter"})}});var c=allCount=0,j=$(".preset-sources-suggested",d);e=$(".load-more",j);var n=$(".preset-sources-all",d),h=$(".load-more",n),q=function(){c++;finfore.manage.updateFeedInfos({$node:j,
type:"twitter",category:"twitter",count:c});return false},o=function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"twitter",category:"all,twitter",count:allCount});return false};e.click(q);h.click(o);q();o()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var f=function(d,e){var a,c=a;e.company||$.map(e.feed_account.user_feeds,function(o){return o.feed_info_id});var j=10;c=j;var n=function(o){var v="",x;if(e.company){o=e.company.feed_info.company_competitor.company_ticker+",";x=e.company.feed_info.company_competitor.company_ticker;o+=e.company.feed_info.company_competitor.competitor_ticker;v=o}else if(e.feed_account.user_feeds[0]){o=e.feed_account.user_feeds[0].feed_info.price_tickers;$.each(o,function(B,J){v+=J.ticker+
","})}if(!v)return false;v=v.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+v,dataType:"jsonp",success:function(B){var J="",L=[];$.each(B,function(D,G){D=G.e+":"+G.t;var A=G.name,C='<a href="http://www.google.com/finance?q='+D+'" target="_blank">';G.c=parseFloat(G.c);G.cp=parseFloat(G.cp);e.company&&finfore.smallScreen||Math.abs(G.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(G);var t=G.l,r=G.c;G=G.cp;if(A){A=C+A+"</a>";if(!finfore.smallScreen){t=
C+t+"</a>";r=C+r+"</a>";G=C+G+"</a>"}J+='<tr class="ui-btn-up-c">';J+="<td>"+A+"</td>";J+="<td>"+t+"</td>";J+=r<0?'<td class="negative nowrap">'+r+"</a></td>":'<td class="nowrap">'+r+"</a></td>";J+=G<0?'<td class="negative nowrap">'+G+"</a></td>":'<td class="nowrap">'+G+"</a></td>";J+="</tr>"}L.push({stock:D,price:t*1})});$(J).appendTo($("tbody",d));if(e.company){L.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
x+"&amp;lcId=1302290366141&amp;compareTo="+L[0].stock+"%3B"+L[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+x+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(d.find("[data-role=content]"))}},complete:function(){d.removeClass("panel-loading")}})},h=function(){d.addClass("panel-loading");n()},q=function(){c=j=10;$(".ui-content table tbody",d).empty();$(".ui-content > embed, .ui-content > img",d).remove();h()};(function(){$(document).height();var o=e.company?"Prices":e.feed_account.name;if(!d||!d.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var v=$.View("//webapp/views/module.prices.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:o,smallScreen:finfore.smallScreen,content:v});$(o).appendTo(d);if(!finfore.smallScreen)var x=setInterval(q,3E5);d.page();d.bind("refresh",q);d.bind("reinit",function(){clearInterval(x);d.unbind();d.empty();d.jqmRemoveData();f(d,e)});d.trigger("init")}})()};return{init:f,management:function(d){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var e=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"prices"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"prices"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"prices"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",a),category:"prices"})});a.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",a),category:"prices"})});$(".add-preset-source",d).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",a),$presets:$(".preset-tabs",d),category:"prices"})});$(".mtab-content",a).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
a),$presets:$(".preset-tabs",d),category:"prices"})}});var c=allCount=0,j=$(".preset-sources-suggested",d);e=$(".load-more",j);var n=$(".preset-sources-all",d),h=$(".load-more",n),q=function(){c++;finfore.manage.updateFeedInfos({$node:j,type:"prices",category:"chart",count:c});return false},o=function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"prices",category:"all,chart",count:allCount});return false};e.click(q);h.click(o);q();o()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(f,d){var e,a=e,c=10;a=c;var j=function(){f.addClass("panel-loading");var h="";if(d.portfolio.overview.rss.chanel.item){h="";if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(q,o){if(this.google_ticker)h+=o.google_ticker+","});else h=d.portfolio.overview.rss.chanel.item.google_ticker;h=h.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+h,dataType:"jsonp",
success:function(q){var o="";$.each(q,function(v,x){v=x.name;var B='<a href="http://www.google.com/finance?q='+(x.e+":"+x.t)+'" target="_blank">',J=x.l,L=parseFloat(x.c);x=parseFloat(x.cp);if(v){v=B+v+"</a>";if(!finfore.smallScreen){J=B+J+"</a>";L=B+L+"</a>";x=B+x+"</a>"}o+='<tr class="ui-btn-up-c">';o+="<td>"+v+"</td>";o+="<td>"+J+"</td>";o+=L<0?'<td class="negative nowrap">'+L+"</a></td>":'<td class="nowrap">'+L+"</a></td>";o+=x<0?'<td class="negative nowrap">'+x+"</a></td>":'<td class="nowrap">'+
x+"</a></td>";o+="</tr>"}});$(o).appendTo($("tbody",f));f.removeClass("panel-loading")},complete:function(){f.removeClass("panel-loading")}})}else f.remove()},n=function(){a=c=10;empty($("[data-role=content] tbody",f)[0]);j()};(function(){var h=$.View("//webapp/views/module.portfolio.tmpl",{});h=$.View("//webapp/views/module.tmpl",{title:d.portfolio.title,smallScreen:finfore.smallScreen,content:h});$(h).appendTo(f);finfore.smallScreen||setInterval(n,3E5);f.page();f.bind("refresh",n);f.trigger("init")})()},
management:function(f){var d=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(d).appendTo(f);var e=$(".mtabs-container",f);finfore.manage.bindPanelData({$container:e,category:"portfolio"});$(".edit-portfolio",f).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"portfolio"})});$(".add-portfolio",f).click(function(){finfore.manage.panels.create({$node:e,category:"portfolio"})});$(".remove-portfolio",f).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
e),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(f,d){var e=function(c){c.$container.addClass("panel-loading");var j="",n;if(d.company){n=d.company._id;if(d.competitor){j=d.company.feed_info.company_competitor.competitor_ticker;n+="competitor"}else j=d.company.feed_info.company_competitor.company_ticker}else{if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)j+=this.google_ticker+","});else if(d.portfolio.overview.rss.chanel.item)j=
d.portfolio.overview.rss.chanel.item.google_ticker;n=d.portfolio.id_bare}if(!j)return false;j=j.replace(/\s/g,"");var h='select * from json where url="http://www.google.com/finance/events?output=json&q='+j+'"';n="agendaModuleCallback"+n;window[n]=function(q){agendaCalendarCallback(q,c)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:n,cache:true,data:{q:h,format:"json",_maxage:300,diagnostics:false}})},a=function(){empty($("[data-role=content] .events-months-container",
f)[0]);e({$container:f})};(function(){$(document).height();if(d.company){var c="Calendar";if(d.competitor)c="Competitors Calendar"}else c=d.portfolio?d.portfolio.title:d.feed_account.name;var j=$.View("//webapp/views/module.agenda.tmpl",{});c=$.View("//webapp/views/module.tmpl",{title:c,smallScreen:finfore.smallScreen,content:j});$(c).appendTo(f);finfore.smallScreen||setInterval(a,3E5);f.page();f.bind("refresh",a);f.trigger("init")})()}}}();
var agendaCalendarCallback=function(f,d){var e="",a="",c=[],j=new Date,n;if(f.query.results)c=f.query.results.json.events;if($.isArray(c)&&c.length){c=c.reverse();$.each(c,function(){n=new Date(this.LocalizedInfo.start_date);n.setHours(0);if(n>=j){var h=this.LocalizedInfo.start_date,q=this.desc,o=/^[A-Za-z]{3}/.exec(h),v=/[0-9]{4}$/.exec(h);if(o!=null)f=o[0];if(v!=null)result_year=v[0];if(e!=f)if(e==""){e=f;a+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+
e+" "+result_year+"</td></tr></thead><tbody>"}else{e=f;a+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+e+" "+result_year+"</td></tr></thead><tbody>"}a+='<tr class="ui-btn-up-c">';a+="<td>"+h+", ";a+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";a+="</td><td>"+q+"</td>";a+="</tr>"}})}a||(a='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');
$(a).appendTo($(".events-months-container",d.$container));d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var f=function(d,e){var a,c,j=function(){d.addClass("panel-loading");empty(a[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:e.feed_account.feed_token._id,count:25},success:function(h){var q="",o,v,x,B,J,L,D,G,A,C=new Date;if(h&&h.length)$.each(h,function(t,r){if(r.updateContent.person.id!="private"){D=r.timestamp;C.setTime(D*1);q+='<li class="ui-li ui-btn-up-c">';o=r.updateContent.person.firstName+" "+r.updateContent.person.lastName;
v=r.updateContent.person.apiStandardProfileRequest.url;if(L=r.updateContent.person.pictureUrl)q+='<a href="'+v+'" target="_blank"><img src="'+L+'" width="80" height="80" /></a>';if(r.updateContent.person.connections){x=r.updateContent.person.connections.person.firstName+" "+r.updateContent.person.connections.person.lastName;J=r.updateContent.person.connections.person.apiStandardProfileRequest.url;q+='<p><a href="'+v+'" target="_blank" class="user">'+o+'</a> connected with <a href="'+J+'" class="connection" target="_blank">'+
x+"</a></p>"}else if(r.updateContent.person.currentShare){if(r.updateContent.person.currentShare.comment){B=$.linkUrl(r.updateContent.person.currentShare.comment);q+='<p><a href="'+v+'" target="_blank" class="user">'+o+"</a> "+B+"</p>"}if(r.updateContent.person.currentShare.content){G=r.updateContent.person.currentShare.content.title;A=r.updateContent.person.currentShare.content.submittedUrl;q+='<p><a href="'+A+'" target="_blank" class="user">'+G+"</a></p>"}}q+="<time>"+C.toUTCString()+"</time>";
q+="</li>"}});else q='<li class="ui-li ui-btn-up-d">No LinkedIn events</li>';$(q).appendTo(a);d.removeClass("panel-loading")}})},n=function(){var h,q=!e.feed_account.feed_token||!e.feed_account.feed_token.token,o=$.View("//webapp/views/module.linkedin.tmpl",{connected:!q});o=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:o});$(o).appendTo(d);d.page();d.bind("refresh",j);d.bind("reinit",function(){clearInterval(h);d.unbind();d.empty();d.jqmRemoveData();
f(d,e)});a=$("[data-role=content] ul",d);c=$(".linkedin-connect-button",d);if(q){var v=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+e.feed_account._id+"&callback="+finforeAppUrl+"authorize.html";c.click(function(){c.hide();d.addClass("panel-loading");var x=window.open(v,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),B=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:e.feed_account.id,
user_id:e.feed_account.user_id}},success:function(J){if(J.feed_token&&J.feed_token.token){e.feed_account.feed_token=J.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();n()}else if(x.closed){c.show();d.removeClass("panel-loading")}else setTimeout(B,1E4)}})};B();return false})}else finfore.smallScreen||(h=setInterval(j,3E5));d.trigger("init")};n()};return{init:f,management:function(d){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);var e=$.View("//webapp/views/module.linkedin.management.tmpl",
{panels:finfore.data.panels.main.linkedin});$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"linkedin"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"linkedin"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"linkedin"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"linkedin"})})}}}();
steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var f=function(e){e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/"/g,"");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/&/g,"");e.company.feed_info.company_competitor.broadcast_keyword=escape(e.company.feed_info.company_competitor.broadcast_keyword);
var a="select * from xml where url='"+("http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text=%22"+e.company.feed_info.company_competitor.broadcast_keyword+"%22&start="+e.start+"&MaxResults="+e.end+"&sortby=date&AdultFilter=true&ReturnLink=true")+"'",c="blinkxModuleCallback"+e.company._id;window[c]=function(j){blinkxCallback(j,e)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:c,cache:true,data:{q:a,format:"json",_maxage:300,diagnostics:false}})},d=function(e,
a){var c=0,j=0,n=function(h,q){e.addClass("panel-loading");if(q===true){c=j+1;j+=20;f({start:c,end:j,date:new Date,loadMore:q,company:a.company,$container:e})}else f({start:1,end:j,date:new Date,loadMore:q,company:a.company,$container:e})};(function(){$(document).height();var h=$.View("//webapp/views/module.blinkx.tmpl",{});h=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:h});$(h).appendTo(e);$(".load-more-entries",e).click(function(o){e.trigger("refresh",
[true]);o.preventDefault();return false});e.bind("refresh",n);e.bind("reinit",function(){clearInterval(q);e.unbind();e.empty();e.jqmRemoveData();d(e,a)});if(!finfore.smallScreen)var q=setInterval(n,3E5);e.page();e.trigger("init")})()};return{init:d}}();
var blinkxCallback=function(f,d){var e=[],a,c,j,n,h,q,o,v,x,B;if(f.query.results&&f.query.results.response.responsedata)e=f.query.results.response.responsedata.hit;if(e){j=e.length-1;$.each(e,function(J){a=this;n=a.date;h=a.title;q=a.channel;o=a.summary;v=a.staticpreview;x=a.url;B=new Date(n*1E3);if(finfore.smallScreen||finfore.tablet)x=x.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(d.loadMore===true||B>d.date){c+=J===j?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
c+='<a href="'+x+'" target="_blank"><abbr>'+q+"</abbr>";c+="<h3>"+h+"</h3>";c+='<img src="'+v+'" />';c+="<p>"+o.substring(0,100)+"..</p>";c+="<abbr>"+B.toUTCString()+"</abbr>";c+="</a></li>"}});f=$(".load-more-entries",d.$container).parents("li").first();$(c).insertBefore(f);$("[data-role=content] ul",d.$container).listview("refresh")}d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var f=function(d,e){var a=15,c,j,n,h=function(o){empty(j[0]);d.removeClass("panel-loading");if(o.results)o=o.results;$.each(o,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:o});j.append(tweetTemplate);o&&$.each(o,function(){var v=new Date(this.created_at);e.company&&finfore.smallScreen||v>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},q=function(o){d.addClass("panel-loading");if(o===true)a+=5;j.removeData();o=e.feed_account.keyword_column.keyword;if(!o){d.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:o,rpp:a},success:h})};(function(){var o,v=e.feed_account.name,x=$.View("//webapp/views/module.keyword.tmpl",{});v=$.View("//webapp/views/module.tmpl",{title:v,smallScreen:finfore.smallScreen,content:x});$(v).appendTo(d);d.bind("refresh",
q);d.bind("reinit",function(){clearInterval(o);d.unbind();d.empty();d.jqmRemoveData();f(d,e)});c=$("[data-role=content]",d);j=$(".tweets",c);n=$(".load-more-tweets",c);d.addClass("panel-loading");n.click(function(){d.trigger("refresh",[true])});d.page();finfore.smallScreen||(o=setInterval(q,3E5));d.trigger("init")})()};return{init:f,management:function(d){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var e=$.View("//webapp/views/module.keyword.management.tmpl",{panels:finfore.data.panels.main.keyword});
$(e).appendTo(d);var a=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:a,category:"keyword"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",a),category:"keyword"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:a,category:"keyword"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",a),category:"keyword"})});a.delegate(".keyword-save","click",function(){var c=$(this).parents(".keyword-panel-settings:first"),
j=c.parents(".mtab-content:first").prevAll(".mtab:first"),n=$.data(j[0],"data").feed_account,h=$(".keyword-text",c).val(),q=$(".keyword-followers",c).val(),o=false;if($(".keyword-aggregate",c).is(":checked"))o=true;c={_id:n._id,keyword_column_attributes:{is_aggregate:o,follower:q,keyword:h,_id:n.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+c._id+".json",type:"PUT",data:{feed_account:c},success:function(v){$().toastmessage("showSuccessToast",finfore.manage.messages.updateColumn);
$.data(j[0],"data",{feed_account:v})},error:function(){$().toastmessage("showErrorToast",finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
